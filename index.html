<!DOCTYPE html>
<html lang="en">

<head>
    <!-- 
        作者：ICAN
        开始时间：20231007
        结束时间：20231019
        邮箱：1873063962@qq.com、17602640523@163.com
    -->
    <!-- 
        测试：
            刷新页面：点击后查看页面是否刷新

            幸运数字：刷新页面查看幸运数字是否更新

            日期时间：
                1.查看日期是否正确
                2.刷新页面，查看日期是否正确

            随机数：
                1.输入错误的内容：66. 66- 66s
                2.超出范围，查看是否显示提示信息
                3.输入错误的范围，查看是否显示提示信息
                4.刷新页面，查看随机数是否更新
                5.点击生成按钮，查看随机数是否在范围内

            主题：
                1.输入主题，失去焦点，刷新页面，查看主题是否保存
                2.相同主题，分别生成
                3.不同主题，分别生成
                4.相同主题，分别生成，刷新页面，不同主题，分别生成
                5.不同主题，分别生成，刷新页面，相同主题，分别生成

            主题内容：
                1.添加功能、回车功能
                    初始结构
                    单个输入框
                    从后面删除，然后添加
                    从中间删除，然后添加
                2.删除功能
                    初始结构
                    从后面删除，然后添加
                    从中间删除，然后添加
                3.方向键功能
                    初始结构
                    添加输入框，然后按方向键
                    从后面删除，然后按方向键
                    从中间删除，然后按方向键
            
            批量录入功能：追加录入、重新录入、关闭页面、本地存储

            结果生成区域：刷新页面是否保存

            草稿：刷新页面是否保存

    -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ICAN</title>
    <!-- 统计数组中元素的个数 -->
    <script>
        // 返回一个新数组作为统计数组
        function tongjiItemsTimes(arr) { // 1,3,2
            let objArr = []; // []
            // 遍历源数组，一个一个对比、添加
            for (let i = 0; i < arr.length; i++) {
                // 找到就增加次数，找不到就添加
                let addItem = true;
                if (objArr.length > 0) {
                    // 查看对象数组中是否有该元素了
                    for (let j = 0; j < objArr.length; j++) {
                        // 如果在对象数组中找到该元素的值，数量+1，且不添加新对象元素，退出循环
                        if (objArr[j].title === arr[i]) {
                            objArr[j].num++;
                            addItem = false;
                            break;
                        }
                    }
                }
                // 如果对象数组中没有该元素就添加新对象元素
                if (addItem) {
                    let obj = {
                        title: arr[i],
                        num: 1
                    }
                    objArr.push(obj);
                }

            }
            // console.log(arr);
            // console.log(objArr);
            return objArr;
        }
    </script>
    <!-- 旋转数组 -->
    <script>
        /**
         * 旋转数组 升索引(顺时针) 或者 降索引(逆时针)
         * 
         * create:  2023.7.30 15:17
         * author:  ican
         * funName: isIntegerStrict(number)
         * args:    arr1In           传入需要旋转的数组
         *          howmanyIndex    需要升/降多少索引
         *          isUp            是否升序，true是升序(顺时针)，false是降序(逆时针)，不写则取false
         * return:  Array           返回旋转后的数组
         * version: v1.0
         */
        function rotateArr(arr1In, howmanyIndex, isUp) {
            if (!Array.isArray(arr1In)) {
                return false;
            }

            // 判断数字是不是整数
            if (!Number.isInteger(howmanyIndex)) {
                return false;
            }

            if (howmanyIndex < 0) {
                return false;
            }

            // 如果 howmanyIndex > arr1In.length，howmanyIndex应该取多少？
            // [1,2]      长度为2，降3次，相当于降1次  [2,1] [1,2] [2,1]
            // [1,2,3,4]  长度为4，降4次，相当于没降   [2,3,4,1] [3,4,1,2] [4,1,2,3] [1,2,3,4]
            // number % 0 = NaN
            if (howmanyIndex % arr1In.length === 0 || arr1In.length === 0) {
                return arr1In;
            } else {
                howmanyIndex = howmanyIndex % arr1In.length;
            }

            // 使用者可能不对当前数组降索引，所以要创建结果数组
            let arr1Out = [];

            if (isUp) {
                // 数组前面的部分进行升序，排到后面
                // 假设：
                // howmanyIndex = 2  1  3
                // [1,2,3,4,5]  [1,2,3,4,5]   [1,2,3,4,5]
                // [4,5,1,2,3]  [5,1,2,3,4]   [3,4,5,1,2]
                // [,,1,2,3]    [,1,2,3,4]    [,,,1,2]
                for (let i = howmanyIndex, j = 0; i < arr1In.length; i++, j++) {
                    // 2 = 0  1 = 0  3 = 0
                    // 3 = 1  2 = 1  4 = 0
                    // 4 = 2  3 = 2
                    //        4 = 3
                    arr1Out[i] = arr1In[j];
                }

                // 数组后面的部分进行降序，排到前面
                // 假设：
                // howmanyIndex = 2  1  4
                // [1,2,3,4,5]  [1,2,3,4,5]  [1,2,3,4,5]
                // [4,5,1,2,3]  [5,1,2,3,4]  [2,3,4,5,1]
                // [4,5,,,]     [5,,,,]      [2,3,4,5,]
                for (let i = 0; i < howmanyIndex; i++) {
                    // 0 = 3  0 = 4  0 = 1
                    // 1 = 4         1 = 2
                    //               2 = 3
                    //               3 = 4
                    arr1Out[i] = arr1In[arr1In.length - howmanyIndex + i];
                }
            } else {
                // 数组前面的部分进行升序，排到后面
                // 假设：
                // howmanyIndex = 2  1
                // [1,2,3,4,5]  [1,2,3,4,5]
                // [3,4,5,1,2]  [2,3,4,5,1]
                // [,,,1,2]     [,,,,1]
                for (let i = arr1In.length - howmanyIndex, j = 0; i < arr1In.length; i++, j++) {
                    // 3 = 0  4 = 0
                    // 4 = 1
                    arr1Out[i] = arr1In[j];
                }

                // 数组后面的部分进行降序，排到前面
                // 假设：
                // howmanyIndex = 2  1
                // [1,2,3,4,5]  [1,2,3,4,5]
                // [3,4,5,1,2]  [2,3,4,5,1]
                // [3,4,5,,]    [2,3,4,5,]
                for (let i = 0; i < arr1In.length - howmanyIndex; i++) {
                    // 0 = 2  0 = 1
                    // 1 = 3  1 = 2
                    // 2 = 4  2 = 3
                    //        3 = 4
                    arr1Out[i] = arr1In[i + howmanyIndex];
                }
            }

            // 返回结果数组
            return arr1Out;
        }
    </script>
    <!-- 生成范围内的乱序数组、生成随机数、判断正整数、判断整数 -->
    <script>
        // 生成所有 [min, max] 之间的数值组成一个数组并返回
        function randomNumberToArr(min, max) {
            let arr1 = []
            for (let i = 0; i < max - min + 1; i++) {
                let n = getRandomNumber(min, max)
                while (arr1.indexOf(n) >= 0) {
                    // console.log('-------------------')
                    n = getRandomNumber(min, max)
                }
                arr1[i] = n
            }
            return arr1
        }

        /**
         * 生成一定范围内的随机整数，左右都包含
         * 
         * create:  2023.7.30 16:03
         * author:  ican
         * funName: randomNumber(min, max)
         * args:    min             范围的最小值
         *          max             范围的最大值
         * return:  number          返回生成的随机整数
         * version: v1.0
         */
        function getRandomNumber(min, max) {
            if (min > max) {
                return false;
            }
            return Math.floor(Math.random() * (max - min + 1)) + min;
        }

        /**
         * 判断输入的字符串是否为正整数
         * 
         * create:  2023.7.30 14:28
         * author:  ican
         * funName: isIntegerStringPositive(str)
         * args:    str             String字符串类型
         * return:  Boolean         true/false
         * version: v1.0
         */
        function isIntegerStringPositive(str) {
            if (isNaN(Number(str))) {
                return false;
            }
            if (str === 'null' || str === null) {
                return false;
            }
            if (typeof parseInt(str) !== 'number') {
                return false;
            }
            if (str.trim() === '' || str.indexOf('.') > -1) {
                return false;
            }
            return true;
        }

        /**
         * 判断所以类型是否为整数【严格模式】
         * 
         * create:  2023.7.30 13:30
         * author:  ican
         * funName: isIntegerStrict(number)
         * args:    number          Integer整数类型
         * return:  Boolean         true/false
         * version: v1.0
         */
        function isIntegerAllStrict(number) {
            if (Number.isInteger) {
                return Number.isInteger(number);
            } else {
                return typeof number === 'number' && number % 1 === 0;
            }
        }
    </script>

    <style>
        /* 设置常用的字体样式 */
        body,
        button,
        input,
        select,
        textarea {
            font-family: Microsoft YaHei, Heiti SC, tahoma, arial, Hiragino Sans GB, "\5B8B\4F53", sans-serif;
        }





        /* 添加背景图 */
        /* ******************************************************************** */
        /* 去掉 body 背景色 */
        /* body { */
        /* position: absolute; */
        /* background: linear-gradient(to bottom right, #300055, #530024); */
        /* background-color: #222; */
        /* background: url(./imgs/shanding.jpg); */
        /* background: url(./imgs/shanding.jpg) center top no-repeat; */
        /* } */

        /* 添加背景图 */
        .bg {
            position: fixed;
            width: 100%;
            height: 100%;
        }

        /* 添加背景图 */
        .bg img {
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            width: 2000px;
        }

        .bg-color {
            position: fixed;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.4);
        }

        /* ******************************************************************** */





        .container {
            position: absolute;
            width: 100%;
        }



        /*
            设置盒子的滚动条样式
        */
        .content_box::-webkit-scrollbar {
            /*滚动条整体样式*/
            width: 9px;
            /*高宽分别对应横竖滚动条的尺寸*/
            height: 1px;
        }

        .content_box::-webkit-scrollbar-thumb {
            border: 0;
            /*滚动条里面小方块*/
            border-radius: 5px;
            background-color: #5f0024;
            background-color: #74002D;
            background-color: #4b002e;
            background-color: #00374b;
            background-image: -webkit-linear-gradient(45deg,
                    rgba(201, 201, 201, 0.2) 25%,
                    transparent 25%,
                    transparent 50%,
                    rgba(203, 203, 203, 0.2) 50%,
                    rgba(215, 215, 215, 0.2) 75%,
                    transparent 75%,
                    transparent);
        }

        .content_box::-webkit-scrollbar-track {
            /*滚动条里面轨道*/
            /* box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.2); */
            box-shadow: inset 0 0 5px rgba(102, 81, 92, 0.7);
            /* background: #ededed80; */
            /* background: #989898; */
            /* background: rgba(255, 255, 255, 0.7); */
            background: rgba(67, 79, 82, 0.8);
            /* border-radius: 5px; */
        }

        .content_box2::-webkit-scrollbar {
            /*滚动条整体样式*/
            width: 6px;
            /*高宽分别对应横竖滚动条的尺寸*/
            height: 1px;
        }

        .content_box2::-webkit-scrollbar-thumb {
            border: 0;
            /*滚动条里面小方块*/
            border-radius: 3px;
            /* background-color: skyblue; */
            background-color: rgba(46, 139, 134, 0.7);
            background-color: #3c0026;
            background-color: #28005c;
            background-color: #240054;
            background-color: #003e54;
            background-image: -webkit-linear-gradient(45deg,
                    rgba(204, 204, 204, 0.2) 25%,
                    transparent 25%,
                    transparent 50%,
                    rgba(214, 214, 214, 0.2) 50%,
                    rgba(210, 210, 210, 0.2) 75%,
                    transparent 75%,
                    transparent);
        }

        .content_box2::-webkit-scrollbar-track {
            /*滚动条里面轨道*/
            box-shadow: inset 0 0 5px rgba(111, 103, 125, 0.2);
            /* background: #989898; */
            background: rgba(147, 135, 161, 0.3);
            border-radius: 3px;
        }

        .content_box3::-webkit-scrollbar {
            /*滚动条整体样式*/
            width: 6px;
            /*高宽分别对应横竖滚动条的尺寸*/
            height: 1px;
        }

        textarea {
            cursor: default;
        }

        .content_box3::-webkit-scrollbar-thumb {
            border: 0;
            /*滚动条里面小方块*/
            border-radius: 3px;
            /* background-color: skyblue; */
            /* background-color: rgba(46, 139, 134, 0.7); */
            /* background-color: #225fc1; */
            /* background-color: #3c0026;
            background-color: #610002;
            background-color: #74002d;
            background-color: #720046; */
            background-color: #70003c;
            background-color: #5d0039;
            background-color: #00445d;
            /* background-color: #7e0918; */
            /* background-color: #59097e; */
            /* background-image: -webkit-linear-gradient(45deg,
                    transparent 0%,
                    transparent 15%,
                    rgba(255, 255, 255, 0.3) 15%,
                    rgba(255, 255, 255, 0.3) 35%,
                    transparent 35%,
                    transparent 55%,
                    rgba(255, 255, 255, 0.3) 55%,
                    rgba(255, 255, 255, 0.3) 75%,
                    transparent 75%,
                    transparent 100%); */
            /* background-image: -webkit-linear-gradient(45deg,
                    transparent 0%,
                    transparent 40%,
                    rgba(255, 255, 255, 0.3) 40%,
                    rgba(255, 255, 255, 0.3) 60%,
                    transparent 60%,
                    transparent 100%); */
            background-image: -webkit-linear-gradient(45deg,
                    rgba(211, 211, 211, 0.2) 25%,
                    transparent 25%,
                    transparent 50%,
                    rgba(205, 205, 205, 0.2) 50%,
                    rgba(208, 208, 208, 0.2) 75%,
                    transparent 75%,
                    transparent);
        }

        .content_box3::-webkit-scrollbar-track {
            /*滚动条里面轨道*/
            /* box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.2); */
            /* background: #ededed80; */
            /* background: #989898; */
            /* background: rgba(255, 255, 255, 0.4); */
            /* border-radius: 3px; */

            box-shadow: inset 0 0 5px rgba(132, 108, 132, 0.7);
            /* background: #ededed80; */
            /* background: #989898; */
            /* background: rgba(255, 255, 255, 0.1); */
            background: rgba(129, 143, 149, 0.7);
            border-radius: 5px;
        }

        * {
            margin: 0;
            padding: 0;
        }

        body {
            cursor: default;
        }


        /*
            更改单选按钮的样式不起效
        */
        /* 1. 单选框背景颜色 */
        /* input[type="radio"] {
            background-color: #f5f5f5 !important;
        } */

        /* 2. 单选框圆圈颜色 */
        /* input[type="radio"]:before {
            border-color: pink !important;
        } */

        /* 3. 选中单选框后的圆圈颜色 */
        /* input[type="radio"]:checked:before {
            background-color: pink !important;
        } */

        /* 4. 选中单选框后的填充颜色 */
        /* input[type="radio"]:checked:after {
            background-color: pink !important;
        } */

        li {
            position: relative;
            list-style: none;
            text-align: center;
        }

        div {
            box-sizing: border-box;
        }

        button {
            height: 24px;
            /* line-height: 24px; */
            background-color: rgba(219, 27, 101, 0.6);
            background-color: rgba(32, 114, 146, 0.6);
            color: #eee;
            color: #fff;
            text-align: center;
            font-size: 16px;
            border: none;
            /* padding: 0 4px; */
            /* border-radius: 3px; */
        }

        button:hover {
            background-color: rgba(219, 27, 101, 0.7);
            background-color: rgba(32, 114, 146, 0.9);
        }

        button[disabled],
        .min[disabled],
        .min2[disabled],
        .min3[disabled],
        .min4[disabled],
        .max[disabled],
        .max2[disabled],
        .max3[disabled],
        .max4[disabled],
        .btn-choose-input1[disabled],
        .btn-choose-input2[disabled],
        .xuan1 input[disabled],
        .xuan2 input[disabled] {
            /* rgba(219, 27, 101, 0.7) */
            /* background-color: pink !important; */
            color: #9ab2c7 !important;
            /* color: #b39191 !important; */
        }

        /* li button {
            position: absolute;
            right: 50%;
            top: 10px;
            transform: translate(159px);
            width: 52px;
            height: 26px;
            background-color: pink;
            background-color: #111;
            background-color: #EA4335;
            border: 0;
            font-size: 16px;
            border-radius: 6px;
            font-weight: 700;
            color: #222;
            color: #fff;
            line-height: 24px;
            letter-spacing: 2px;
            transition: all .2s;
        } */

        /* li button:hover {
            background-color: #cd3325;
        }

        li button:active {
            background-color: #cd3325;
        } */

        input {
            outline: none;
            font-size: 17px;
            /* padding: 0px 6px; */
            height: 24px;
            line-height: 24px;
            width: 324px;
            width: 290px;
            text-align: center;
            transition: all .2s;
            border-radius: 3px;
            /* border: 2px solid pink;
            border: 2px solid #111; */
            margin: 6px 0;
            background-color: rgba(255, 255, 255, 0);
            color: #eee;
            color: #fff;
        }

        /* .question input {
            border: 2px solid #EA4335;
            border: 2px solid #f9fffa;
        } */

        /* li input {
            border: 2px solid #EA4335;
            width: 68px;
        } */

        .main-content {
            width: 96%;
            /* margin: 10px auto; */
            margin: auto;
            /* background-color: pink; */
        }

        .top-line {
            width: 100%;
            height: 1px;
            /* background-color: pink;
            background-color: #111; */
            background-color: #b74fb7;
            /* background-color: rgba(219, 27, 101, 0.4); */
            background-color: #bbb;
            margin: 0 0 6px;
            /* animation: btnChange 6s linear infinite; */
        }

        .main-content h1 {
            /* color: deeppink; */
            text-align: center;
            margin: 6px 0;
            opacity: 0.9;
        }

        .main-content h3 {
            /* color: deeppink; */
            text-align: center;
            margin: 16px 0 6px;
            font-size: 20px;
            letter-spacing: 2px;
            font-weight: 400;
            color: #eee;
            color: #fff;
        }

        /* .main-content>h3 {
            font-size: 22px;
        } */

        .question,
        .question2 {
            text-align: center;
        }

        .btn-add,
        .btn-choose,
        .btn-clear {
            text-align: center;
        }

        .tianshi-btn {
            margin: auto;
            width: 336px;
            padding: 6px;
            padding-top: 0px;
            border: 1px dashed #ccc;
            border-radius: 3px;
            text-align: center;
        }

        .reset-page {
            text-align: center;
        }

        .reset-page button,
        .btn-add button,
        .btn-choose button,
        .btn-clear button,
        .btn-add2 button {
            font-size: 17px;
            width: 100px;
            /* word-spacing: 3px; */
            text-align: center;
            height: 30px;
            line-height: 25px;
            /* background-color: pink;
            background-color: #111; */
            /* background-color: #315794; */
            border: none;
            /* font-weight: 700; */
            color: #eee;
            color: #fff;
            letter-spacing: 1px;
        }

        .reset-page button,
        .btn-add button,
        .btn-clear button,
        .btn-add2 button {
            border-radius: 3px;
        }

        .reset-page button,
        .btn-clear button {
            /* background-color: #630081; */
            background-color: rgba(219, 27, 101, 0.6);
            background-color: rgba(32, 114, 146, 0.6);
            /* background-color: #ab108f; */
            /* background-color: #981dd2; */
            height: 24px;
            font-size: 16px;
            line-height: 24px;
            /* margin-top: 6px !important; */
            color: #eee;
            color: #fff;
        }

        .reset-page button:hover,
        .btn-clear button:hover {
            background-color: #560071;
            background-color: rgba(219, 27, 101, 0.7);
            background-color: rgba(32, 114, 146, 0.9);
            /* background-color: #4e0b9f; */
        }

        .reset-page button:active,
        .btn-clear button:active {
            background-color: #560071;
            background-color: rgba(219, 27, 101, 0.7);
            background-color: rgba(32, 114, 146, 0.9);
        }

        .btn-add button,
        .btn-add2 button {
            background-color: #630081;
            background-color: rgba(219, 27, 101, 0.6);
            background-color: rgba(32, 114, 146, 0.6);
            height: 24px;
            line-height: 24px;
            font-size: 16px;
            width: 60px;
            margin-bottom: 6px;
            color: #eee;
            color: #fff;
            transition: all .3s;
        }

        .btn-add button:hover,
        .btn-add2 button:hover {
            background-color: #560071;
            background-color: rgba(219, 27, 101, 0.7);
            background-color: rgba(32, 114, 146, 0.9);
        }

        .btn-add button:active,
        .btn-add button:active {
            background-color: #560071;
            background-color: rgba(219, 27, 101, 0.7);
            background-color: rgba(32, 114, 146, 0.9);
        }

        .btn-choose button {
            /* position: relative; */
            width: 158px;
            height: 24px;
            line-height: 24px;
            border-radius: 3px;
            /* margin: 5px 0 0; */
            font-size: 16px;
            /* animation: btnChange 6s linear infinite; */
            transition: all .2s;
            background-color: #630081;
            background-color: rgba(219, 27, 101, 0.6);
            background-color: rgba(32, 114, 146, 0.6);
            /* color: #000; */
            /* font-weight: 700; */
        }

        .btn-choose button:hover {
            /* animation-play-state: paused; */
            background-color: #560071;
            background-color: rgba(219, 27, 101, 0.7);
            background-color: rgba(32, 114, 146, 0.9);
        }

        .btn-choose button:active {
            background-color: #560071;
            background-color: rgba(219, 27, 101, 0.7);
            background-color: rgba(32, 114, 146, 0.9);
        }

        .tianshi {
            /* width: 326px; */
            width: 100%;
            height: 326px;
            /* background-color: skyblue; */
            margin: 6px auto 0;
            border-radius: 3px;
            padding: 6px;
            text-align: center;
            /* border: 2px solid pink;
            border: 2px solid #111; */
            /* border: 1px solid #cb2222; */
            border: 1px solid #c76ec7;
            border: 1px dashed #ccc;
            overflow: auto;
        }

        .tianshi dl {
            position: relative;
            padding: 6px 12px 12px;
            /* padding-right: 12px; */
            border-bottom: 1px dashed #ccc;
        }

        .tianshi .delete-item {
            position: absolute;
            right: -6px;
            top: 50%;
            transform: translateY(-50%);
            width: 20px;
            height: 42px;
            background-color: rgba(219, 27, 101, 0.6);
            background-color: rgba(32, 114, 146, 0.6);
            border: none;
            /* border-radius: 3px; */
            border-top-left-radius: 3px;
            border-bottom-left-radius: 3px;
            color: #eee;
            color: #fff;
            opacity: .9;
            font-size: 14px;
        }

        .tianshi .delete-item:hover {
            background-color: rgba(219, 27, 101, 0.7);
            background-color: rgba(32, 114, 146, 0.9);
            opacity: 1;
        }

        .tianshi dt {
            font-size: 17px;
            /* font-weight: 700; */
            /* background-color: pink; */
            /* background-color: #111; */
            /* background-color: #3c80ee; */
            /* color: #2162ca; */
            padding: 3px 0 4px;
            color: #eee;
            color: #fff;
            /* border-radius: 3px; */
            /* border-top: 1px dashed #ccc; */
            font-weight: 400;
        }

        .tianshi dd {
            /* margin: 3px 3px; */
            margin: 2px;
            display: inline-block;
            /* background-color: #bbd5ff; */
            /* border-bottom: 1px solid #c76ec7; */
            border-bottom: 1px solid #eee;
            border-bottom: 1px solid #fff;
            width: 66px;
            height: 24px;
            line-height: 24px;
            text-align: center;
            color: #eee;
            color: #fff;
            font-size: 16px;
        }

        /* .tianshi dl:nth-child(n+2) { */
        /* border-top: 1px solid #111; */
        /* margin-top: 6px; */
        /* margin: 6px 0 8px; */
        /* } */

        @media screen and (max-width:360px) {
            body {
                width: 350px;
            }
        }

        .blue {
            color: #3683ff;
            color: #0b50c1;
        }

        .red {
            color: #e93434;
            color: #c50f70;
        }

        .orange {
            color: #FBBC05;
            color: #eabd34;
            color: #ddac18;
            /* color: #903ff4; */
            /* color: deeppink; */
        }

        .green {
            color: #28ba4f;
            color: #0e9e5a;
        }

        /* @keyframes btnChange {
            0% {
                background-color: #e13f30;
            }

            33% {
                background-color: #2162ca;
            }

            66% {
                background-color: #33A351;
            }

            100% {
                background-color: #e13f30;
            }
        } */

        .today input,
        .random-box1 input,
        .random-box2 input,
        .random-box3 input,
        .random-box4 input {
            border: none;
            border-bottom: 1px solid #eee;
            border-bottom: 1px solid #fff;
            width: 24px;
            border-radius: 0px;
            /* background-color: #fff; */
            height: 20px;
            margin: 3px 0;
            font-size: 16px;
        }

        .random-box1 input,
        .random-box2 input,
        .random-box3 input,
        .random-box4 input {
            border-bottom: 1px solid #eee;
            border-bottom: 1px solid #fff;
        }

        .today .maxlength-four {
            width: 40px;
        }

        .today button,
        .random-box1 button,
        .random-box2 button,
        .random-box3 button,
        .random-box4 button {
            width: 120px;
            height: 24px;
            background-color: rgba(219, 27, 101, 0.6);
            background-color: rgba(32, 114, 146, 0.6);
            border: none;
            border-radius: 3px;
            color: #eee;
            color: #fff;
            font-size: 16px;
            transition: all .2s;
            letter-spacing: 1px;
            /* margin-top: 2px; */
            line-height: 24px;
        }

        .today button:hover,
        .random-box1 button:hover,
        .random-box2 button:hover,
        .random-box3 button:hover,
        .random-box4 button:hover {
            background-color: rgba(219, 27, 101, 0.7);
            background-color: rgba(32, 114, 146, 0.9);
        }

        .box-good-number {
            color: #eee;
            color: #fff;
            margin: 20px 0 6px;
        }

        .date,
        .time,
        .date input,
        .time input,
        .randoms input,
        .randoms2 input,
        .randoms3 input,
        .randoms4 input {
            color: #eee;
            color: #fff;
        }

        .answers,
        .answers2 {
            /* width: 324px; */
            width: 100%;
            margin: auto;
            text-align: center;
        }

        h4 {
            font-weight: 400;
            color: #fff;
        }

        h1 {
            font-size: 39px;
        }

        /* h3 {
            font-weight: 700 !important;
        } */

        ul li {
            display: inline-block;
            width: 72px;
            margin: 3px 3px;
            /* margin: 6px 3px; */
        }

        .question input,
        .question2 input {
            border: none;
            border-bottom: 1px solid #eee;
            border-bottom: 1px solid #fff;
            border-radius: 0px;
            font-size: 16px;
            margin: 3px 0;
        }

        ul li input {
            margin: 0px;
            border: none;
            border-bottom: 1px solid #eee;
            border-bottom: 1px solid #fff;
            border-radius: 0px;
            font-size: 16px;
            padding: 0px;
            width: 72px;
        }

        .container .randomNum,
        .container .randomNum2,
        .container .randomNum3,
        .container .randomNum4 {
            height: 18px;
            /* line-height: 30px; */
            padding: 3px;
            /* background-color: pink; */
            background-color: rgba(219, 27, 101, 0.6);
            background-color: rgba(32, 114, 146, 0.6);
            border: none;
            border-radius: 3px;
            color: #eee;
            color: #fff;
            font-size: 16px;
            transition: all .2s;
            letter-spacing: 1px;
            margin-top: 6px;
        }

        .write {
            width: 100%;
        }

        textarea {
            resize: none;
            width: 100%;
            height: 449px;
            margin: 12px auto;
            outline: none;
            font-size: 16px;
            border: 1px dashed #ccc;
            /* padding: 7px; */
            padding: 4px 1px 4px 6px;
            border-radius: 3px;
            box-sizing: border-box;
            background-color: rgba(255, 255, 255, 0);
            color: #eee;
            color: #fff;
            line-height: 22px;
        }

        /* 必填1 批量录入窗口 下面的遮罩层 */
        .page-mask,
        .page-mask2 {
            display: none;
            position: fixed;
            left: 0;
            top: 0;
            z-index: 9;
            width: 100%;
            height: 100%;
            /* background-color: pink; */
            /* background-color: rgba(0, 0, 0, 0.5); */
            background-color: rgba(0, 0, 0, 0.4);
            /* background-color: rgba(255, 255, 255, 0.3); */
            /* transition: all .2s; */
        }

        .page-mask2 {
            /* display: none; */
            z-index: 888;
        }

        /* 批量录入窗口中的按钮 */
        .input-box button,
        .input-box2 button,
        .tiqu-box1 button,
        .tiqu-box2 button,
        .tiqu-box-random button,
        .tiqu-box-res button,
        .fenxi-box-res button,
        .common-tips button,
        .tiqu-random-box12 button,
        .tiqu-random-box1 button,
        .tiqu-random-box2 button,
        .box-fenxi-content1 button,
        .box-fenxi-content2 button,
        .box-fenxi-random1 button,
        .box-fenxi-random2 button,
        .box-fenxi-random12 button {
            width: 72px;
            height: 24px;
            line-height: 19px;
            background-color: rgba(219, 27, 101, 0.6);
            background-color: rgba(32, 114, 146, 0.6);
            color: #eee;
            color: #fff;
            border: none;
            border-radius: 3px;
            transition: all .3s;
        }

        .tiqu-box1 button,
        .tiqu-box2 button,
        .tiqu-box-res button,
        .fenxi-box-res button,
        .tiqu-box-random button,
        .tiqu-random-box12 button,
        .tiqu-random-box1 button,
        .tiqu-random-box2 button,
        .box-fenxi-content1 button,
        .box-fenxi-content2 button,
        .box-fenxi-random1 button,
        .box-fenxi-random2 button,
        .box-fenxi-random12 button {
            margin: 0 20px;
        }

        /* .input-box button:hover,
        .input-box2 button:hover,
        .tiqu-box1 button:hover,
        .tiqu-box2 button:hover,
        .tiqu-box-random button:hover,
        .tiqu-box-res button:hover,
        .fenxi-box-res button:hover,
        .common-tips button:hover,
        .tiqu-random-box12 button:hover,
        .tiqu-random-box1 button:hover,
        .tiqu-random-box2 button:hover,
        .box-fenxi-content1 button:hover,
        .box-fenxi-content2 button:hover,
        .box-fenxi-random1 button:hover,
        .box-fenxi-random2 button:hover,
        .box-fenxi-random12 button:hover { */
        button:hover {
            background-color: rgba(219, 27, 101, 0.7);
            background-color: rgba(20, 81, 105, 0.9);
            background-color: rgba(32, 114, 146, 0.9);
        }

        /* 必填1 批量录入窗口 */
        .input-box,
        .input-box2,
        .tiqu-box1,
        .tiqu-box2,
        .tiqu-box-random,
        .tiqu-box-res,
        .fenxi-box-res,
        .common-tips,
        .tiqu-random-box12,
        .tiqu-random-box1,
        .tiqu-random-box2,
        .box-fenxi-content1,
        .box-fenxi-content2,
        .box-fenxi-random1,
        .box-fenxi-random2,
        .box-fenxi-random12 {
            display: none;
            position: fixed;
            left: 50%;
            top: 50%;
            z-index: 99;
            transform: translate(-50%, -50%);
            width: 322px;
            height: 417px;
            /* background-color: skyblue; */
            /* background-color: rgba(255, 255, 255, 0.9); */
            /* background-color: rgba(255, 255, 255, 0.4); */
            /* background: linear-gradient(to bottom right, #a00b6c, #2b008e); */
            background: linear-gradient(to bottom right, #59001c, #1f0065);
            background: linear-gradient(to bottom right, #59001c, #1f0065);
            background: rgba(1, 20, 38, 0.8);
            background: rgba(0, 20, 36, 0.8);
            border-radius: 3px;
            padding: 8px;
            text-align: center;
            /* transition: all .5s; */
        }

        /* .tiqu-random-box1 {
      display: block;
    } */

        .input-box,
        .input-box2 {
            line-height: 13px;
        }

        .tiqu-box1,
        .tiqu-box2,
        .tiqu-box-res,
        .fenxi-box-res,
        .tiqu-box-random,
        .tiqu-random-box12,
        .tiqu-random-box1,
        .tiqu-random-box2,
        .box-fenxi-content1,
        .box-fenxi-content2,
        .box-fenxi-random1,
        .box-fenxi-random2,
        .box-fenxi-random12 {
            height: 403px;
        }

        .common-tips {
            z-index: 999;
            /* display: block; */
            height: 140px;
            width: 260px;
        }

        /* 批量录入窗口中的标题 */
        .input-box h3,
        .input-box2 h3 {
            line-height: 20px;
            margin: 10px auto 7px;
            color: #eee;
            color: #fff;
        }

        .tiqu-box1 h3,
        .tiqu-box2 h3,
        .tiqu-box-random h3,
        .tiqu-box-res h3,
        .fenxi-box-res h3,
        .common-tips h3,
        .tiqu-random-box12 h3,
        .tiqu-random-box1 h3,
        .tiqu-random-box2 h3,
        .box-fenxi-content1 h3,
        .box-fenxi-content2 h3,
        .box-fenxi-random1 h3,
        .box-fenxi-random2 h3,
        .box-fenxi-random12 h3 {
            margin: 7px auto;
            color: #eee;
            color: #fff;
        }

        .common-tips-content {
            margin: 10px auto;
            /* width: 100px; */
            height: 40px;
            line-height: 40px;
            /* background-color: rgba(255, 255, 255, 0.1); */
            border-radius: 3px;
            text-align: center;
            color: #eee;
            color: #fff;
            font-size: 17px;
        }

        /* 标题下面的说明文字 */
        .input-box-shuoming,
        .input-box2-shuoming {
            font-size: 12px;
            color: #eee;
            color: #fff;
        }

        /* 批量录入窗口中标题下面的分割线 */
        /* .input-box-line {
            width: 100%;
            height: 2px;
            background-color: lightcoral;
            margin: 10px 0 0;
        } */

        .input-box-textarea,
        .input-box2-textarea,
        .tiqu-box1-textarea,
        .tiqu-box-random-textarea,
        .tiqu-box-res-textarea,
        .fenxi-box-res-textarea,
        .tiqu-box2-textarea,
        .tiqu-random-box12-textarea,
        .tiqu-random-box1-textarea,
        .tiqu-random-box2-textarea,
        .box-fenxi-content1-textarea,
        .box-fenxi-content2-textarea,
        .box-fenxi-random1-textarea,
        .box-fenxi-random2-textarea,
        .box-fenxi-random12-textarea {
            margin: 6px 0;
            width: 100%;
            height: 306px;
            color: #eee;
            color: #fff;
            /* border: 1px solid #a35b74; */
            border: none;
            background-color: rgba(255, 255, 255, 0.1);
            padding: 4px 8px;
            padding-right: 4px;
        }

        .input-box-textarea,
        .input-box2-textarea {
            height: 293px;
            margin: 8px 0;
        }

        .mod {
            position: relative;
            /* padding: 20px 10px; */
            padding: 14px 10px;
            border: 1px dashed #ccc;
            /* border: 1px dashed rgba(255, 255, 255, 0.6); */
            border-radius: 3px;
            /* margin-bottom: 20px; */
        }

        /* .tiqu-box-random {
            position: absolute;
        } */

        .showRandomBtn {
            position: absolute;
            right: 0;
            top: 50%;
            transform: translateY(-50%);
            width: 25px;
            height: 165px;
            font-size: 16px;
            border: none;
            color: #eee;
            color: #fff;
            background-color: rgba(219, 27, 101, 0.6);
            background-color: rgba(32, 114, 146, 0.6);
            border-top-left-radius: 3px;
            border-bottom-left-radius: 3px;
        }

        .showRandomBtn:hover {
            background-color: rgba(219, 27, 101, 0.7);
            background-color: rgba(32, 114, 146, 0.9);
        }

        .showRandomBtn:active {
            background-color: rgba(219, 27, 101, 0.7);
            background-color: rgba(32, 114, 146, 0.9);
        }

        .mod h3 {
            font-size: 17px;
            margin-top: 20px;
        }

        /* 生成按钮中的输入框 */
        .btn-choose-number,
        .btn-choose-choice,
        .btn-choose-repeat {
            /* position: relative; */
            color: #eee;
            color: #fff;
            margin-top: 6px;
        }

        .btn-choose-number span,
        .btn-choose-choice span,
        .btn-choose-repeat span {
            display: inline-block;
            background-color: rgba(219, 27, 101, 0.6);
            background-color: rgba(32, 114, 146, 0.6);
            border-radius: 3px;
            text-align: center;
            width: 158px;
            height: 24px;
            line-height: 24px;
            font-size: 16px;
        }

        .btn-choose-number span:hover,
        .btn-choose-choice span:hover,
        .btn-choose-repeat span:hover {
            background-color: rgba(219, 27, 101, 0.6);
            background-color: rgba(32, 114, 146, 0.9);
        }

        label {
            height: 24px;
            line-height: 24px;
        }

        .btn-choose-input1,
        .btn-choose-input2,
        .res1-choice1,
        .res1-choice2,
        .res2-choice1,
        .res2-choice2,
        .res1-repeat1,
        .res1-repeat2,
        .res2-repeat1,
        .res2-repeat2 {
            /* position: absolute; */
            /* top: 0;
            right: 0; */
            width: 36px;
            /* background-color: pink; */
            border: none;
            border-bottom: 1px solid #eee;
            border-bottom: 1px solid #fff;
            border-radius: 0px;
            height: 18px;
            line-height: 17px;
            margin: 0 2px;
            font-size: 15px;
        }

        .res1-choice1,
        .res1-choice2,
        .res2-choice1,
        .res2-choice2,
        .res1-repeat1,
        .res1-repeat2,
        .res2-repeat1,
        .res2-repeat2 {
            margin-right: 3px;
            /* border: 2px solid pink; */
            height: 12px;
            line-height: 12px;
            width: 12px;
        }

        .res1-choice2,
        .res2-choice2 {
            margin-left: 5px;
        }

        .btn-choose-line {
            /* margin: 6px 0 0; */
            margin: 6px 0;
            border-bottom: 1px dashed #eee;
            border-bottom: 1px dashed #fff;
        }

        /* .mini-line {
            margin: 6px 0 0;
            border-bottom: 1px dashed #eee;
        } */


        /* 
            随机数模块
        */

        /* 生成___个 */
        .get-howmany-random-1,
        /* 是否重复 */
        .random-isrepeat-1,
        .get-howmany-random-2,
        .random-isrepeat-2 {
            /* span 转为行内块 */
            display: inline-block;
            margin-top: 4px;
            height: 24px;
            line-height: 24px;
            width: 104px;
            background-color: rgba(219, 27, 101, 0.6);
            background-color: rgba(32, 114, 146, 0.6);
            border-radius: 3px;
            font-size: 16px;
        }

        /* 随机数中的 生成___个 输入框 */
        .get-howmany-random-1 input,
        .get-howmany-random-2 input {
            width: 34px;
            height: 17px;
            line-height: 18px;
        }

        .random-isrepeat-1,
        .random-isrepeat-2 {
            width: 147px;
        }

        /* 随机数中的单选框 */
        .random-isrepeat-1 input[type="radio"],
        .random-isrepeat-2 input[type="radio"] {
            margin-right: 3px;
            width: 12px;
            height: 12px;
        }

        /* 生成按钮、提取按钮 */
        .random-box1 .get-random-1,
        .random-box1 .get-random-history-1,
        .random-box1 .get-random-clear-1,
        .random-box1 .randoms-order-up-1,
        .random-box1 .randoms-order-down-1,
        .random-box1 .randoms-no-order-1,
        .random-box1 .get-random-2,
        .random-box1 .get-random-history-2,
        .random-box1 .get-random-clear-2,
        .random-box1 .randoms-order-up-2,
        .random-box1 .randoms-order-down-2,
        .random-box1 .randoms-no-order-2 {
            margin-top: 6px;
            width: 82px;
        }

        /* 随机数展示区域 */
        .random-show-1,
        .random-show-2 {
            overflow: auto;
            margin: 10px 0 0;
            padding: 4px 9px 4px 6px;
            /* height: 30px; */
            /* border-bottom: 1px solid #eee; */
            border: 1px solid #eee;
            border: 1px solid #fff;
            border-radius: 3px;
        }

        /* 同时生成和同时提取按钮 */
        .btn-get-random12,
        .btn-collect-random12 {
            position: absolute;
            top: 0;
            width: 50%;
            line-height: 23px;
            /* border-radius: 3px; */
            border-bottom: 1px dashed #eee;
            border-bottom: 1px dashed #fff;
        }

        .btn-get-random12 {
            left: 0;
            border-right: 1px dashed #eee;
            border-right: 1px dashed #fff;
            border-top-left-radius: 3px;
        }

        .btn-collect-random12 {
            right: 0;
            border-top-right-radius: 3px;
        }

        .xuan1 h3,
        .xuan2 h3 {
            margin-top: 9px;
        }

        #logo {
            height: 49px;
            /* background-color: pink; */
        }

        #logo a::before,
        #logo a::after {
            content: 'ICAN';
            font-size: 0px;
        }

        #logo a strong {
            position: absolute;
            font-size: 0px;
        }

        #logo a {
            text-decoration: none;
            display: inline-block;
            /* background-color: pink; */
            transition: all .4s;
            /* letter-spacing: 2px; */
        }

        #logo a:hover {
            /* font-size: 41px; */
            /* transform: scale(1.1); */
            letter-spacing: 2px;
        }

        .answers ul li:first-child,
        .answers2 ul li:first-child {
            margin-right: -3px;
        }
    </style>
    <link rel="shortcut icon" href="./images/logo.ico">
</head>

<body class="content_box">
    <!-- 添加背景图 -->
    <div class="bg">
        <img src="./images/shanding2.jpg" alt="">
    </div>
    <!-- 添加背景图 -->
    <div class="bg-color"></div>

    <script>
        let bgImg = document.querySelector('.bg img');
        let imgsArr = ['dahai', 'riquanshi', 'xingyun', 'shanding', 'shanding2'];
        let imgsIndex = 0;
        setInterval(() => {
            if (imgsIndex >= imgsArr.length - 1) {
                imgsIndex = 0;
            }
            bgImg.src = './images/' + imgsArr[imgsIndex] + '.jpg';
            imgsIndex++;
        }, 60000);
    </script>



    <div class="container">
        <div class="main-content">
            <!-- 页面遮罩层 -->
            <div class="page-mask"></div>

            <!-- 页面遮罩层2 -->
            <div class="page-mask2"></div>

            <!-- 通用提示框 -->
            <div class="common-tips">
                <!-- 标题 -->
                <h3>提示信息</h3>
                <div class="common-tips-content"></div>
                <!-- 关闭窗口按钮 -->
                <button class="common-tips-close">关闭窗口</button>
            </div>
            <script>
                // 获取遮罩层
                // 遮罩层1：下层遮罩层
                let pageMask = document.querySelector('.page-mask');
                // 遮罩层2：顶层遮罩层
                let pageMask2 = document.querySelector('.page-mask2');
                // 通用提示框
                let tipBox = document.querySelector('.common-tips');
                // 提示框中的内容
                let tipContent = document.querySelector('.common-tips-content');
                // 关闭提示框
                let tipClose = document.querySelector('.common-tips-close');
                tipClose.addEventListener('click', function () {
                    tipBox.style.display = 'none';
                    pageMask2.style.display = 'none';
                });
            </script>




            <!-- 结果分析窗口 -->
            <div class="fenxi-box-res">
                <!-- 标题 -->
                <h3>生成结果分析</h3>
                <!-- 录入框 -->
                <textarea name="" id="" cols="" rows="" class="fenxi-box-res-textarea content_box2" disabled></textarea>
                <!-- 关闭窗口按钮 -->
                <button class="fenxi-box-res-btn-clear">清空内容</button>
                <button class="fenxi-box-res-btn-close">关闭窗口</button>
            </div>
            <!-- 内容1分析窗口 -->
            <div class="box-fenxi-content1">
                <!-- 标题 -->
                <h3>内容1分析</h3>
                <!-- 录入框 -->
                <textarea class="box-fenxi-content1-textarea content_box2" disabled></textarea>
                <!-- 关闭窗口按钮 -->
                <button class="btn-clear-fenxi-content1">清空内容</button>
                <button class="btn-close-fenxi-content1">关闭窗口</button>
            </div>
            <!-- 内容2分析窗口 -->
            <div class="box-fenxi-content2">
                <!-- 标题 -->
                <h3>内容2分析</h3>
                <!-- 录入框 -->
                <textarea class="box-fenxi-content2-textarea content_box2" disabled></textarea>
                <!-- 关闭窗口按钮 -->
                <button class="btn-clear-fenxi-content2">清空内容</button>
                <button class="btn-close-fenxi-content2">关闭窗口</button>
            </div>
            <!-- 随机数1分析窗口 -->
            <div class="box-fenxi-random1">
                <!-- 标题 -->
                <h3>随机数1分析</h3>
                <!-- 录入框 -->
                <textarea class="box-fenxi-random1-textarea content_box2" disabled></textarea>
                <!-- 关闭窗口按钮 -->
                <button class="btn-clear-fenxi-random1">清空内容</button>
                <button class="btn-close-fenxi-random1">关闭窗口</button>
            </div>
            <!-- 随机数2分析窗口 -->
            <div class="box-fenxi-random2">
                <!-- 标题 -->
                <h3>随机数2分析</h3>
                <!-- 录入框 -->
                <textarea class="box-fenxi-random2-textarea content_box2" disabled></textarea>
                <!-- 关闭窗口按钮 -->
                <button class="btn-clear-fenxi-random2">清空内容</button>
                <button class="btn-close-fenxi-random2">关闭窗口</button>
            </div>
            <!-- 随机数1和2分析窗口 -->
            <div class="box-fenxi-random12">
                <!-- 标题 -->
                <h3>随机数1和2</h3>
                <!-- 录入框 -->
                <textarea class="box-fenxi-random12-textarea content_box2" disabled></textarea>
                <!-- 关闭窗口按钮 -->
                <button class="btn-clear-fenxi-random12">清空内容</button>
                <button class="btn-close-fenxi-random12">关闭窗口</button>
            </div>

            <script>
                // 获取其它分析窗口
                let boxFenxiContent1 = document.querySelector('.box-fenxi-content1');
                let boxFenxiContent2 = document.querySelector('.box-fenxi-content2');
                let boxFenxiRandom1 = document.querySelector('.box-fenxi-random1');
                let boxFenxiRandom2 = document.querySelector('.box-fenxi-random2');
                let boxFenxiRandom12 = document.querySelector('.box-fenxi-random12');
                // 获取其它文本域
                let boxFenxiContent1Textarea = document.querySelector('.box-fenxi-content1-textarea');
                let boxFenxiContent2Textarea = document.querySelector('.box-fenxi-content2-textarea');
                let boxFenxiRandom1Textarea = document.querySelector('.box-fenxi-random1-textarea');
                let boxFenxiRandom2Textarea = document.querySelector('.box-fenxi-random2-textarea');
                let boxFenxiRandom12Textarea = document.querySelector('.box-fenxi-random12-textarea');
                // 获取其它清空按钮
                let btnClearFenxiContent1 = document.querySelector('.btn-clear-fenxi-content1');
                let btnClearFenxiContent2 = document.querySelector('.btn-clear-fenxi-content2');
                let btnClearFenxiRandom1 = document.querySelector('.btn-clear-fenxi-random1');
                let btnClearFenxiRandom2 = document.querySelector('.btn-clear-fenxi-random2');
                let btnClearFenxiRandom12 = document.querySelector('.btn-clear-fenxi-random12');
                // 获取其它关闭按钮
                let btnCloseFenxiContent1 = document.querySelector('.btn-close-fenxi-content1');
                let btnCloseFenxiContent2 = document.querySelector('.btn-close-fenxi-content2');
                let btnCloseFenxiRandom1 = document.querySelector('.btn-close-fenxi-random1');
                let btnCloseFenxiRandom2 = document.querySelector('.btn-close-fenxi-random2');
                let btnCloseFenxiRandom12 = document.querySelector('.btn-close-fenxi-random12');

                // 点击关闭按钮关闭窗口
                btnCloseFenxiContent1.addEventListener('click', function () {
                    boxFenxiContent1.style.display = 'none';
                    pageMask.style.display = 'none';
                });
                btnCloseFenxiContent2.addEventListener('click', function () {
                    boxFenxiContent2.style.display = 'none';
                    pageMask.style.display = 'none';
                });
                btnCloseFenxiRandom1.addEventListener('click', function () {
                    boxFenxiRandom1.style.display = 'none';
                    pageMask.style.display = 'none';
                });
                btnCloseFenxiRandom2.addEventListener('click', function () {
                    boxFenxiRandom2.style.display = 'none';
                    pageMask.style.display = 'none';
                });
                btnCloseFenxiRandom12.addEventListener('click', function () {
                    boxFenxiRandom12.style.display = 'none';
                    pageMask.style.display = 'none';
                });



            </script>





            <!-- <h1>天使选择器</h1> -->
            <div id="logo">
                <h1>
                    <a href="">
                        <strong>ICAN</strong>
                        <span class="blue">I</span>
                        <span class="red">C</span>
                        <span class="green">A</span>
                        <span class="orange">N</span>
                        <!-- <span style="color: #00374b;">ICAN</span> -->
                    </a>
                </h1>
            </div>
            <!-- <div class="top-line"></div> -->


            <!-- <div class="reset-page">
                <button style="width: 100px;" onclick="location.reload()">刷新页面</button>
            </div> -->

            <!-- 幸运数字和随机数的提取窗口 历史记录 -->
            <div class="tiqu-box-random">
                <!-- 标题 -->
                <h3>幸运数和随机数提取</h3>
                <!-- 分割线 -->
                <!-- <div class="input-box-line"></div> -->
                <!-- 录入框 -->
                <textarea name="" id="" cols="" rows="" class="tiqu-box-random-textarea content_box2"
                    disabled></textarea>
                <!-- 关闭窗口按钮 -->
                <button class="tiqu-box-random-btn-clear">清空内容</button>
                <button class="tiqu-box-random-btn-close">关闭窗口</button>
            </div>

            <script>
                // 历史记录盒子 提取随机数盒子
                let tiquRandomBox = document.querySelector('.tiqu-box-random');
                // 提取随机数的文本域
                let tiquRandomTxt = document.querySelector('.tiqu-box-random-textarea');
                // 提取随机数盒子的 清空内容 按钮
                let tiquRandomClearBtn = document.querySelector('.tiqu-box-random-btn-clear');
                // 提取随机数盒子的 关闭窗口 按钮
                let tiquRandomCloseBtn = document.querySelector('.tiqu-box-random-btn-close');

                // 存储提取的幸运数字历史记录
                let tiquXingYun = JSON.parse(localStorage.getItem('tiquXingYun')) || [];
                // 存储提取的随机数历史记录
                let tiquRandom = JSON.parse(localStorage.getItem('tiquRandom')) || [];


                // 关闭窗口
                tiquRandomCloseBtn.addEventListener('click', function () {
                    pageMask.style.display = 'none';
                    tiquRandomBox.style.display = 'none';
                });

                // 显示内容写在随机数模块的后面
            </script>

            <h3 style="text-align: center;margin: 9px 0 6px;height: 26px;line-height: 26px;" class="box-good-number">
                当前幸运数字:<span class="goodNumber"></span>
            </h3>
            <div class="today mod" style="padding: 2px 4px 6px;">
                <!-- &&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&& 幸运数模块 -->
                <script>
                    // 获取需要填入随机数的节点
                    let goodNumber = document.querySelector('.goodNumber');
                    // 自定义随机数的范围为 [1, 99]
                    // 获取 [1, 99] 范围内的乱序数组
                    let goodArr = randomNumberToArr(1, 99);
                    console.log('&&&&&&&&&&&&&&&&&& 随机生成幸运数字');
                    // 打印幸运数组
                    console.log('幸运数组[1-99]：', goodArr);
                    // 随机获取 [0, 34] 之间的一个索引值，用于生成幸运数
                    let goodIndex = getRandomNumber(0, 98);
                    // 打印索引值
                    console.log('索引值：' + goodIndex);
                    // 根据索引获取幸运数
                    console.log('幸运数字：', goodArr[goodIndex]);
                    // 将幸运数字填入页面
                    goodNumber.innerHTML = goodArr[goodIndex] < 10 ? '0' + goodArr[goodIndex] : goodArr[goodIndex];
                    console.log('&&&&&&&&&&&&&&&&&& 随机生成幸运数字');

                    // 存储幸运数字
                    // 放在日期下面



                </script>

                <!-- &&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&& 日期模块：年月日、时分秒 -->
                <h4 style="text-align: center;" class="date">
                    日期 :
                    <input type="text" maxlength="4" class="maxlength-four"> 年
                    <input type="text" maxlength="2"> 月
                    <input type="text" maxlength="2"> 日
                </h4>
                <h4 style="text-align: center;" class="time">
                    时间 :
                    <input type="text" maxlength="2" class="maxlength-four"> 时
                    <input type="text" maxlength="2"> 分
                    <input type="text" maxlength="2"> 秒
                </h4>
                <script>
                    // 获取日期盒子中所有的 input 框
                    let myDateInputs = document.querySelectorAll('.date input');
                    // 获取当前时间
                    let date = new Date();
                    // console.log(date);
                    // 获取年月日
                    let year = date.getFullYear();
                    // console.log(year);
                    let month = date.getMonth() + 1;
                    month = month < 10 ? '0' + month : month;
                    // console.log(month);
                    let day = date.getDate();
                    day = day < 10 ? '0' + day : day;
                    // console.log(day);
                    // 将日期盒子中所有的 input 框设为不可用
                    for (let i = 0; i < myDateInputs.length; i++) {
                        myDateInputs[i].disabled = true;
                    }
                    // 将年月日填入日期盒子中对应的 input 框
                    myDateInputs[0].value = year;
                    myDateInputs[1].value = month;
                    myDateInputs[2].value = day;


                    // 获取时间盒子中所有的 input 框
                    let myTimeInputs = document.querySelectorAll('.time input');
                    // 获取时分秒
                    let hours = date.getHours();
                    hours = hours < 10 ? '0' + hours : hours;
                    // console.log(hours);
                    let minutes = date.getMinutes();
                    minutes = minutes < 10 ? '0' + minutes : minutes;
                    // console.log(minutes);
                    let seconds = date.getSeconds();
                    seconds = seconds < 10 ? '0' + seconds : seconds;
                    // console.log(seconds);
                    // 将时间盒子中所有的 input 框设为不可用
                    for (let i = 0; i < myTimeInputs.length; i++) {
                        myTimeInputs[i].disabled = true;
                    }
                    // 将时分秒填入时间盒子中对应的 input 框
                    myTimeInputs[0].value = hours;
                    myTimeInputs[1].value = minutes;
                    myTimeInputs[2].value = seconds;
                    // 设置定时器
                    let timerForCurrentTime = setInterval(function () {
                        // 每秒都需要重新获取一下时间
                        date = new Date();
                        hours = date.getHours();
                        minutes = date.getMinutes();
                        seconds = date.getSeconds();
                        hours = hours < 10 ? '0' + hours : hours;
                        minutes = minutes < 10 ? '0' + minutes : minutes;
                        seconds = seconds < 10 ? '0' + seconds : seconds;
                        // 将重新获取的时分秒填入时间盒子中对应的 input 框
                        myTimeInputs[0].value = hours;
                        myTimeInputs[1].value = minutes;
                        myTimeInputs[2].value = seconds;
                    }, 1000);
                </script>
            </div>

            <script>
                // 存储幸运数字
                // 放在日期下面
                tiquXingYun.push('幸运数：' + goodNumber.innerHTML + ' [' + year + '-' + month + '-' + day + ' ' + hours + ':' + minutes + ':' + seconds + ']');
                localStorage.setItem('tiquXingYun', JSON.stringify(tiquXingYun));
            </script>


            <!-- &&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&& 随机数模块 -->
            <!-- 随机数1和2 提取窗口 -->
            <div class="tiqu-random-box12">
                <!-- 标题 -->
                <h3>随机数1和2提取</h3>
                <!-- 提取的内容 -->
                <textarea class="tiqu-random-box12-textarea content_box2" disabled></textarea>
                <!-- 关闭窗口按钮 -->
                <button class="tiqu-random-box12-clear">清空内容</button>
                <button class="tiqu-random-box12-close">关闭窗口</button>
            </div>

            <!-- 随机数1 提取窗口 -->
            <div class="tiqu-random-box1">
                <!-- 标题 -->
                <h3>随机数1提取</h3>
                <!-- 提取的内容 -->
                <textarea class="tiqu-random-box1-textarea content_box2" disabled></textarea>
                <!-- 关闭窗口按钮 -->
                <button class="tiqu-random-box1-clear">清空内容</button>
                <button class="tiqu-random-box1-close">关闭窗口</button>
            </div>

            <!-- 随机数2 提取窗口 -->
            <div class="tiqu-random-box2">
                <!-- 标题 -->
                <h3>随机数2提取</h3>
                <!-- 提取的内容 -->
                <textarea class="tiqu-random-box2-textarea content_box2" disabled></textarea>
                <!-- 关闭窗口按钮 -->
                <button class="tiqu-random-box2-clear">清空内容</button>
                <button class="tiqu-random-box2-close">关闭窗口</button>
            </div>

            <script>
                // 随机数1和随机数2 提取窗口
                let randomBox12 = document.querySelector('.tiqu-random-box12');
                // 点击关闭窗口按钮，关闭窗口
                let closeRandomBox12 = document.querySelector('.tiqu-random-box12-close');
                closeRandomBox12.addEventListener('click', function () {
                    pageMask.style.display = 'none';
                    randomBox12.style.display = 'none';
                });

                // 随机数1 提取窗口
                let randomBox1 = document.querySelector('.tiqu-random-box1');
                // 点击关闭窗口按钮，关闭窗口
                let closeRandomBox1 = document.querySelector('.tiqu-random-box1-close');
                closeRandomBox1.addEventListener('click', function () {
                    pageMask.style.display = 'none';
                    randomBox1.style.display = 'none';
                });

                // 随机数2 提取窗口
                let randomBox2 = document.querySelector('.tiqu-random-box2');
                // 点击关闭窗口按钮，关闭窗口
                let closeRandomBox2 = document.querySelector('.tiqu-random-box2-close');
                closeRandomBox2.addEventListener('click', function () {
                    pageMask.style.display = 'none';
                    randomBox2.style.display = 'none';
                });

            </script>

            <h3>随机数</h3>
            <div class="mod" style="padding: 14px 9px 0px;">
                <!-- <button class="showRandomBtn">幸运数和随机数</button> -->

                <div class="btn-choose-line" style="margin: 19px 0 14px;border: none;"></div>

                <!-- <h4>随机数1</h4> -->
                <div class="random-box1">
                    <!-- <h3 style="color:#ec1616">随机数1</h3> -->
                    <!-- <h3 style="color:#bfba86">随机数1</h3> -->
                    <!-- <h3 style="color:#eee">随机数1</h3> -->
                    <!-- <h3 style="color:#FFF5E1">随机数1</h3> -->

                    <!-- <h4 style="text-align: center;margin-bottom: 20px;color:#e82424" class="randoms"> -->
                    <h4 style="text-align: center;margin-bottom: 9px;" class="get-randoms-1">
                        <span>范围 :</span>
                        <input type="text" class="get-random-min-1" value="1" maxlength="6" style="width: 70px;">
                        ~
                        <input type="text" class="get-random-max-1" value="35" maxlength="5" style="width: 70px;">
                        <br>
                        <span class="get-howmany-random-1">
                            生成
                            <input type="text" maxlength="3" value="5">
                            个
                        </span>
                        <span class="random-isrepeat-1">
                            <label>
                                <input type="radio" name="random-isrepeat-1" id="" class="random-repeat-radio-1">可重复
                            </label>
                            <label>
                                <input type="radio" name="random-isrepeat-1" id="" class="random-not-repeat-radio-1"
                                    checked>不重复
                            </label>
                        </span>
                        <br>
                        <button class="get-random-1">生成</button>
                        <button class="get-random-history-1">提取</button>
                        <button class="get-random-clear-1">清空</button>
                        <button class="randoms-order-up-1">升序</button>
                        <button class="randoms-order-down-1">降序</button>
                        <button class="randoms-no-order-1">还原</button>
                        <!-- -> -->
                        <!-- <input type="text" class="randomNum" value="" style="width: 70px;"> -->
                        <div class="random-show-1 content_box3">暂无内容</div>
                    </h4>


                </div>


                <div class="btn-choose-line" style="margin: 9px 0 9px;"></div>


                <div class="random-box1">
                    <!-- <h3 style="color:#ec1616">随机数1</h3> -->
                    <!-- <h3 style="color:#bfba86">随机数1</h3> -->
                    <!-- <h3 style="color:#eee">随机数1</h3> -->
                    <!-- <h3 style="color:#FFF5E1">随机数1</h3> -->

                    <!-- <h4 style="text-align: center;margin-bottom: 20px;color:#e82424" class="randoms"> -->
                    <h4 style="text-align: center;margin-bottom: 9px;" class="get-randoms-2">
                        <span>范围 :</span>
                        <input type="text" class="get-random-min-2" value="1" maxlength="6" style="width: 70px;">
                        ~
                        <input type="text" class="get-random-max-2" value="12" maxlength="5" style="width: 70px;">
                        <br>
                        <span class="get-howmany-random-2">
                            生成
                            <input type="text" maxlength="3" value="2">
                            个
                        </span>
                        <span class="random-isrepeat-2">
                            <label>
                                <input type="radio" name="random-isrepeat-2" id="" class="random-repeat-radio-2">可重复
                            </label>
                            <label>
                                <input type="radio" name="random-isrepeat-2" id="" class="random-not-repeat-radio-2"
                                    checked>不重复
                            </label>
                        </span>
                        <br>
                        <button class="get-random-2">生成</button>
                        <button class="get-random-history-2">提取</button>
                        <button class="get-random-clear-2">清空</button>
                        <button class="randoms-order-up-2">升序</button>
                        <button class="randoms-order-down-2">降序</button>
                        <button class="randoms-no-order-2">还原</button>
                        <!-- -> -->
                        <!-- <input type="text" class="randomNum" value="" style="width: 70px;"> -->
                        <div class="random-show-2 content_box3">暂无内容</div>
                    </h4>



                </div>


                <!-- 随机数1 和 随机数2 同时生成和统计 -->
                <button class="btn-get-random12">同时生成</button>
                <button class="btn-collect-random12">同时提取</button>

                <script>
                    // 对输入的范围进行校验
                    // 输入的最小值，范围规定的最小值，输入的最大值，范围规定的最大值
                    function checkRangeMinAndMax(min, minRange, max, maxRange) {
                        if (!isIntegerStringPositive(min) || !isIntegerStringPositive(max)) {
                            return false;
                        }
                        if (parseInt(min) > parseInt(max)) {
                            return false;
                        }
                        if (parseInt(max) > maxRange || parseInt(min) < minRange) {
                            return false;
                        }
                        return true;
                    }

                    // 为范围左侧的输入框添加事件
                    // 回车、方向键、删除键
                    function addEventForMinInputObjAndMaxInputObj(minInputObj, maxInputObj) {
                        minInputObj.addEventListener('keydown', function (e) {
                            if (e.key === 'Enter') {
                                maxInputObj.focus();
                            }
                            if (e.key === 'ArrowLeft' || e.key === 'ArrowUp') {
                                return false;
                            }
                            if (e.key === 'ArrowRight' || e.key === 'ArrowDown') {
                                maxInputObj.focus();
                            }
                            if (e.key === 'Delete' || e.key === 'Backspace') {
                                this.value = '';
                            }
                        });
                        maxInputObj.addEventListener('keydown', function (e) {
                            if (e.key === 'Enter') {
                                this.blur();
                                return false;
                            }
                            if (e.key === 'ArrowLeft' || e.key === 'ArrowUp') {
                                minInputObj.focus();
                            }
                            if (e.key === 'ArrowRight' || e.key === 'ArrowDown') {
                                return false;
                            }
                            if (e.key === 'Delete' || e.key === 'Backspace') {
                                this.value = '';
                            }
                        });
                    }

                    // 为随机数中的个数输入框添加删除事件
                    function addDeleteEventForInput(inputObj) {
                        inputObj.addEventListener('keydown', function (e) {
                            if (e.key === 'Delete' || e.key === 'Backspace') {
                                this.value = '';
                            }
                        });
                    }


                    // 对输入要生成的个数进行校验
                    // 输入的个数，范围规定的最小值，范围规定的最大值
                    function checkRangeMinAndMax(inputValue, minRange, maxRange) {
                        if (!isIntegerStringPositive(inputValue)) {
                            return false;
                        }
                        if (parseInt(inputValue) > maxRange || parseInt(inputValue) < minRange) {
                            return false;
                        }
                        return true;
                    }


                    // 同时生成按钮
                    let btnGetRandom12 = document.querySelector('.btn-get-random12');
                    // 同时提取按钮
                    let btnCollectRandom12 = document.querySelector('.btn-collect-random12');

                    // 生成随机数的按钮
                    let getRandom1 = document.querySelector('.get-random-1');
                    // 生成随机数的按钮
                    let getRandom2 = document.querySelector('.get-random-2');

                    // 最小值输入框
                    let minInputObj1 = document.querySelector('.get-random-min-1');
                    let maxInputObj1 = document.querySelector('.get-random-max-1');
                    minInputObj1.value = localStorage.getItem('minInput1') || 1;
                    maxInputObj1.value = localStorage.getItem('maxInput1') || 35;


                    // 生成几个随机数
                    let getHowmanyRandom1 = document.querySelector('.get-howmany-random-1 input');
                    getHowmanyRandom1.value = localStorage.getItem('getRandomNum1') || 5;

                    // 为随机数中的个数输入框添加删除事件
                    addDeleteEventForInput(getHowmanyRandom1);

                    // 获取不重复单选框
                    let randomNotRepeatRadio1 = document.querySelector('.random-not-repeat-radio-1');

                    // 随机数展示区域
                    let randomShow1 = document.querySelector('.random-show-1');

                    // 为范围左侧的输入框添加事件
                    // 回车、方向键、删除键
                    addEventForMinInputObjAndMaxInputObj(minInputObj1, maxInputObj1);

                    // 文本域
                    let randomBox1Content = document.querySelector('.tiqu-random-box1-textarea');

                    // 存储模块1中每次产生的随机数
                    // { id, randomsArr }
                    let randomResArr1 = JSON.parse(localStorage.getItem('randomResArr1')) || [];

                    // 遍历随机数数组，渲染到页面
                    randomBox1Content.innerHTML = '';
                    // console.log(randomResArr1);
                    for (let j = 0; j < randomResArr1.length; j++) {
                        randomBox1Content.innerHTML += '时间：[' + randomResArr1[j].time + ']\n内容：| ';
                        let orderArr = [];
                        for (let i = 0; i < randomResArr1[j].randomsArr.length; i++) {
                            orderArr.push(randomResArr1[j].randomsArr[i]);
                        }
                        orderArr.sort(function (a, b) {
                            return a - b;
                        });
                        for (let i = 0; i < orderArr.length; i++) {
                            randomBox1Content.innerHTML += orderArr[i] + ' | ';
                        }
                        randomBox1Content.innerHTML += '\n\n';
                    }

                    // 点击按钮生成随机数
                    getRandom1.addEventListener('click', function () {
                        // 获取本地存储的所有随机数对象数组
                        randomResArr1 = JSON.parse(localStorage.getItem('randomResArr1')) || [];
                        getHowmanyRandom1.value = localStorage.getItem('getRandomNum1') || 5;
                        minInputObj1.value = localStorage.getItem('minInput1') || 1;
                        maxInputObj1.value = localStorage.getItem('maxInput1') || 35;

                        // 便于添加到本地存储中的随机数对象数组
                        let tempObj = {
                            id: 'random001',
                            time: '',
                            randomsArr: []
                        };

                        // 获取输入的范围：字符串类型
                        let minValue1 = minInputObj1.value;
                        let maxValue1 = maxInputObj1.value;

                        // 判断输入的范围
                        let isOK = checkRangeMinAndMax(minValue1, -10000, maxValue1, 10000);
                        if (!isOK) {
                            pageMask2.style.display = 'block';
                            tipBox.style.display = 'block';
                            tipContent.innerHTML = '输入[-10000,10000]之间的整数';
                            return false;
                        }

                        let isPass = checkRangeMinAndMax(getHowmanyRandom1.value, 1, 100);
                        if (!isPass) {
                            pageMask2.style.display = 'block';
                            tipBox.style.display = 'block';
                            tipContent.innerHTML = '输入[1,100]之间的整数';
                            return false;
                        }




                        // 转换最大值、最小值
                        let min = parseInt(minValue1.trim());
                        let max = parseInt(maxValue1.trim());

                        if (randomNotRepeatRadio1.checked && parseInt(getHowmanyRandom1.value.trim()) > (max - min + 1)) {
                            pageMask2.style.display = 'block';
                            tipBox.style.display = 'block';
                            tipContent.innerHTML = '输入范围太小';
                            return false;
                        }

                        // 为防止出现时间一致的情况，2秒后释放所有生成按钮
                        // getRandom1.disabled = true;
                        // getRandom2.disabled = true;
                        // btnGetRandom12.disabled = true;


                        // 不重复方案1：推荐
                        // 1.将范围内的数字打乱放入一个临时数组
                        // 2.从数组中随机选出一个，放入新数组
                        // 3.选出一个，删除一个
                        // 不重复方案2：
                        // 1.将范围内的数字打乱放入一个临时数组
                        // 2.从数组中随机选出一个，放入新数组
                        // 3.借助死循环，只要新数组中存在，就一直找
                        if (randomNotRepeatRadio1.checked) {
                            // 1.将范围内的数字打乱放入一个临时数组
                            let tempArr = randomNumberToArr(min, max);
                            // 生成 n 个随机数
                            for (let i = 0; i < parseInt(getHowmanyRandom1.value.trim()); i++) {
                                // 获取1个随机索引
                                let tempIndex = getRandomNumber(0, tempArr.length - 1);
                                // 2.从数组中随机选出一个，放入新数组
                                tempObj.randomsArr.push(tempArr[tempIndex]);
                                // 3.选出一个，删除一个
                                tempArr = tempArr.filter(v => v != tempArr[tempIndex]);
                            }
                        } else {
                            // 生成 n 个随机数
                            for (let i = 0; i < parseInt(getHowmanyRandom1.value.trim()); i++) {
                                // 获取1个随机数
                                let tempRandom = getRandomNumber(min, max);
                                // 存储随机数
                                tempObj.randomsArr.push(tempRandom);
                            }
                        }




                        // console.log(tempObj);
                        // 遍历随机数数组，渲染到页面
                        randomShow1.innerHTML = '';
                        for (let j = 0; j < tempObj.randomsArr.length; j++) {
                            if (j === tempObj.randomsArr.length - 1) {
                                randomShow1.innerHTML += tempObj.randomsArr[j];
                            } else {
                                randomShow1.innerHTML += tempObj.randomsArr[j] + ' ';
                            }

                        }

                        tempObj.time = year + '-' + month + '-' + day + ' ' + hours + ':' + minutes + ':' + seconds;

                        // 添加到本地存储中的随机数对象数组
                        randomResArr1.push(tempObj);
                        // 设置本地存储
                        localStorage.setItem('randomResArr1', JSON.stringify(randomResArr1));


                        // let timerr = setTimeout(() => {
                        //     getRandom1.disabled = false;
                        //     getRandom2.disabled = false;
                        //     btnGetRandom12.disabled = false;
                        //     clearTimeout(timerr);
                        // }, 1000);
                    });
                    // 进入页面就会生成一次随机数
                    // getRandom1.click();





                    // 提取按钮
                    let getRandomHistory = document.querySelector('.get-random-history-1');
                    getRandomHistory.addEventListener('click', function () {
                        // 存储模块1中每次产生的随机数
                        // { id, randomsArr }
                        randomResArr1 = JSON.parse(localStorage.getItem('randomResArr1')) || [];
                        // 显示遮罩层和窗口
                        pageMask.style.display = 'block';
                        randomBox1.style.display = 'block';

                        // 遍历随机数数组，渲染到页面
                        randomBox1Content.innerHTML = '';
                        for (let j = 0; j < randomResArr1.length; j++) {
                            randomBox1Content.innerHTML += '时间：[' + randomResArr1[j].time + ']\n内容：| ';
                            let orderArr = [];
                            for (let i = 0; i < randomResArr1[j].randomsArr.length; i++) {
                                orderArr.push(randomResArr1[j].randomsArr[i]);
                            }
                            orderArr.sort(function (a, b) {
                                return a - b;
                            });
                            for (let i = 0; i < orderArr.length; i++) {
                                randomBox1Content.innerHTML += orderArr[i] + ' | ';
                            }
                            randomBox1Content.innerHTML += '\n\n';
                        }

                    });
                    // getRandomHistory.click();

                    // 点击清空按钮，清空页面
                    let clearRandomPageResult1 = document.querySelector('.get-random-clear-1');
                    clearRandomPageResult1.addEventListener('click', function () {
                        randomShow1.innerHTML = '暂无内容';
                    });


                    // 点击清空内容
                    // 清空文本域、本地存储
                    let clearRandomBox1 = document.querySelector('.tiqu-random-box1-clear');
                    clearRandomBox1.addEventListener('click', function () {
                        randomShow1.innerHTML = '暂无内容';
                        localStorage.removeItem('randomResArr1');
                        randomBox1Content.innerHTML = '';
                    });


                </script>
                <script>
                    /*
                      随机数模块升序功能
                    */
                    // isSort：true false
                    // howSort: 1 升序 2 降序
                    function handleRandomsOrder1(isSort, howSort) {
                        // 把数组中最后一项拿出来，对里面的 randomsArr 进行复制并排序
                        randomResArr1 = JSON.parse(localStorage.getItem('randomResArr1')) || [];
                        if (randomResArr1.length === 0) {
                            return;
                        }
                        if (randomShow1.innerHTML === '暂无内容' || randomShow1.innerHTML === '') {
                            return;
                        }
                        // console.log(randomResArr1);
                        // 临时数组
                        let orderArr = [];
                        // 添加最后一次保存的元素
                        for (let i = 0; i < randomResArr1[randomResArr1.length - 1].randomsArr.length; i++) {
                            orderArr[i] = randomResArr1[randomResArr1.length - 1].randomsArr[i];
                        }

                        // 是否排序，如何排序
                        if (isSort) {
                            if (howSort === 1) {
                                // 升序
                                orderArr.sort(function (a, b) {
                                    return a - b;
                                });
                            }
                            if (howSort === 2) {
                                // 升序
                                orderArr.sort(function (a, b) {
                                    return b - a;
                                });
                            }
                        }

                        // 遍历随机数数组，渲染到页面
                        randomShow1.innerHTML = '';
                        for (let j = 0; j < orderArr.length; j++) {
                            if (j === orderArr.length - 1) {
                                randomShow1.innerHTML += orderArr[j];
                            } else {
                                randomShow1.innerHTML += orderArr[j] + ' ';
                            }
                        }
                    }



                    // 存储模块1中每次产生的随机数
                    // { id, randomsArr }
                    // let randomResArr1 = JSON.parse(localStorage.getItem('randomResArr1')) || [];
                    // 升序按钮
                    let randomsOrderUp1 = document.querySelector('.randoms-order-up-1');
                    // 降序按钮
                    let randomsOrderDown1 = document.querySelector('.randoms-order-down-1');
                    // 还原按钮
                    let randomsNoOrder1 = document.querySelector('.randoms-no-order-1');



                    // 升序功能
                    randomsOrderUp1.addEventListener('click', function () {
                        handleRandomsOrder1(true, 1);
                    });

                    // 降序功能
                    randomsOrderDown1.addEventListener('click', function () {
                        handleRandomsOrder1(true, 2);
                    });

                    // 还原功能
                    randomsNoOrder1.addEventListener('click', function () {
                        handleRandomsOrder1(false);
                    });
                </script>
                <script>
                    // 对输入的范围进行校验
                    // 输入的最小值，范围规定的最小值，输入的最大值，范围规定的最大值
                    function checkRangeMinAndMax(min, minRange, max, maxRange) {
                        if (!isIntegerStringPositive(min) || !isIntegerStringPositive(max)) {
                            return false;
                        }
                        if (parseInt(min) > parseInt(max)) {
                            return false;
                        }
                        if (parseInt(max) > maxRange || parseInt(min) < minRange) {
                            return false;
                        }
                        return true;
                    }

                    // 为范围左侧的输入框添加事件
                    // 回车、方向键、删除键
                    function addEventForMinInputObjAndMaxInputObj(minInputObj, maxInputObj) {
                        minInputObj.addEventListener('keydown', function (e) {
                            if (e.key === 'Enter') {
                                maxInputObj.focus();
                            }
                            if (e.key === 'ArrowLeft' || e.key === 'ArrowUp') {
                                return false;
                            }
                            if (e.key === 'ArrowRight' || e.key === 'ArrowDown') {
                                maxInputObj.focus();
                            }
                            if (e.key === 'Delete' || e.key === 'Backspace') {
                                this.value = '';
                            }
                        });
                        maxInputObj.addEventListener('keydown', function (e) {
                            if (e.key === 'Enter') {
                                this.blur();
                                return false;
                            }
                            if (e.key === 'ArrowLeft' || e.key === 'ArrowUp') {
                                minInputObj.focus();
                            }
                            if (e.key === 'ArrowRight' || e.key === 'ArrowDown') {
                                return false;
                            }
                            if (e.key === 'Delete' || e.key === 'Backspace') {
                                this.value = '';
                            }
                        });
                    }

                    // 为随机数中的个数输入框添加删除事件
                    function addDeleteEventForInput(inputObj) {
                        inputObj.addEventListener('keydown', function (e) {
                            if (e.key === 'Delete' || e.key === 'Backspace') {
                                this.value = '';
                            }
                        });
                    }


                    // 对输入要生成的个数进行校验
                    // 输入的个数，范围规定的最小值，范围规定的最大值
                    function checkRangeMinAndMax(inputValue, minRange, maxRange) {
                        if (!isIntegerStringPositive(inputValue)) {
                            return false;
                        }
                        if (parseInt(inputValue) > maxRange || parseInt(inputValue) < minRange) {
                            return false;
                        }
                        return true;
                    }




                    // 最小值输入框
                    let minInputObj2 = document.querySelector('.get-random-min-2');
                    let maxInputObj2 = document.querySelector('.get-random-max-2');
                    minInputObj2.value = localStorage.getItem('minInput2') || 1;
                    maxInputObj2.value = localStorage.getItem('maxInput2') || 12;

                    // 生成几个随机数
                    let getHowmanyRandom2 = document.querySelector('.get-howmany-random-2 input');
                    getHowmanyRandom2.value = localStorage.getItem('getRandomNum2') || 2;

                    // 为随机数中的个数输入框添加删除事件
                    addDeleteEventForInput(getHowmanyRandom2);

                    // 获取不重复单选框
                    let randomNotRepeatRadio2 = document.querySelector('.random-not-repeat-radio-2');

                    // 随机数展示区域
                    let randomShow2 = document.querySelector('.random-show-2');

                    // 为范围左侧的输入框添加事件
                    // 回车、方向键、删除键
                    addEventForMinInputObjAndMaxInputObj(minInputObj2, maxInputObj2);

                    // 文本域
                    let randomBox2Content = document.querySelector('.tiqu-random-box2-textarea');
                    let randomBox12Content = document.querySelector('.tiqu-random-box12-textarea');

                    // 存储模块2中每次产生的随机数
                    // { id, randomsArr }
                    let randomResArr2 = JSON.parse(localStorage.getItem('randomResArr2')) || [];

                    // 遍历随机数数组，渲染到页面
                    randomBox2Content.innerHTML = '';
                    // console.log(randomResArr1);
                    for (let j = 0; j < randomResArr2.length; j++) {
                        randomBox2Content.innerHTML += '时间：[' + randomResArr2[j].time + ']\n内容：| ';
                        let orderArr = [];
                        for (let i = 0; i < randomResArr2[j].randomsArr.length; i++) {
                            orderArr.push(randomResArr2[j].randomsArr[i]);
                        }
                        orderArr.sort(function (a, b) {
                            return a - b;
                        });
                        for (let i = 0; i < orderArr.length; i++) {
                            randomBox2Content.innerHTML += orderArr[i] + ' | ';
                        }
                        randomBox2Content.innerHTML += '\n\n';
                    }

                    // 点击按钮生成随机数
                    getRandom2.addEventListener('click', function () {
                        // 获取本地存储的所有随机数对象数组
                        randomResArr2 = JSON.parse(localStorage.getItem('randomResArr2')) || [];
                        getHowmanyRandom2.value = localStorage.getItem('getRandomNum2') || 2;
                        minInputObj2.value = localStorage.getItem('minInput2') || 1;
                        maxInputObj2.value = localStorage.getItem('maxInput2') || 12;


                        // 便于添加到本地存储中的随机数对象数组
                        let tempObj = {
                            id: 'random002',
                            time: '',
                            randomsArr: []
                        };



                        // 获取输入的范围：字符串类型
                        let minValue2 = minInputObj2.value;
                        let maxValue2 = maxInputObj2.value;

                        // 判断输入的范围
                        let isOK = checkRangeMinAndMax(minValue2, -10000, maxValue2, 10000);
                        if (!isOK) {
                            pageMask2.style.display = 'block';
                            tipBox.style.display = 'block';
                            tipContent.innerHTML = '输入[-10000,10000]之间的整数';
                            return false;
                        }

                        let isPass = checkRangeMinAndMax(getHowmanyRandom2.value, 1, 100);
                        if (!isPass) {
                            pageMask2.style.display = 'block';
                            tipBox.style.display = 'block';
                            tipContent.innerHTML = '输入[1,100]之间的整数';
                            return false;
                        }

                        // 转换最大值、最小值
                        let min = parseInt(minValue2.trim());
                        let max = parseInt(maxValue2.trim());

                        if (randomNotRepeatRadio2.checked && parseInt(getHowmanyRandom2.value.trim()) > (max - min + 1)) {
                            pageMask2.style.display = 'block';
                            tipBox.style.display = 'block';
                            tipContent.innerHTML = '输入范围太小';
                            return false;
                        }

                        // getRandom1.disabled = true;
                        // getRandom2.disabled = true;
                        // btnGetRandom12.disabled = true;


                        // 不重复方案1：推荐
                        // 1.将范围内的数字打乱放入一个临时数组
                        // 2.从数组中随机选出一个，放入新数组
                        // 3.选出一个，删除一个
                        // 不重复方案2：
                        // 1.将范围内的数字打乱放入一个临时数组
                        // 2.从数组中随机选出一个，放入新数组
                        // 3.借助死循环，只要新数组中存在，就一直找
                        if (randomNotRepeatRadio2.checked) {
                            // 1.将范围内的数字打乱放入一个临时数组
                            let tempArr = randomNumberToArr(min, max);
                            // 生成 n 个随机数
                            for (let i = 0; i < parseInt(getHowmanyRandom2.value.trim()); i++) {
                                // 获取1个随机索引
                                let tempIndex = getRandomNumber(0, tempArr.length - 1);
                                // 2.从数组中随机选出一个，放入新数组
                                tempObj.randomsArr.push(tempArr[tempIndex]);
                                // 3.选出一个，删除一个
                                tempArr = tempArr.filter(v => v != tempArr[tempIndex]);
                            }
                        } else {
                            // 生成 n 个随机数
                            for (let i = 0; i < parseInt(getHowmanyRandom2.value.trim()); i++) {
                                // 获取1个随机数
                                let tempRandom = getRandomNumber(min, max);
                                // 存储随机数
                                tempObj.randomsArr.push(tempRandom);
                            }
                        }




                        // console.log(tempObj);
                        // 遍历随机数数组，渲染到页面
                        randomShow2.innerHTML = '';
                        for (let j = 0; j < tempObj.randomsArr.length; j++) {
                            if (j === tempObj.randomsArr.length - 1) {
                                randomShow2.innerHTML += tempObj.randomsArr[j];
                            } else {
                                randomShow2.innerHTML += tempObj.randomsArr[j] + ' ';
                            }

                        }

                        tempObj.time = year + '-' + month + '-' + day + ' ' + hours + ':' + minutes + ':' + seconds;

                        // 添加到本地存储中的随机数对象数组
                        randomResArr2.push(tempObj);
                        // 设置本地存储
                        localStorage.setItem('randomResArr2', JSON.stringify(randomResArr2));


                        // let timerr = setTimeout(() => {
                        //     getRandom1.disabled = false;
                        //     getRandom2.disabled = false;
                        //     btnGetRandom12.disabled = false;
                        //     clearTimeout(timerr);
                        // }, 1000);
                    });
                    // 进入页面就会生成一次随机数
                    // getRandom2.click();





                    // 提取按钮
                    let getRandomHistory2 = document.querySelector('.get-random-history-2');
                    getRandomHistory2.addEventListener('click', function () {
                        // 存储模块1中每次产生的随机数
                        // { id, randomsArr }
                        randomResArr2 = JSON.parse(localStorage.getItem('randomResArr2')) || [];
                        // 显示遮罩层和窗口
                        pageMask.style.display = 'block';
                        randomBox2.style.display = 'block';

                        // 遍历随机数数组，渲染到页面
                        randomBox2Content.innerHTML = '';
                        for (let j = 0; j < randomResArr2.length; j++) {
                            randomBox2Content.innerHTML += '时间：[' + randomResArr2[j].time + ']\n内容：| ';
                            let orderArr = [];
                            for (let i = 0; i < randomResArr2[j].randomsArr.length; i++) {
                                orderArr.push(randomResArr2[j].randomsArr[i]);
                            }
                            orderArr.sort(function (a, b) {
                                return a - b;
                            });
                            for (let i = 0; i < orderArr.length; i++) {
                                randomBox2Content.innerHTML += orderArr[i] + ' | ';
                            }
                            randomBox2Content.innerHTML += '\n\n';
                        }

                    });
                    // getRandomHistory.click();

                    // 点击清空按钮，清空页面
                    let clearRandomPageResult2 = document.querySelector('.get-random-clear-2');
                    clearRandomPageResult2.addEventListener('click', function () {
                        randomShow2.innerHTML = '暂无内容';
                    });


                    // 点击清空内容
                    // 清空文本域、本地存储
                    let clearRandomBox2 = document.querySelector('.tiqu-random-box2-clear');
                    clearRandomBox2.addEventListener('click', function () {
                        randomShow2.innerHTML = '暂无内容';
                        localStorage.removeItem('randomResArr2');
                        randomBox2Content.innerHTML = '';
                    });


                </script>
                <script>
                    /*
                      随机数模块升序功能
                    */
                    // isSort：true false
                    // howSort: 1 升序 2 降序
                    function handleRandomsOrder2(isSort, howSort) {
                        // 把数组中最后一项拿出来，对里面的 randomsArr 进行复制并排序
                        randomResArr2 = JSON.parse(localStorage.getItem('randomResArr2')) || [];
                        if (randomResArr2.length === 0) {
                            return;
                        }
                        if (randomShow2.innerHTML === '暂无内容' || randomShow2.innerHTML === '') {
                            return;
                        }
                        // console.log(randomResArr2);
                        // 临时数组
                        let orderArr = [];
                        // 添加最后一次保存的元素
                        for (let i = 0; i < randomResArr2[randomResArr2.length - 1].randomsArr.length; i++) {
                            orderArr[i] = randomResArr2[randomResArr2.length - 1].randomsArr[i];
                        }

                        // 是否排序，如何排序
                        if (isSort) {
                            if (howSort === 1) {
                                // 升序
                                orderArr.sort(function (a, b) {
                                    return a - b;
                                });
                            }
                            if (howSort === 2) {
                                // 升序
                                orderArr.sort(function (a, b) {
                                    return b - a;
                                });
                            }
                        }

                        // 遍历随机数数组，渲染到页面
                        randomShow2.innerHTML = '';
                        for (let j = 0; j < orderArr.length; j++) {
                            if (j === orderArr.length - 1) {
                                randomShow2.innerHTML += orderArr[j];
                            } else {
                                randomShow2.innerHTML += orderArr[j] + ' ';
                            }
                        }
                    }



                    // 存储模块1中每次产生的随机数
                    // { id, randomsArr }
                    // let randomResArr1 = JSON.parse(localStorage.getItem('randomResArr1')) || [];
                    // 升序按钮
                    let randomsOrderUp2 = document.querySelector('.randoms-order-up-2');
                    // 降序按钮
                    let randomsOrderDown2 = document.querySelector('.randoms-order-down-2');
                    // 还原按钮
                    let randomsNoOrder2 = document.querySelector('.randoms-no-order-2');



                    // 升序功能
                    randomsOrderUp2.addEventListener('click', function () {
                        handleRandomsOrder2(true, 1);
                    });

                    // 降序功能
                    randomsOrderDown2.addEventListener('click', function () {
                        handleRandomsOrder2(true, 2);
                    });

                    // 还原功能
                    randomsNoOrder2.addEventListener('click', function () {
                        handleRandomsOrder2(false);
                    });
                </script>

                <script>
                    // 为随机数模块中所有的输入框添加 blur 事件，进行本地存储
                    minInputObj1.addEventListener('blur', function () {
                        localStorage.setItem('minInput1', this.value);
                    });
                    minInputObj2.addEventListener('blur', function () {
                        localStorage.setItem('minInput2', this.value);
                    });

                    maxInputObj1.addEventListener('blur', function () {
                        localStorage.setItem('maxInput1', this.value);
                    });
                    maxInputObj2.addEventListener('blur', function () {
                        localStorage.setItem('maxInput2', this.value);
                    });

                    getHowmanyRandom1.addEventListener('blur', function () {
                        localStorage.setItem('getRandomNum1', this.value);
                    });
                    getHowmanyRandom2.addEventListener('blur', function () {
                        localStorage.setItem('getRandomNum2', this.value);
                    });
                </script>
                <script>


                    let randomResArr12 = JSON.parse(localStorage.getItem('randomResArr12')) || [];




                    // 点击同时生成，同时触发生成功能
                    btnGetRandom12.addEventListener('click', function () {
                        // 获取本地存储的所有随机数对象数组
                        randomResArr1 = JSON.parse(localStorage.getItem('randomResArr1')) || [];
                        getHowmanyRandom1.value = localStorage.getItem('getRandomNum1') || 5;
                        minInputObj1.value = localStorage.getItem('minInput1') || 1;
                        maxInputObj1.value = localStorage.getItem('maxInput1') || 35;
                        // 获取本地存储的所有随机数对象数组
                        randomResArr2 = JSON.parse(localStorage.getItem('randomResArr2')) || [];
                        getHowmanyRandom2.value = localStorage.getItem('getRandomNum2') || 2;
                        minInputObj2.value = localStorage.getItem('minInput2') || 1;
                        maxInputObj2.value = localStorage.getItem('maxInput2') || 12;

                        randomResArr12 = JSON.parse(localStorage.getItem('randomResArr12')) || [];


                        let tempObj = {
                            time: '',
                            randoms1: [],
                            randoms2: []
                        };


                        // 便于添加到本地存储中的随机数对象数组
                        let tempObj1 = {
                            id: 'random001',
                            time: '',
                            randomsArr: []
                        };

                        // 获取输入的范围：字符串类型
                        let minValue1 = minInputObj1.value;
                        let maxValue1 = maxInputObj1.value;

                        // 判断输入的范围
                        let isOK1 = checkRangeMinAndMax(minValue1, -10000, maxValue1, 10000);
                        if (!isOK1) {
                            pageMask2.style.display = 'block';
                            tipBox.style.display = 'block';
                            tipContent.innerHTML = '输入[-10000,10000]之间的整数';
                            return false;
                        }

                        let isPass1 = checkRangeMinAndMax(getHowmanyRandom1.value, 1, 100);
                        if (!isPass1) {
                            pageMask2.style.display = 'block';
                            tipBox.style.display = 'block';
                            tipContent.innerHTML = '输入[1,100]之间的整数';
                            return false;
                        }

                        // 便于添加到本地存储中的随机数对象数组
                        let tempObj2 = {
                            id: 'random002',
                            time: '',
                            randomsArr: []
                        };

                        // 获取输入的范围：字符串类型
                        let minValue2 = minInputObj2.value;
                        let maxValue2 = maxInputObj2.value;

                        // 判断输入的范围
                        let isOK2 = checkRangeMinAndMax(minValue2, -10000, maxValue2, 10000);
                        if (!isOK2) {
                            pageMask2.style.display = 'block';
                            tipBox.style.display = 'block';
                            tipContent.innerHTML = '输入[-10000,10000]之间的整数';
                            return false;
                        }

                        let isPass2 = checkRangeMinAndMax(getHowmanyRandom2.value, 1, 100);
                        if (!isPass2) {
                            pageMask2.style.display = 'block';
                            tipBox.style.display = 'block';
                            tipContent.innerHTML = '输入[1,100]之间的整数';
                            return false;
                        }

                        // 转换最大值、最小值
                        let min1 = parseInt(minValue1.trim());
                        let max1 = parseInt(maxValue1.trim());

                        if (randomNotRepeatRadio1.checked && parseInt(getHowmanyRandom1.value.trim()) > (max1 - min1 + 1)) {
                            pageMask2.style.display = 'block';
                            tipBox.style.display = 'block';
                            tipContent.innerHTML = '输入范围太小';
                            return false;
                        }

                        // 转换最大值、最小值
                        let min2 = parseInt(minValue2.trim());
                        let max2 = parseInt(maxValue2.trim());

                        if (randomNotRepeatRadio2.checked && parseInt(getHowmanyRandom2.value.trim()) > (max2 - min2 + 1)) {
                            pageMask2.style.display = 'block';
                            tipBox.style.display = 'block';
                            tipContent.innerHTML = '输入范围太小';
                            return false;
                        }



                        // 为防止出现时间一致的情况，2秒后释放所有生成按钮
                        // getRandom1.disabled = true;
                        // getRandom2.disabled = true;
                        // btnGetRandom12.disabled = true;


                        // 不重复方案
                        if (randomNotRepeatRadio1.checked) {
                            // 1.将范围内的数字打乱放入一个临时数组
                            let tempArr = randomNumberToArr(min1, max1);
                            // 生成 n 个随机数
                            for (let i = 0; i < parseInt(getHowmanyRandom1.value.trim()); i++) {
                                // 获取1个随机索引
                                let tempIndex = getRandomNumber(0, tempArr.length - 1);
                                // 2.从数组中随机选出一个，放入新数组
                                tempObj1.randomsArr.push(tempArr[tempIndex]);
                                tempObj.randoms1.push(tempArr[tempIndex]);
                                // 3.选出一个，删除一个
                                tempArr = tempArr.filter(v => v != tempArr[tempIndex]);
                            }
                        } else {
                            // 生成 n 个随机数
                            for (let i = 0; i < parseInt(getHowmanyRandom1.value.trim()); i++) {
                                // 获取1个随机数
                                let tempRandom = getRandomNumber(min1, max1);
                                // 存储随机数
                                tempObj1.randomsArr.push(tempRandom);
                                tempObj.randoms1.push(tempRandom);
                            }
                        }

                        // 不重复方案
                        if (randomNotRepeatRadio2.checked) {
                            // 1.将范围内的数字打乱放入一个临时数组
                            let tempArr = randomNumberToArr(min2, max2);
                            // 生成 n 个随机数
                            for (let i = 0; i < parseInt(getHowmanyRandom2.value.trim()); i++) {
                                // 获取1个随机索引
                                let tempIndex = getRandomNumber(0, tempArr.length - 1);
                                // 2.从数组中随机选出一个，放入新数组
                                tempObj2.randomsArr.push(tempArr[tempIndex]);
                                tempObj.randoms2.push(tempArr[tempIndex]);
                                // 3.选出一个，删除一个
                                tempArr = tempArr.filter(v => v != tempArr[tempIndex]);
                            }
                        } else {
                            // 生成 n 个随机数
                            for (let i = 0; i < parseInt(getHowmanyRandom2.value.trim()); i++) {
                                // 获取1个随机数
                                let tempRandom = getRandomNumber(min2, max2);
                                // 存储随机数
                                tempObj2.randomsArr.push(tempRandom);
                                tempObj.randoms2.push(tempRandom);
                            }
                        }



                        // 遍历随机数数组，渲染到页面
                        randomShow1.innerHTML = '';
                        for (let j = 0; j < tempObj1.randomsArr.length; j++) {
                            if (j === tempObj1.randomsArr.length - 1) {
                                randomShow1.innerHTML += tempObj1.randomsArr[j];
                            } else {
                                randomShow1.innerHTML += tempObj1.randomsArr[j] + ' ';
                            }
                        }
                        // 遍历随机数数组，渲染到页面
                        randomShow2.innerHTML = '';
                        for (let j = 0; j < tempObj2.randomsArr.length; j++) {
                            if (j === tempObj2.randomsArr.length - 1) {
                                randomShow2.innerHTML += tempObj2.randomsArr[j];
                            } else {
                                randomShow2.innerHTML += tempObj2.randomsArr[j] + ' ';
                            }

                        }



                        tempObj1.time = year + '-' + month + '-' + day + ' ' + hours + ':' + minutes + ':' + seconds;
                        tempObj2.time = year + '-' + month + '-' + day + ' ' + hours + ':' + minutes + ':' + seconds;
                        tempObj.time = year + '-' + month + '-' + day + ' ' + hours + ':' + minutes + ':' + seconds;

                        // 添加到本地存储中的随机数对象数组
                        randomResArr1.push(tempObj1);
                        // 设置本地存储
                        localStorage.setItem('randomResArr1', JSON.stringify(randomResArr1));

                        // 添加到本地存储中的随机数对象数组
                        randomResArr2.push(tempObj2);
                        // 设置本地存储
                        localStorage.setItem('randomResArr2', JSON.stringify(randomResArr2));

                        // 添加到本地存储中的随机数对象数组
                        randomResArr12.push(tempObj);
                        // 设置本地存储
                        localStorage.setItem('randomResArr12', JSON.stringify(randomResArr12));







                        // let timerr = setTimeout(() => {
                        //     getRandom1.disabled = false;
                        //     getRandom2.disabled = false;
                        //     btnGetRandom12.disabled = false;
                        //     clearTimeout(timerr);
                        // }, 1000);
                    });

                    // 点击提取按钮，将存储的随机数1和随机数2同时提取
                    btnCollectRandom12.addEventListener('click', function () {
                        // [{ time, randoms1, randoms2}]
                        randomResArr12 = JSON.parse(localStorage.getItem('randomResArr12')) || [];


                        // 显示遮罩层和窗口
                        pageMask.style.display = 'block';
                        randomBox12.style.display = 'block';

                        // 遍历随机数数组，渲染到页面
                        randomBox12Content.innerHTML = '';

                        // [{ time, randoms1, randoms2}]
                        for (let j = 0; j < randomResArr12.length; j++) {
                            randomBox12Content.innerHTML += '时间：[' + randomResArr12[j].time + ']\n内容1：| ';
                            let orderArr1 = [];
                            for (let i = 0; i < randomResArr12[j].randoms1.length; i++) {
                                orderArr1.push(randomResArr12[j].randoms1[i]);
                            }
                            orderArr1.sort(function (a, b) {
                                return a - b;
                            });
                            for (let i = 0; i < orderArr1.length; i++) {
                                randomBox12Content.innerHTML += orderArr1[i] + ' | ';
                            }
                            randomBox12Content.innerHTML += '\n内容2：| ';
                            let orderArr2 = [];
                            for (let i = 0; i < randomResArr12[j].randoms2.length; i++) {
                                orderArr2.push(randomResArr12[j].randoms2[i]);
                            }
                            orderArr2.sort(function (a, b) {
                                return a - b;
                            });
                            for (let i = 0; i < orderArr2.length; i++) {
                                randomBox12Content.innerHTML += orderArr2[i] + ' | ';
                            }
                            randomBox12Content.innerHTML += '\n\n';
                        }

                    });

                    // 点击清空内容
                    // 清空文本域、本地存储
                    let clearRandomBox12 = document.querySelector('.tiqu-random-box12-clear');
                    clearRandomBox12.addEventListener('click', function () {
                        localStorage.removeItem('randomResArr12');
                        randomBox12Content.innerHTML = '';
                    });
                </script>

                <!-- #region 旧的随机数模块 -->
                <div class="random-box1">
                    <!-- <h3 style="color:#ec1616">随机数1</h3> -->
                    <!-- <h3 style="color:#bfba86">随机数1</h3> -->
                    <!-- <h3 style="color:#eee">随机数1</h3> -->
                    <!-- <h3 style="color:#FFF5E1">随机数1</h3> -->

                    <!-- <h4 style="text-align: center;margin-bottom: 20px;color:#e82424" class="randoms"> -->
                    <!-- <h4 style="text-align: center;margin-bottom: 10px;color:#eee" class="randoms">
                        <span style="color:#eee">范围 :</span>
                        <input type="text" class="min" value="1" maxlength="6" style="width: 70px;">
                        ~
                        <input type="text" class="max" value="35" maxlength="5" style="width: 70px;">
                        <br>
                        <button class="getRandom" style="width: 60px;">生成</button>
                        ->
                        <input type="text" class="randomNum" value="" style="width: 70px;">
                    </h4>
                    <script>
                        function randomCheck(min, max) {
                            if (!isIntegerStringPositive(min) || !isIntegerStringPositive(max)) {
                                return false;
                            }
                            if (parseInt(min) > parseInt(max)) {
                                return false;
                            }
                            if (parseInt(max) > 10000 || parseInt(min) < -10000) {
                                return false;
                            }
                            return true;
                        }

                        let minArr = JSON.parse(localStorage.getItem('minArr')) || [1, 1, 1, 1];
                        let maxArr = JSON.parse(localStorage.getItem('maxArr')) || [35, 12, 33, 16];

                        let getRandom = document.querySelector('.getRandom');
                        let randomNum = document.querySelector('.randomNum');
                        let min = document.querySelector('.min');
                        let max = document.querySelector('.max');
                        randomNum.disabled = true;
                        min.disabled = false;
                        max.disabled = false;

                        min.value = minArr[0];
                        max.value = maxArr[0];

                        min.addEventListener('keydown', function (e) {
                            if (e.key === 'Enter') {
                                max.focus();
                            }
                            if (e.key === 'ArrowLeft') {
                                return false;
                            }
                            if (e.key === 'ArrowRight') {
                                max.focus();
                            }
                            if (e.key === 'Delete' || e.key === 'Backspace') {
                                this.value = '';
                            }
                        });
                        max.addEventListener('keydown', function (e) {
                            if (e.key === 'Enter') {
                                this.blur();
                                return false;
                            }
                            if (e.key === 'ArrowLeft') {
                                min.focus();
                            }
                            if (e.key === 'ArrowRight') {
                                return false;
                            }
                            if (e.key === 'Delete' || e.key === 'Backspace') {
                                this.value = '';
                            }
                        });

                        min.addEventListener('blur', function (e) {
                            if (randomCheck(this.value, max.value)) {
                                minArr[0] = this.value;
                                localStorage.setItem('minArr', JSON.stringify(minArr));
                            }
                        });
                        max.addEventListener('blur', function (e) {
                            if (randomCheck(min.value, this.value)) {
                                maxArr[0] = this.value;
                                localStorage.setItem('maxArr', JSON.stringify(maxArr));
                            }
                        });

                        // 点击按钮生成随机数
                        getRandom.addEventListener('click', function () {
                            if (!isIntegerStringPositive(min.value) || !isIntegerStringPositive(max.value)) {
                                // alert('请输入正整数');
                                pageMask2.style.display = 'block';
                                tipBox.style.display = 'block';
                                tipContent.innerHTML = '请输入正整数';
                                return false;
                            }
                            if (parseInt(min.value) > parseInt(max.value)) {
                                // alert('请输入正确的范围');
                                pageMask2.style.display = 'block';
                                tipBox.style.display = 'block';
                                tipContent.innerHTML = '请输入正确的范围';
                                return false;
                            }
                            if (parseInt(max.value) > 10000 || parseInt(min.value) < -10000) {
                                // alert('请输入正确的范围[-10000, 10000]');
                                pageMask2.style.display = 'block';
                                tipBox.style.display = 'block';
                                tipContent.innerHTML = '输入范围为：[-10000, 10000]';
                                return false;
                            }
                            this.disabled = true;
                            min.disabled = true;
                            max.disabled = true;
                            let minNum = parseInt(min.value);
                            let maxNum = parseInt(max.value);

                            let randomArr = randomNumberToArr(minNum, maxNum)
                            let index = getRandomNumber(0, maxNum - minNum)

                            new Promise(function (resolve, reject) {
                                // 自定义结束时间
                                let time = getRandomNumber(11, 30);
                                time *= 50;
                                // console.log(time);
                                let timer = setInterval(function () {
                                    index = getRandomNumber(0, maxNum - minNum);
                                    // if(randomArr[index] < 10&&randomArr[index]>0){
                                    //     randomNum.value =  '0' + randomArr[index]
                                    // }else{
                                    //     randomNum.value = randomArr[index];
                                    // }
                                    randomNum.value = randomArr[index];
                                    // randomNum.value = getRandomNumber(minNum, maxNum);
                                    let tt = setTimeout(function () {
                                        clearInterval(timer);
                                        clearTimeout(tt);
                                        // resolve(index);
                                        resolve(randomNum.value);
                                    }, time);
                                }, 50)
                            }).then(function (v) {
                                // console.log('&&&&&&&&&&&& 生成任意范围内的随机数');
                                // console.log('随机数[' + minNum + ', ' + maxNum + ']系列：')
                                // console.log('随机数数组：', randomArr)
                                // console.log('随机数索引：', v);
                                // console.log('随机数：', randomArr[v]);
                                getRandom.disabled = false;
                                min.disabled = false;
                                max.disabled = false;
                                // console.log('&&&&&&&&&&&& 生成任意范围内的随机数');

                                // 存储当前随机数
                                tiquRandom = JSON.parse(localStorage.getItem('tiquRandom')) || [];
                                tiquRandom.push('时　间：' + '[' + year + '-' + month + '-' + day + ' ' + hours + ':' + minutes + ':' + seconds + ']\n' + '随机数：' + '[' + parseInt(min.value) + ', ' + parseInt(max.value) + '] -> ' + v + '\n');
                                localStorage.setItem('tiquRandom', JSON.stringify(tiquRandom));
                            });
                        });
                        // 进入页面就会生成一个随机数
                        getRandom.click();
                    </script> -->
                </div>
                <div class="random-box2">
                    <!-- <h3 style="color:#eee;">随机数2</h3> -->
                    <!-- <h4 style="text-align: center;margin-bottom: 10px;color:#eee" class="randoms2">
                        <span style="color:#eee">范围 :</span>
                        <input type="text" class="min2" value="1" maxlength="6" style="width: 70px;">
                        ~
                        <input type="text" class="max2" value="12" maxlength="5" style="width: 70px;">
                        <br>
                        <button class="getRandom2" style="width: 60px;">生成</button>
                        ->
                        <input type="text" class="randomNum2" value="" style="width: 70px;">
                    </h4> -->
                    <!-- <script>
                        let getRandom2 = document.querySelector('.getRandom2');
                        let randomNum2 = document.querySelector('.randomNum2');
                        let min2 = document.querySelector('.min2');
                        let max2 = document.querySelector('.max2');
                        randomNum2.disabled = true;
                        min2.disabled = false;
                        max2.disabled = false;

                        min2.value = minArr[1];
                        max2.value = maxArr[1];

                        min2.addEventListener('keydown', function (e) {
                            if (e.key === 'Enter') {
                                max2.focus();
                            }
                            if (e.key === 'ArrowLeft') {
                                return false;
                            }
                            if (e.key === 'ArrowRight') {
                                max2.focus();
                            }
                            if (e.key === 'Delete' || e.key === 'Backspace') {
                                this.value = '';
                            }
                        });
                        max2.addEventListener('keydown', function (e) {
                            if (e.key === 'Enter') {
                                this.blur();
                                return false;
                            }
                            if (e.key === 'ArrowLeft') {
                                min2.focus();
                            }
                            if (e.key === 'ArrowRight') {
                                return false;
                            }
                            if (e.key === 'Delete' || e.key === 'Backspace') {
                                this.value = '';
                            }
                        });


                        min2.addEventListener('blur', function (e) {
                            if (randomCheck(this.value, max2.value)) {
                                minArr[1] = this.value;
                                localStorage.setItem('minArr', JSON.stringify(minArr));
                            }
                        });
                        max2.addEventListener('blur', function (e) {
                            if (randomCheck(min2.value, this.value)) {
                                maxArr[1] = this.value;
                                localStorage.setItem('maxArr', JSON.stringify(maxArr));
                            }
                        });

                        // 点击按钮生成随机数
                        getRandom2.addEventListener('click', function () {
                            if (!isIntegerStringPositive(min2.value) || !isIntegerStringPositive(max2.value)) {
                                // alert('请输入正整数');
                                pageMask2.style.display = 'block';
                                tipBox.style.display = 'block';
                                tipContent.innerHTML = '请输入正整数';
                                return false;
                            }
                            if (parseInt(min2.value) > parseInt(max2.value)) {
                                // alert('请输入正确的范围');
                                pageMask2.style.display = 'block';
                                tipBox.style.display = 'block';
                                tipContent.innerHTML = '请输入正确的范围';
                                return false;
                            }
                            if (parseInt(max2.value) > 10000 || parseInt(min2.value) < -10000) {
                                // alert('请输入正确的范围[-10000, 10000]');
                                pageMask2.style.display = 'block';
                                tipBox.style.display = 'block';
                                tipContent.innerHTML = '输入范围为：[-10000, 10000]';
                                return false;
                            }
                            this.disabled = true;
                            min2.disabled = true;
                            max2.disabled = true;
                            let minNum = parseInt(min2.value);
                            let maxNum = parseInt(max2.value);

                            let randomArr = randomNumberToArr(minNum, maxNum)
                            let index = getRandomNumber(0, maxNum - minNum)

                            new Promise(function (resolve, reject) {
                                // 自定义结束时间
                                let time = getRandomNumber(11, 30);
                                time *= 50;
                                // console.log(time);
                                let timer = setInterval(function () {
                                    index = getRandomNumber(0, maxNum - minNum);
                                    // if(randomArr[index] < 10&&randomArr[index]>0){
                                    //     randomNum.value =  '0' + randomArr[index]
                                    // }else{
                                    //     randomNum.value = randomArr[index];
                                    // }
                                    randomNum2.value = randomArr[index];
                                    // randomNum2.value = getRandomNumber(minNum, maxNum);
                                    let tt = setTimeout(function () {
                                        clearInterval(timer);
                                        clearTimeout(tt);
                                        // resolve(index);
                                        resolve(randomNum2.value);
                                    }, time);
                                }, 50)
                            }).then(function (v) {
                                // console.log('&&&&&&&&&&&& 生成任意范围内的随机数');
                                // console.log('随机数[' + minNum + ', ' + maxNum + ']系列：')
                                // console.log('随机数数组：', randomArr)
                                // console.log('随机数索引：', v);
                                // console.log('随机数：', randomArr[v]);
                                getRandom2.disabled = false;
                                min2.disabled = false;
                                max2.disabled = false;
                                // console.log('&&&&&&&&&&&& 生成任意范围内的随机数');


                                // 存储当前随机数
                                tiquRandom = JSON.parse(localStorage.getItem('tiquRandom')) || [];
                                tiquRandom.push('时　间：' + '[' + year + '-' + month + '-' + day + ' ' + hours + ':' + minutes + ':' + seconds + ']\n' + '随机数：' + '[' + parseInt(min2.value) + ', ' + parseInt(max2.value) + '] -> ' + v + '\n');
                                localStorage.setItem('tiquRandom', JSON.stringify(tiquRandom));
                            });
                        });
                        // 进入页面就会生成一个随机数
                        getRandom2.click();
                    </script> -->
                </div>
                <div class="random-box3">
                    <!-- <h3 style="color:#eee;">随机数2</h3> -->
                    <!-- <h4 style="text-align: center;margin-bottom: 10px;color:#eee" class="randoms3">
                        <span style="color:#eee">范围 :</span>
                        <input type="text" class="min3" value="1" maxlength="6" style="width: 70px;">
                        ~
                        <input type="text" class="max3" value="33" maxlength="5" style="width: 70px;">
                        <br>
                        <button class="getRandom3" style="width: 60px;">生成</button>
                        ->
                        <input type="text" class="randomNum3" value="" style="width: 70px;">
                    </h4>
                    <script>
                        let getRandom3 = document.querySelector('.getRandom3');
                        let randomNum3 = document.querySelector('.randomNum3');
                        let min3 = document.querySelector('.min3');
                        let max3 = document.querySelector('.max3');
                        randomNum3.disabled = true;
                        min3.disabled = false;
                        max3.disabled = false;

                        min3.value = minArr[2];
                        max3.value = maxArr[2];

                        min3.addEventListener('keydown', function (e) {
                            if (e.key === 'Enter') {
                                max3.focus();
                            }
                            if (e.key === 'ArrowLeft') {
                                return false;
                            }
                            if (e.key === 'ArrowRight') {
                                max3.focus();
                            }
                            if (e.key === 'Delete' || e.key === 'Backspace') {
                                this.value = '';
                            }
                        });
                        max3.addEventListener('keydown', function (e) {
                            if (e.key === 'Enter') {
                                this.blur();
                                return false;
                            }
                            if (e.key === 'ArrowLeft') {
                                min3.focus();
                            }
                            if (e.key === 'ArrowRight') {
                                return false;
                            }
                            if (e.key === 'Delete' || e.key === 'Backspace') {
                                this.value = '';
                            }
                        });


                        min3.addEventListener('blur', function (e) {
                            if (randomCheck(this.value, max3.value)) {
                                minArr[2] = this.value;
                                localStorage.setItem('minArr', JSON.stringify(minArr));
                            }
                        });
                        max3.addEventListener('blur', function (e) {
                            if (randomCheck(min3.value, this.value)) {
                                maxArr[2] = this.value;
                                localStorage.setItem('maxArr', JSON.stringify(maxArr));
                            }
                        });


                        // 点击按钮生成随机数
                        getRandom3.addEventListener('click', function () {
                            if (!isIntegerStringPositive(min3.value) || !isIntegerStringPositive(max3.value)) {
                                // alert('请输入正整数');
                                pageMask2.style.display = 'block';
                                tipBox.style.display = 'block';
                                tipContent.innerHTML = '请输入正整数';
                                return false;
                            }
                            if (parseInt(min3.value) > parseInt(max3.value)) {
                                // alert('请输入正确的范围');
                                pageMask2.style.display = 'block';
                                tipBox.style.display = 'block';
                                tipContent.innerHTML = '请输入正确的范围';
                                return false;
                            }
                            if (parseInt(max3.value) > 10000 || parseInt(min3.value) < -10000) {
                                // alert('请输入正确的范围[-10000, 10000]');
                                pageMask2.style.display = 'block';
                                tipBox.style.display = 'block';
                                tipContent.innerHTML = '输入范围为：[-10000, 10000]';
                                return false;
                            }
                            this.disabled = true;
                            min3.disabled = true;
                            max3.disabled = true;
                            let minNum = parseInt(min3.value);
                            let maxNum = parseInt(max3.value);

                            let randomArr = randomNumberToArr(minNum, maxNum)
                            let index = getRandomNumber(0, maxNum - minNum)

                            new Promise(function (resolve, reject) {
                                // 自定义结束时间
                                let time = getRandomNumber(11, 30);
                                time *= 50;
                                // console.log(time);
                                let timer = setInterval(function () {
                                    index = getRandomNumber(0, maxNum - minNum);
                                    // if(randomArr[index] < 10&&randomArr[index]>0){
                                    //     randomNum.value =  '0' + randomArr[index]
                                    // }else{
                                    //     randomNum.value = randomArr[index];
                                    // }
                                    randomNum3.value = randomArr[index];
                                    // randomNum3.value = getRandomNumber(minNum, maxNum);
                                    let tt = setTimeout(function () {
                                        clearInterval(timer);
                                        clearTimeout(tt);
                                        // resolve(index);
                                        resolve(randomNum3.value);
                                    }, time);
                                }, 50)
                            }).then(function (v) {
                                // console.log('&&&&&&&&&&&& 生成任意范围内的随机数');
                                // console.log('随机数[' + minNum + ', ' + maxNum + ']系列：')
                                // console.log('随机数数组：', randomArr)
                                // console.log('随机数索引：', v);
                                // console.log('随机数：', randomArr[v]);
                                getRandom3.disabled = false;
                                min3.disabled = false;
                                max3.disabled = false;
                                // console.log('&&&&&&&&&&&& 生成任意范围内的随机数');


                                // 存储当前随机数
                                tiquRandom = JSON.parse(localStorage.getItem('tiquRandom')) || [];
                                tiquRandom.push('时　间：' + '[' + year + '-' + month + '-' + day + ' ' + hours + ':' + minutes + ':' + seconds + ']\n' + '随机数：' + '[' + parseInt(min3.value) + ', ' + parseInt(max3.value) + '] -> ' + v + '\n');
                                localStorage.setItem('tiquRandom', JSON.stringify(tiquRandom));
                            });
                        });
                        // 进入页面就会生成一个随机数
                        getRandom3.click();
                    </script> -->
                </div>
                <div class="random-box4">
                    <!-- <h3 style="color:#eee;">随机数2</h3> -->
                    <!-- <h4 style="text-align: center;margin-bottom: 0px;color:#eee" class="randoms4">
                        <span style="color:#eee">范围 :</span>
                        <input type="text" class="min4" value="1" maxlength="6" style="width: 70px;">
                        ~
                        <input type="text" class="max4" value="16" maxlength="5" style="width: 70px;">
                        <br>
                        <button class="getRandom4" style="width: 60px;">生成</button>
                        ->
                        <input type="text" class="randomNum4" value="" style="width: 70px;">
                    </h4>
                    <script>
                        let getRandom4 = document.querySelector('.getRandom4');
                        let randomNum4 = document.querySelector('.randomNum4');
                        let min4 = document.querySelector('.min4');
                        let max4 = document.querySelector('.max4');
                        randomNum4.disabled = true;
                        min4.disabled = false;
                        max4.disabled = false;

                        min4.value = minArr[3];
                        max4.value = maxArr[3];

                        min4.addEventListener('keydown', function (e) {
                            if (e.key === 'Enter') {
                                max4.focus();
                            }
                            if (e.key === 'ArrowLeft') {
                                return false;
                            }
                            if (e.key === 'ArrowRight') {
                                max4.focus();
                            }
                            if (e.key === 'Delete' || e.key === 'Backspace') {
                                this.value = '';
                            }
                        });
                        max4.addEventListener('keydown', function (e) {
                            if (e.key === 'Enter') {
                                this.blur();
                                return false;
                            }
                            if (e.key === 'ArrowLeft') {
                                min4.focus();
                            }
                            if (e.key === 'ArrowRight') {
                                return false;
                            }
                            if (e.key === 'Delete' || e.key === 'Backspace') {
                                this.value = '';
                            }
                        });


                        min4.addEventListener('blur', function (e) {
                            if (randomCheck(this.value, max4.value)) {
                                minArr[3] = this.value;
                                localStorage.setItem('minArr', JSON.stringify(minArr));
                            }
                        });
                        max4.addEventListener('blur', function (e) {
                            if (randomCheck(min4.value, this.value)) {
                                maxArr[3] = this.value;
                                localStorage.setItem('maxArr', JSON.stringify(maxArr));
                            }
                        });

                        // 点击按钮生成随机数
                        getRandom4.addEventListener('click', function () {
                            if (!isIntegerStringPositive(min4.value) || !isIntegerStringPositive(max4.value)) {
                                // alert('请输入正整数');
                                pageMask2.style.display = 'block';
                                tipBox.style.display = 'block';
                                tipContent.innerHTML = '请输入正整数';
                                return false;
                            }
                            if (parseInt(min4.value) > parseInt(max4.value)) {
                                // alert('请输入正确的范围');
                                pageMask2.style.display = 'block';
                                tipBox.style.display = 'block';
                                tipContent.innerHTML = '请输入正确的范围';
                                return false;
                            }
                            if (parseInt(max4.value) > 10000 || parseInt(min4.value) < -10000) {
                                // alert('请输入正确的范围[-10000, 10000]');
                                pageMask2.style.display = 'block';
                                tipBox.style.display = 'block';
                                tipContent.innerHTML = '输入范围为：[-10000, 10000]';
                                return false;
                            }
                            this.disabled = true;
                            min4.disabled = true;
                            max4.disabled = true;
                            let minNum = parseInt(min4.value);
                            let maxNum = parseInt(max4.value);

                            let randomArr = randomNumberToArr(minNum, maxNum)
                            let index = getRandomNumber(0, maxNum - minNum)

                            new Promise(function (resolve, reject) {
                                // 自定义结束时间
                                let time = getRandomNumber(11, 30);
                                time *= 50;
                                // console.log(time);
                                let timer = setInterval(function () {
                                    index = getRandomNumber(0, maxNum - minNum);
                                    // if(randomArr[index] < 10&&randomArr[index]>0){
                                    //     randomNum.value =  '0' + randomArr[index]
                                    // }else{
                                    //     randomNum.value = randomArr[index];
                                    // }
                                    randomNum4.value = randomArr[index];
                                    // randomNum4.value = getRandomNumber(minNum, maxNum);
                                    let tt = setTimeout(function () {
                                        clearInterval(timer);
                                        clearTimeout(tt);
                                        // resolve(index);
                                        resolve(randomNum4.value);
                                    }, time);
                                    // console.log('随机数数组：', randomArr)
                                }, 50)
                            }).then(function (v) {
                                // console.log('&&&&&&&&&&&& 生成任意范围内的随机数');
                                // console.log('随机数[' + minNum + ', ' + maxNum + ']系列：')
                                // console.log('随机数数组：', randomArr)
                                // console.log('随机数索引：', v);
                                // console.log('随机数：', randomArr[v]);
                                getRandom4.disabled = false;
                                min4.disabled = false;
                                max4.disabled = false;
                                // console.log('&&&&&&&&&&&& 生成任意范围内的随机数');


                                // 存储当前随机数
                                tiquRandom = JSON.parse(localStorage.getItem('tiquRandom')) || [];
                                tiquRandom.push('时　间：' + '[' + year + '-' + month + '-' + day + ' ' + hours + ':' + minutes + ':' + seconds + ']\n' + '随机数：' + '[' + parseInt(min4.value) + ', ' + parseInt(max4.value) + '] -> ' + v + '\n');
                                localStorage.setItem('tiquRandom', JSON.stringify(tiquRandom));
                            });
                        });
                        // 进入页面就会生成一个随机数
                        getRandom4.click();
                    </script> -->
                </div>
                <!-- #endregion -->
            </div>


            <script>
                // 显示幸运数字和随机数的历史记录 tiquRandomTxt.value
                // 点击按钮才能触发当下时间下的显示 showRandomBtn
                // let showRandomBtn = document.querySelector('.showRandomBtn');
                // showRandomBtn.addEventListener('click', function () {
                //     // 存储提取的幸运数字历史记录
                //     tiquXingYun = JSON.parse(localStorage.getItem('tiquXingYun')) || [];
                //     // 存储提取的随机数历史记录
                //     tiquRandom = JSON.parse(localStorage.getItem('tiquRandom')) || [];

                //     pageMask.style.display = 'block';
                //     tiquRandomBox.style.display = 'block';

                //     if (tiquXingYun.length === 0 && tiquRandom.length === 0) {
                //         return;
                //     }

                //     let str = '幸运数提取：' + '\n';

                //     if (tiquXingYun.length === 0) {
                //         str = '';
                //     }

                //     // 遍历幸运数字数组
                //     for (let i = 0; i < tiquXingYun.length; i++) {
                //         // str += tiquXingYun[i] + '\n';
                //         str += tiquXingYun[i];
                //     }
                //     if (tiquXingYun.length !== 0) {
                //         str += '\n\n';
                //     }
                //     // str += '\n'+'<div class="mini-line"></div>';
                //     // if (tiquRandom.length === 0) {
                //     //     return;
                //     // }
                //     if (tiquXingYun.length === 0) {
                //         str += '随机数提取：' + '\n';
                //     } else {
                //         str += '\n' + '随机数提取：' + '\n';
                //     }

                //     // 遍历随机数数组
                //     for (let i = 0; i < tiquRandom.length; i++) {
                //         str += tiquRandom[i];
                //     }

                //     tiquRandomTxt.value = str;

                //     // pageMask.style.display = 'block';
                //     // tiquRandomBox.style.display = 'block';
                // });


                // 清空文本域、本地幸运数、本地随机数
                // tiquRandomClearBtn.addEventListener('click', function () {
                //     tiquRandomTxt.value = '';
                //     localStorage.removeItem('tiquXingYun');
                //     localStorage.removeItem('tiquRandom');
                // });

            </script>




            <h3>抉择利器</h3>
            <div class="mod" style="padding: 9px 6px 12px;">
                <div class="xuan1">
                    <h3 style="margin-top: 0px;margin-bottom: 0px;">标题1(选填)</h3>
                    <div class="question">
                        <input type="text" name="" id="" value="" maxlength="17" placeholder="限17个字">
                    </div>
                    <h3>内容1(必填)</h3>
                    <div class="answers">
                        <div class="btn-add">
                            <button style="width: 54px;">追加</button>
                            <button style="width: 78px;" class="piliang-btn1">批量录入</button>
                            <button style="width: 54px;" class="tiqu-btn1">提取</button>
                            <button style="width: 54px;" class="btn-input-fenxi1">分析</button>
                            <button style="width: 54px;" class="qingkong">清空</button>
                        </div>
                        <ul>
                            <li>
                                <input type="text" name="" id="" value="" maxlength="4" placeholder="限4个字">
                                <!-- <button>删除</button> -->
                            </li>
                        </ul>
                    </div>

                </div>

                <div class="btn-choose-line" style="margin: 12px 0px;"></div>

                <div class="xuan2">
                    <h3 style="margin-bottom: 0px;">标题2(选填)</h3>
                    <div class="question2">
                        <input type="text" name="" id="" value="" maxlength="17" placeholder="限17个字">
                    </div>
                    <h3>内容2(必填)</h3>
                    <div class="answers2">
                        <div class="btn-add2">
                            <button style="width: 54px;">追加</button>
                            <button style="width: 78px;" class="piliang-btn2">批量录入</button>
                            <button style="width: 54px;" class="tiqu-btn2">提取</button>
                            <button style="width: 54px;" class="btn-input-fenxi2">分析</button>
                            <button style="width: 54px;" class="qingkong2">清空</button>
                        </div>
                        <ul>
                            <li>
                                <input type="text" name="" id="" value="" maxlength="4" placeholder="限4个字">
                                <!-- <button>删除</button> -->
                            </li>
                        </ul>
                    </div>

                </div>
            </div>





            <!-- 必填1 批量录入窗口 -->
            <div class="input-box">
                <!-- 标题 -->
                <h3>批量录入内容1</h3>
                <!-- 标题下面的说明文字 -->
                <span class="input-box-shuoming" style="color: #e0c6e3;">
                    可从Excel中粘入或使用以下符号分隔<br>
                    空格 换行符 制表符 逗号 分号 & 、| / \
                </span>
                <!-- 分割线 -->
                <!-- <div class="input-box-line"></div> -->
                <!-- 录入框 -->
                <textarea name="" id="" cols="" rows="" class="input-box-textarea content_box2"></textarea>
                <!-- 追加录入按钮 -->
                <button class="input-box-btn-add">追加录入</button>
                <!-- 重新录入按钮 -->
                <button class="input-box-btn-replace">重新录入</button>
                <!-- 清空内容按钮 -->
                <button class="input-box-btn-clear">清空内容</button>
                <!-- 关闭窗口按钮 -->
                <button class="input-box-btn-close">关闭窗口</button>
            </div>

            <!-- 必填2 批量录入窗口 -->
            <div class="input-box2">
                <!-- 标题 -->
                <h3>批量录入内容2</h3>
                <!-- 标题下面的说明文字 -->
                <span class="input-box2-shuoming" style="color: #e0c6e3;">
                    可从Excel中粘入或使用以下符号分隔<br>
                    空格 换行符 制表符 逗号 分号 & 、| / \
                </span>
                <!-- 分割线 -->
                <!-- <div class="input-box2-line"></div> -->
                <!-- 录入框 -->
                <textarea name="" id="" cols="" rows="" class="input-box2-textarea content_box2"></textarea>
                <!-- 追加录入按钮 -->
                <button class="input-box2-btn-add">追加录入</button>
                <!-- 重新录入按钮 -->
                <button class="input-box2-btn-replace">重新录入</button>
                <!-- 清空内容按钮 -->
                <button class="input-box2-btn-clear">清空内容</button>
                <!-- 关闭窗口按钮 -->
                <button class="input-box2-btn-close">关闭窗口</button>
            </div>


            <!-- 必填1 提取窗口 -->
            <div class="tiqu-box1">
                <!-- 标题 -->
                <h3>内容1提取</h3>
                <!-- 分割线 -->
                <!-- <div class="input-box-line"></div> -->
                <!-- 录入框 -->
                <textarea name="" id="" cols="" rows="" class="tiqu-box1-textarea content_box2" disabled></textarea>
                <!-- 关闭窗口按钮 -->
                <button class="tiqu-box1-btn-clear">清空内容</button>
                <button class="tiqu-box1-btn-close">关闭窗口</button>
            </div>

            <!-- 必填2 提取窗口 -->
            <div class="tiqu-box2">
                <!-- 标题 -->
                <h3>内容2提取</h3>
                <!-- 分割线 -->
                <!-- <div class="input-box-line"></div> -->
                <!-- 录入框 -->
                <textarea name="" id="" cols="" rows="" class="tiqu-box2-textarea content_box2" disabled></textarea>
                <!-- 关闭窗口按钮 -->
                <button class="tiqu-box2-btn-clear">清空内容</button>
                <button class="tiqu-box2-btn-close">关闭窗口</button>
            </div>



            <h3>结果生成区域</h3>
            <!-- <h3 style="color:#3679e3;">天使的建议(优选)</h3> -->

            <!-- 幸运数字和随机数的提取窗口 历史记录 -->
            <div class="tiqu-box-res">
                <!-- 标题 -->
                <h3>生成结果提取</h3>
                <!-- 录入框 -->
                <textarea name="" id="" cols="" rows="" class="tiqu-box-res-textarea content_box2" disabled></textarea>
                <!-- 关闭窗口按钮 -->
                <button class="tiqu-box-res-btn-clear">清空内容</button>
                <button class="tiqu-box-res-btn-close">关闭窗口</button>
            </div>









            <div class="tianshi-btn" style="width: 100%;">
                <div class="btn-choose-1 btn-choose btn-choose-number btn-choose-choice" style="margin-top: 0px;">
                    <button style="margin-top: 6px;">
                        从内容1中生成
                    </button>
                    <span>
                        生成
                        <input type="text" class="btn-choose-input1" maxlength="3" value="1">个
                    </span>
                    <span style="margin-top: 6px;">
                        <label>
                            <input type="radio" name="res1" id="" class="res1-choice1" value="choice11" checked>追加
                        </label>
                        <label>
                            <input type="radio" name="res1" id="" class="res1-choice2" value="choice12">重新生成
                        </label>
                    </span>
                    <span style="margin-top: 6px;">
                        <label>
                            <input type="radio" name="rep1" id="" class="res1-repeat1" value="repeat11" checked>可重复
                        </label>
                        <label>
                            <input type="radio" name="rep1" id="" class="res1-repeat2" value="repeat12">不重复
                        </label>
                    </span>
                </div>

                <div class="btn-choose-line" style="margin-bottom: 0px;"></div>

                <div class="btn-choose-2 btn-choose btn-choose-number btn-choose-choice" style="margin-top: 0px;">
                    <button style="margin-top: 6px;">
                        从内容2中生成
                    </button>
                    <span>
                        生成
                        <input type="text" class="btn-choose-input2" maxlength="3" value="1">个
                    </span>
                    <span style="margin-top: 6px;">
                        <label>
                            <input type="radio" name="res2" id="" class="res2-choice1" value="choice21" checked>追加
                        </label>
                        <label>
                            <input type="radio" name="res2" id="" class="res2-choice2" value="choice22">重新生成
                        </label>
                    </span>
                    <span style="margin-top: 6px;">
                        <label>
                            <input type="radio" name="rep2" id="" class="res2-repeat1" value="repeat21" checked>可重复
                        </label>
                        <label>
                            <input type="radio" name="rep2" id="" class="res2-repeat2" value="repeat22">不重复
                        </label>
                    </span>
                </div>


                <!-- 原来的样式 -->
                <!-- <div class="btn-choose">
                    <button>
                        从内容1中生成
                    </button>
                    <button>
                        从内容2中生成
                    </button>
                </div>
                <div class="btn-choose-number">
                    <span>
                        生成
                        <input type="text" class="btn-choose-input1" maxlength="3" value="1">个
                    </span>
                    <span>
                        生成
                        <input type="text" class="btn-choose-input2" maxlength="3" value="1">个
                    </span>
                </div> -->


                <!-- 单选框：追加选项、重新生成选项 -->
                <!-- <div class="btn-choose-choice">
                    <span>
                        <label>
                            <input type="radio" name="res1" id="" class="res1-choice1" value="choice11" checked>追加
                        </label>
                        <label>
                            <input type="radio" name="res1" id="" class="res1-choice2" value="choice12">重新生成
                        </label>
                    </span>
                    <span>
                        <label>
                            <input type="radio" name="res2" id="" class="res2-choice1" value="choice21" checked>追加
                        </label>
                        <label>
                            <input type="radio" name="res2" id="" class="res2-choice2" value="choice22">重新生成
                        </label>
                    </span>
                </div> -->

                <!-- 单选框：可重复选项、不可重复选项 -->
                <!-- <div class="btn-choose-repeat">
                    <span>
                        <label>
                            <input type="radio" name="rep1" id="" class="res1-repeat1" value="repeat11" checked>可重复
                        </label>
                        <label>
                            <input type="radio" name="rep1" id="" class="res1-repeat2" value="repeat12">不重复
                        </label>
                    </span>
                    <span>
                        <label>
                            <input type="radio" name="rep2" id="" class="res2-repeat1" value="repeat21" checked>可重复
                        </label>
                        <label>
                            <input type="radio" name="rep2" id="" class="res2-repeat2" value="repeat22">不重复
                        </label>
                    </span>
                </div> -->

                <script>
                    // 放在上方
                    // 生成1：追加单选框
                    // 生成1：重新生成单选框
                    let res1choice1 = document.querySelector('.res1-choice1');
                    let res1choice2 = document.querySelector('.res1-choice2');

                    // 生成2：追加单选框
                    // 生成2：重新生成单选框
                    let res2choice1 = document.querySelector('.res2-choice1');
                    let res2choice2 = document.querySelector('.res2-choice2');


                    // 放在上方
                    // 是否重复1：可重复单选框
                    // 是否重复1：不重复单选框
                    let res1repeat1 = document.querySelector('.res1-repeat1');
                    let res1repeat2 = document.querySelector('.res1-repeat2');

                    // 是否重复2：可重复单选框
                    // 是否重复2：不重复单选框
                    let res2repeat1 = document.querySelector('.res2-repeat1');
                    let res2repeat2 = document.querySelector('.res2-repeat2');


                    // 生成内容1时是否重复
                    let res1repeat = res1repeat1.value;
                    // 生成内容2时是否重复
                    let res2repeat = res2repeat1.value;


                    // 内容1不重复功能是否打开 重新生成 功能
                    let isRepeat1 = true;
                    // 内容2不重复功能是否打开 重新生成 功能
                    let isRepeat2 = true;


                    // 内容1的生成状态
                    let res1choice = res1choice1.value;
                    // 内容1是否打开 重新生成 功能
                    let isCreate1 = true;
                    // 内容2的生成状态
                    let res2choice = res2choice1.value;
                    // 内容2是否打开 重新生成 功能
                    let isCreate2 = true;

                    res1choice1.addEventListener('click', function () {
                        res1choice = this.value;
                        // console.log(this.value);
                        // console.log(this.checked);
                        // this.disabled=true;
                    });
                    res1choice2.addEventListener('click', function () {
                        res1choice = this.value;
                    });
                    res2choice1.addEventListener('click', function () {
                        res2choice = this.value;
                    });
                    res2choice2.addEventListener('click', function () {
                        res2choice = this.value;
                    });


                    res1repeat1.addEventListener('click', function () {
                        res1repeat = this.value;
                    });
                    res1repeat2.addEventListener('click', function () {
                        res1repeat = this.value;
                    });
                    res2repeat1.addEventListener('click', function () {
                        res2repeat = this.value;
                    });
                    res2repeat2.addEventListener('click', function () {
                        res2repeat = this.value;
                    });
                </script>

                <script>
                    /*
                        标题1 增加本地存储功能
                    */
                    // 选填1
                    let xuanInput1 = document.querySelector('.question input');
                    xuanInput1.value = localStorage.getItem('xuan1') || '标题1';
                    xuanInput1.addEventListener('blur', function () {
                        res1choice2.disabled = this.value.trim() === xuanInput2.value.trim();
                        res2choice2.disabled = this.value.trim() === xuanInput2.value.trim();
                        localStorage.setItem('xuan1', this.value);
                    });
                </script>
                <script>
                    /*
                        标题2 增加本地存储功能
                    */
                    // 选填2
                    let xuanInput2 = document.querySelector('.question2 input');
                    xuanInput2.value = localStorage.getItem('xuan2') || '标题2';
                    xuanInput2.addEventListener('blur', function () {
                        localStorage.setItem('xuan2', this.value);
                    });
                </script>
                <div class="btn-choose-line"></div>

                <!-- <div class="btn-order">
                    <button style="margin-top: 0px;width: 40px;">升序</button>
                    <button style="margin-top: 0px;width: 40px;">降序</button>
                    <button style="margin-top: 0px;width: 40px;">还原</button>
                </div> -->
                <div class="btn-clear">
                    <button style="width: 49px;" class="order1">升序</button>
                    <button style="width: 50px;" class="order2">降序</button>
                    <button style="width: 49px;" class="order3">还原</button>
                    <button style="width: 49px;" class="res-tiqu-btn">提取</button>
                    <button style="width: 50px;" class="res-fenxi-btn">分析</button>
                    <!-- <button style="margin-top: 12px;width: 60px;" onclick="location.reload()">重置</button> -->
                    <button style="margin-top: 0px;width: 50px;">清空</button>
                </div>
            </div>

            <div class="tianshi content_box3" style="padding-top: 0px;">
                <div class="content">
                    <!-- <dl>
                        <dt>吃什么</dt>
                        <dd>水果</dd>
                    </dl>
                    <dl>
                        <dt>吃什么</dt>
                        <dd>水果</dd>
                    </dl> -->
                </div>
            </div>
            <div class="write">
                <h3 class="red">草稿</h3>
                <textarea name="" id="" cols="30" rows="10" class="content_box3"></textarea>
            </div>
            <script>
                /*
                    增加本地存储功能
                */
                // 草稿
                let caogao = document.querySelector('.write textarea');
                caogao.value = localStorage.getItem('caogao') || '';
                caogao.addEventListener('blur', function () {
                    localStorage.setItem('caogao', this.value);
                });
                setInterval(() => {
                    localStorage.setItem('caogao', caogao.value);
                }, 10000);
            </script>
        </div>
    </div>

    <script>
        /*
            让所有的 input 点击后清空内容
        */
        let inputs = document.querySelectorAll('.xuan1 input');
        let inputs2 = document.querySelectorAll('.xuan2 input');
        // for (let i = 0; i < inputs.length; i++) {
        //     inputs[i].addEventListener('click', function () {
        //         this.value = '';
        //     });
        // }


        /*
            点击 添加 按钮，在 "心中的答案" 区域添加一个输入框和一个删除按钮
        */
        // 获取添加按钮
        let addBtn = document.querySelectorAll('.btn-add button')[0];
        let addBtn2 = document.querySelectorAll('.btn-add2 button')[0];
        // let qingkong = document.querySelectorAll('.btn-add button')[3];
        let qingkong = document.querySelector('.btn-add .qingkong');
        // let qingkong2 = document.querySelectorAll('.btn-add2 button')[3];
        let qingkong2 = document.querySelector('.btn-add2 .qingkong2');
        // 获取 ul
        let ul = document.querySelector('.answers ul');
        let ul2 = document.querySelector('.answers2 ul');
        // 事件处理函数
        let handle = function (e) {
            if (e.key === 'Enter') {
                addBtn.click();
            }
        };
        let handle2 = function (e) {
            if (e.key === 'Enter') {
                addBtn2.click();
            }
        };


        function fangxiang(ul) {
            // 上下键功能
            for (let i = 0; i < ul.children.length; i++) {
                ul.children[i].children[0].addEventListener('keydown', function (e) {
                    if (e.key === 'ArrowUp') {
                        if (ul.children.length === 1) return;
                        if (i === 0) return;
                        ul.children[i - 1].children[0].focus();
                    }
                    if (e.key === 'ArrowDown') {
                        if (i >= ul.children.length - 1) return;
                        ul.children[i + 1].children[0].focus();
                    }
                    if (e.key === 'ArrowLeft') {
                        if (ul.children.length === 1) return;
                        if (i === 0) return;
                        ul.children[i - 1].children[0].focus();
                    }
                    if (e.key === 'ArrowRight') {
                        if (i >= ul.children.length - 1) return;
                        ul.children[i + 1].children[0].focus();
                    }
                });
            }
        }


        // let handle1 = function (e) {
        //     if (e.key === 'Enter') {
        //         for (let i = 0; i < ul.children.length; i++) {
        //             ul.children[i].children[0].addEventListener('keydown', handle2);
        //         }
        //         ul.children[ul.children.length - 1].children[0].focus();
        //         console.log(ul.children.length);
        //         // 清除其它 input 中的回车事件，给最后一个 input 添加回车事件
        //         for (let i = 0; i < ul.children.length; i++) {
        //             ul.children[i].children[0].removeEventListener('keydown', handle);
        //         }
        //         ul.children[ul.children.length - 1].children[0].addEventListener('keydown', handle2);
        //         // for (let i = 0; i < ul.children.length; i++) {
        //         //     ul.children[i].children[0].addEventListener('keydown', handle);
        //         // }
        //         inputs = document.querySelectorAll('input');
        //         // for (let i = 0; i < inputs.length; i++) {
        //         //     inputs[i].addEventListener('click', function () {
        //         //         this.value = '';
        //         //     });
        //         // }
        //         for (let i = 0; i < ul.children.length; i++) {
        //             ul.children[i].children[0].addEventListener('keydown', handle3);
        //         }
        //     }
        // }

        // let handle2 = function (e) {

        // }

        // let handle3 = function (e) {}

        // 给第一个 input 添加回车事件

        let xuan1arr = JSON.parse(localStorage.getItem('xuan1arr')) || [];
        ul.children[0].children[0].value = xuan1arr.length === 0 ? '' : xuan1arr[0];
        let xuan2arr = JSON.parse(localStorage.getItem('xuan2arr')) || [];
        ul2.children[0].children[0].value = xuan2arr.length === 0 ? '' : xuan2arr[0];

        qingkong.addEventListener('click', function () {
            ul.innerHTML = `
                <li style="margin-right: 0px;">
                    <input type="text" name="" id="" value="" maxlength="4" placeholder="限4个字">
                    <!-- <button>删除</button> -->
                </li>
            `;
            localStorage.removeItem('xuan1arr');
            xuan1arr = [];
            ul.children[0].children[0].addEventListener('keydown', handle);

            ul.children[0].children[0].addEventListener('blur', function () {
                // if (this.value != '') {
                xuan1arr[0] = this.value;
                // }
                localStorage.setItem('xuan1arr', JSON.stringify(xuan1arr));
            });
            ul.children[0].children[0].focus();
        });

        qingkong2.addEventListener('click', function () {
            ul2.innerHTML = `
                <li style="margin-right: 0px;">
                    <input type="text" name="" id="" value="" maxlength="4" placeholder="限4个字">
                    <!-- <button>删除</button> -->
                </li>
            `;
            localStorage.removeItem('xuan2arr');
            xuan2arr = [];
            ul2.children[0].children[0].addEventListener('keydown', handle2);

            ul2.children[0].children[0].addEventListener('blur', function () {
                // if (this.value != '') {
                xuan2arr[0] = this.value;
                // }
                localStorage.setItem('xuan2arr', JSON.stringify(xuan2arr));
            });
            ul2.children[0].children[0].focus();
        });


        // ul.children[0].children[0].addEventListener('keydown', handle1);
        // ul.children[0].children[0].addEventListener('keydown', handle2);
        // ul.children[0].children[0].addEventListener('keydown', handle3);
        ul.children[0].children[0].addEventListener('blur', function () {
            // if (this.value != '') {
            xuan1arr[0] = this.value;
            // }
            localStorage.setItem('xuan1arr', JSON.stringify(xuan1arr));
        });
        ul2.children[0].children[0].addEventListener('blur', function () {
            // if (this.value != '') {
            xuan2arr[0] = this.value;
            // }
            localStorage.setItem('xuan2arr', JSON.stringify(xuan2arr));
        });

        if (xuan1arr.length != 0) {
            for (let i = 1; i < xuan1arr.length; i++) {
                // 创建 li
                let li = document.createElement('li');
                // li.innerHTML = `
                //     <input type="text" name="" id="" value="" maxlength="3" placeholder="限3字">
                // `;
                let input = document.createElement('input');
                input.type = 'text';
                input.maxLength = '4';
                input.placeholder = '限4个字';
                input.addEventListener('blur', function () {
                    for (let i = 0; i < ul.children.length; i++) {
                        // if (ul.children[i].children[0].value != '') {
                        xuan1arr[i] = ul.children[i].children[0].value;
                        // }
                    }
                    localStorage.setItem('xuan1arr', JSON.stringify(xuan1arr));
                });
                li.appendChild(input);
                // 添加 li
                ul.appendChild(li);
                ul.children[i].children[0].value = xuan1arr[i];
            }

            // 上下键功能
            fangxiang(ul);

            // 获取删除按钮
            for (let i = 0; i < ul.children.length; i++) {
                ul.children[i].children[0].addEventListener('keydown', function (e) {
                    if (this.value === '') {
                        if (e.key === 'Delete' || e.key === 'Backspace') {
                            if (ul.children.length === 1) {
                                let tim = setTimeout(function () {
                                    ul.children[0].children[0].focus();
                                    clearTimeout(tim);
                                }, 0);
                                return;
                            }
                            // 删除父元素 li
                            this.parentNode.remove();

                            // console.log('删除后li数量', ul.children.length);
                            for (let i = 0; i < ul.children.length; i++) {
                                ul.children[i].children[0].removeEventListener('keydown', handle);
                            }
                            ul.children[ul.children.length - 1].children[0].addEventListener('keydown', handle);
                            xuan1arr = [];
                            for (let i = 0; i < ul.children.length; i++) {
                                // if (ul.children[i].children[0].value != '') {
                                xuan1arr[i] = ul.children[i].children[0].value;
                                // }
                            }
                            // console.log(xuan1arr);
                            localStorage.setItem('xuan1arr', JSON.stringify(xuan1arr));


                            // 上下键功能
                            fangxiang(ul);

                        }
                    }
                });
            }

            // input 的 focus 事件
            // 主题1中所有 input 的 focus 事件 (部分情景下 blur 事件被占用)
            // input 每次获取焦点后，重新为主题1中所有的 input 添加键盘删除事件
            for (let i = 0; i < ul.children.length; i++) {
                ul.children[i].children[0].addEventListener('focus', function (e) {
                    for (let i = 0; i < ul.children.length; i++) {
                        ul.children[i].children[0].addEventListener('keydown', function (e) {

                            if (e.key === 'Delete' || e.key === 'Backspace') {
                                if (this.value === '') {
                                    if (ul.children.length === 1) {
                                        let tim = setTimeout(function () {
                                            ul.children[0].children[0].focus();
                                            clearTimeout(tim);
                                        }, 0);
                                        return;
                                    }

                                    // 删除父元素 li
                                    this.parentNode.remove();

                                    if (i > 0 && ul.children[i - 1]) {
                                        let t1 = setTimeout(() => {
                                            ul.children[i - 1].children[0].focus();
                                            clearTimeout(t1);
                                        }, 0);
                                    }


                                    if (i <= 0 || !ul.children[i - 1]) {
                                        let t2 = setTimeout(() => {
                                            ul.children[0].children[0].focus();
                                            clearTimeout(t2);
                                        }, 0);
                                    }

                                    // console.log('删除后li数量', ul.children.length);
                                    for (let i = 0; i < ul.children.length; i++) {
                                        ul.children[i].children[0].removeEventListener('keydown', handle);
                                    }
                                    ul.children[ul.children.length - 1].children[0].addEventListener('keydown', handle);

                                    xuan1arr = [];
                                    for (let i = 0; i < ul.children.length; i++) {
                                        // if (ul.children[i].children[0].value != '') {
                                        xuan1arr[i] = ul.children[i].children[0].value;
                                        // }
                                    }
                                    localStorage.setItem('xuan1arr', JSON.stringify(xuan1arr));

                                    // 上下键功能
                                    fangxiang(ul);
                                } else {
                                    let t3 = setTimeout(() => {
                                        this.value = '';
                                        clearTimeout(t3);
                                    }, 0);
                                }
                            }
                        });
                    }

                });
            }

        }
        if (xuan2arr.length != 0) {
            for (let i = 1; i < xuan2arr.length; i++) {
                // 创建 li
                let li = document.createElement('li');
                // li.innerHTML = `
                //     <input type="text" name="" id="" value="" maxlength="3" placeholder="限3字">
                // `;
                let input = document.createElement('input');
                input.type = 'text';
                input.maxLength = '4';
                input.placeholder = '限4个字';
                input.addEventListener('blur', function () {
                    for (let i = 0; i < ul2.children.length; i++) {
                        // if (ul2.children[i].children[0].value != '') {
                        xuan2arr[i] = ul2.children[i].children[0].value;
                        // }
                    }
                    localStorage.setItem('xuan2arr', JSON.stringify(xuan2arr));
                });
                li.appendChild(input);
                // 添加 li
                ul2.appendChild(li);
                ul2.children[i].children[0].value = xuan2arr[i];
            }

            // 上下键功能
            fangxiang(ul2);

            // 获取删除按钮
            for (let i = 0; i < ul2.children.length; i++) {
                ul2.children[i].children[0].addEventListener('keydown', function (e) {
                    if (this.value === '') {
                        if (e.key === 'Delete' || e.key === 'Backspace') {
                            if (ul2.children.length === 1) {
                                let tim = setTimeout(function () {
                                    ul2.children[0].children[0].focus();
                                    clearTimeout(tim);
                                }, 0);
                                return;
                            }
                            // 删除父元素 li
                            this.parentNode.remove();

                            // console.log('删除后li2数量', ul2.children.length);
                            for (let i = 0; i < ul2.children.length; i++) {
                                ul2.children[i].children[0].removeEventListener('keydown', handle2);
                            }
                            ul2.children[ul2.children.length - 1].children[0].addEventListener('keydown', handle2);
                            xuan2arr = [];
                            for (let i = 0; i < ul2.children.length; i++) {
                                // if (ul2.children[i].children[0].value != '') {
                                xuan2arr[i] = ul2.children[i].children[0].value;
                                // }
                            }
                            // console.log(xuan2arr);
                            localStorage.setItem('xuan2arr', JSON.stringify(xuan2arr));


                            // 上下键功能
                            fangxiang(ul2);
                        }
                    }
                });
            }

            // input 的 focus 事件
            // 主题1中所有 input 的 focus 事件 (部分情景下 blur 事件被占用)
            // input 每次获取焦点后，重新为主题1中所有的 input 添加键盘删除事件
            for (let i = 0; i < ul2.children.length; i++) {
                ul2.children[i].children[0].addEventListener('focus', function (e) {
                    for (let i = 0; i < ul2.children.length; i++) {
                        ul2.children[i].children[0].addEventListener('keydown', function (e) {

                            if (e.key === 'Delete' || e.key === 'Backspace') {
                                if (this.value === '') {
                                    if (ul2.children.length === 1) {
                                        let tim = setTimeout(function () {
                                            ul2.children[0].children[0].focus();
                                            clearTimeout(tim);
                                        }, 0);
                                        return;
                                    }

                                    // 删除父元素 li
                                    this.parentNode.remove();

                                    if (i > 0 && ul2.children[i - 1]) {
                                        let t1 = setTimeout(() => {
                                            ul2.children[i - 1].children[0].focus();
                                            clearTimeout(t1);
                                        }, 0);
                                    }


                                    if (i <= 0 || !ul2.children[i - 1]) {
                                        let t2 = setTimeout(() => {
                                            ul2.children[0].children[0].focus();
                                            clearTimeout(t2);
                                        }, 0);
                                    }

                                    // console.log('删除后li2数量', ul2.children.length);
                                    for (let i = 0; i < ul2.children.length; i++) {
                                        ul2.children[i].children[0].removeEventListener('keydown', handle2);
                                    }
                                    ul2.children[ul2.children.length - 1].children[0].addEventListener('keydown', handle2);

                                    xuan2arr = [];
                                    for (let i = 0; i < ul2.children.length; i++) {
                                        // if (ul.children[i].children[0].value != '') {
                                        xuan2arr[i] = ul2.children[i].children[0].value;
                                        // }
                                    }
                                    localStorage.setItem('xuan2arr', JSON.stringify(xuan2arr));

                                    // 上下键功能
                                    fangxiang(ul2);
                                } else {
                                    let t3 = setTimeout(() => {
                                        this.value = '';
                                        clearTimeout(t3);
                                    }, 0);
                                }
                            }
                        });
                    }

                });
            }

        }


        if (xuan1arr.length == 0) {
            ul.children[0].children[0].addEventListener('keydown', handle);
        } else {
            ul.children[xuan1arr.length - 1].children[0].addEventListener('keydown', handle);
        }
        if (xuan2arr.length == 0) {
            ul2.children[0].children[0].addEventListener('keydown', handle2);
        } else {
            ul2.children[xuan2arr.length - 1].children[0].addEventListener('keydown', handle2);
        }


        // 点击添加按钮
        addBtn.addEventListener('click', function () {
            // 创建 li
            let li = document.createElement('li');
            // li.innerHTML = `
            //     <input type="text" name="" id="" value="" maxlength="3" placeholder="限3字">
            // `;
            let input = document.createElement('input');
            input.type = 'text';
            input.maxLength = '4';
            input.placeholder = '限4个字';
            input.addEventListener('blur', function () {
                xuan1arr = [];
                for (let i = 0; i < ul.children.length; i++) {
                    // if (ul.children[i].children[0].value != '') {
                    xuan1arr[i] = ul.children[i].children[0].value;
                    // }
                }
                localStorage.setItem('xuan1arr', JSON.stringify(xuan1arr));
            });
            li.appendChild(input);
            // 添加 li
            ul.appendChild(li);
            ul.children[ul.children.length - 1].children[0].focus();
            inputs = document.querySelectorAll('.xuan1 input');

            for (let i = 0; i < ul.children.length; i++) {
                ul.children[i].children[0].removeEventListener('keydown', handle);
            }
            ul.children[ul.children.length - 1].children[0].addEventListener('keydown', handle);

            // console.log('添加后li数量', ul.children.length);

            // for (let i = 0; i < ul.children.length; i++) {
            //     ul.children[i].children[0].addEventListener('keydown', function (e) {

            //     });
            // }

            // 获取删除按钮
            for (let i = 0; i < ul.children.length; i++) {
                ul.children[i].children[0].addEventListener('keydown', function (e) {

                    if (e.key === 'Delete' || e.key === 'Backspace') {
                        if (this.value === '') {
                            if (ul.children.length === 1) {
                                let tim = setTimeout(function () {
                                    ul.children[0].children[0].focus();
                                    clearTimeout(tim);
                                }, 0);
                                return;
                            }

                            // 删除父元素 li
                            this.parentNode.remove();

                            if (i > 0 && ul.children[i - 1]) {
                                let t1 = setTimeout(() => {
                                    ul.children[i - 1].children[0].focus();
                                    clearTimeout(t1);
                                }, 0);
                            }


                            if (i <= 0 || !ul.children[i - 1]) {
                                let t2 = setTimeout(() => {
                                    ul.children[0].children[0].focus();
                                    clearTimeout(t2);
                                }, 0);
                            }

                            // console.log('删除后li数量', ul.children.length);
                            for (let i = 0; i < ul.children.length; i++) {
                                ul.children[i].children[0].removeEventListener('keydown', handle);
                            }
                            ul.children[ul.children.length - 1].children[0].addEventListener('keydown', handle);

                            xuan1arr = [];
                            for (let i = 0; i < ul.children.length; i++) {
                                // if (ul.children[i].children[0].value != '') {
                                xuan1arr[i] = ul.children[i].children[0].value;
                                // }
                            }
                            localStorage.setItem('xuan1arr', JSON.stringify(xuan1arr));


                            // if (ul.children.length === 1) return;
                            // if (i === 0) return;
                            // let ti = setTimeout(()=> {
                            //     i--;
                            //     console.log('删除后i', i);
                            //     // if (i === 0) {
                            //     //     ul.children[0].children[0].focus();
                            //     //     return;
                            //     // }

                            //     if (i <= 0) {
                            //         ul.children[0].children[0].focus();
                            //         clearTimeout(ti);
                            //         return;
                            //     }
                            //     let tempIndex = ul.children[i].getAttribute('tempIndex');
                            //     console.log('temoIndex', tempIndex);
                            //     ul.children[tempIndex].children[0].focus();
                            //     clearTimeout(ti);
                            // }, 0);
                            // console.log('删除后i', i);
                            // if (i === 0) {
                            //     ul.children[0].children[0].focus();
                            //     return;
                            // }
                            // ul.children[i - 1].children[0].focus();

                            // 上下键功能
                            fangxiang(ul);
                        } else {
                            let t3 = setTimeout(() => {
                                this.value = '';
                                clearTimeout(t3);
                            }, 0);
                        }
                    }
                });
            }

            // 上下键功能
            fangxiang(ul);

            // 将所有的必填1存入本地存储
            // for (let i = 0; i < ul.children.length; i++) {
            //     xuan1arr[i] = ul.children[i].children[0].value;
            // }
            // localStorage.setItem('xuan1arr', JSON.stringify(xuan1arr));

            // input 的 focus 事件
            // 主题1中所有 input 的 focus 事件 (部分情景下 blur 事件被占用)
            // input 每次获取焦点后，重新为主题1中所有的 input 添加键盘删除事件
            for (let i = 0; i < ul.children.length; i++) {
                ul.children[i].children[0].addEventListener('focus', function (e) {
                    for (let i = 0; i < ul.children.length; i++) {
                        ul.children[i].children[0].addEventListener('keydown', function (e) {

                            if (e.key === 'Delete' || e.key === 'Backspace') {
                                if (this.value === '') {
                                    if (ul.children.length === 1) {
                                        let tim = setTimeout(function () {
                                            ul.children[0].children[0].focus();
                                            clearTimeout(tim);
                                        }, 0);
                                        return;
                                    }

                                    // 删除父元素 li
                                    this.parentNode.remove();

                                    if (i > 0 && ul.children[i - 1]) {
                                        let t1 = setTimeout(() => {
                                            ul.children[i - 1].children[0].focus();
                                            clearTimeout(t1);
                                        }, 0);
                                    }


                                    if (i <= 0 || !ul.children[i - 1]) {
                                        let t2 = setTimeout(() => {
                                            ul.children[0].children[0].focus();
                                            clearTimeout(t2);
                                        }, 0);
                                    }

                                    // console.log('删除后li数量', ul.children.length);
                                    for (let i = 0; i < ul.children.length; i++) {
                                        ul.children[i].children[0].removeEventListener('keydown', handle);
                                    }
                                    ul.children[ul.children.length - 1].children[0].addEventListener('keydown', handle);

                                    xuan1arr = [];
                                    for (let i = 0; i < ul.children.length; i++) {
                                        // if (ul.children[i].children[0].value != '') {
                                        xuan1arr[i] = ul.children[i].children[0].value;
                                        // }
                                    }
                                    localStorage.setItem('xuan1arr', JSON.stringify(xuan1arr));

                                    // 上下键功能
                                    fangxiang(ul);
                                } else {
                                    let t3 = setTimeout(() => {
                                        this.value = '';
                                        clearTimeout(t3);
                                    }, 0);
                                }
                            }
                        });
                    }

                });
            }

        });

        addBtn2.addEventListener('click', function () {
            // 创建 li
            let li = document.createElement('li');
            // li.innerHTML = `
            //     <input type="text" name="" id="" value="" maxlength="3" placeholder="限3字">
            // `;
            let input = document.createElement('input');
            input.type = 'text';
            input.maxLength = '4';
            input.placeholder = '限4个字';
            input.addEventListener('blur', function () {
                for (let i = 0; i < ul2.children.length; i++) {
                    // if (ul2.children[i].children[0].value != '') {
                    xuan2arr[i] = ul2.children[i].children[0].value;
                    // }
                }
                localStorage.setItem('xuan2arr', JSON.stringify(xuan2arr));
            });
            li.appendChild(input);
            // 添加 li
            ul2.appendChild(li);
            ul2.children[ul2.children.length - 1].children[0].focus();
            inputs2 = document.querySelectorAll('.xuan2 input');

            for (let i = 0; i < ul2.children.length; i++) {
                ul2.children[i].children[0].removeEventListener('keydown', handle2);
            }
            ul2.children[ul2.children.length - 1].children[0].addEventListener('keydown', handle2);

            // console.log('添加后li2数量', ul2.children.length);

            // 获取删除按钮
            for (let i = 0; i < ul2.children.length; i++) {
                ul2.children[i].children[0].addEventListener('keydown', function (e) {
                    if (this.value === '') {
                        if (e.key === 'Delete' || e.key === 'Backspace') {
                            if (ul2.children.length === 1) {
                                let tim = setTimeout(function () {
                                    ul2.children[0].children[0].focus();
                                    clearTimeout(tim);
                                }, 0);
                                return;
                            }

                            // 删除父元素 li
                            this.parentNode.remove();

                            // console.log('删除后li2数量', ul2.children.length);
                            for (let i = 0; i < ul2.children.length; i++) {
                                ul2.children[i].children[0].removeEventListener('keydown', handle2);
                            }
                            ul2.children[ul2.children.length - 1].children[0].addEventListener('keydown', handle2);


                            xuan2arr = [];
                            for (let i = 0; i < ul2.children.length; i++) {
                                // if (ul2.children[i].children[0].value != '') {
                                xuan2arr[i] = ul2.children[i].children[0].value;
                                // }
                            }
                            localStorage.setItem('xuan2arr', JSON.stringify(xuan2arr));


                            // 上下键功能
                            fangxiang(ul2);

                            // let ti = setTimeout(function () {
                            //     console.log('删除后i2', i);
                            //     if (i === 0) {
                            //         ul2.children[0].children[0].focus();
                            //         return;
                            //     }
                            //     ul2.children[i - 1].children[0].focus();
                            //     clearTimeout(ti);
                            // }, 0);
                        }
                    }
                });
            }


            // 上下键功能
            fangxiang(ul2);


            // input 的 focus 事件
            // 主题1中所有 input 的 focus 事件 (部分情景下 blur 事件被占用)
            // input 每次获取焦点后，重新为主题1中所有的 input 添加键盘删除事件
            for (let i = 0; i < ul2.children.length; i++) {
                ul2.children[i].children[0].addEventListener('focus', function (e) {
                    for (let i = 0; i < ul2.children.length; i++) {
                        ul2.children[i].children[0].addEventListener('keydown', function (e) {

                            if (e.key === 'Delete' || e.key === 'Backspace') {
                                if (this.value === '') {
                                    if (ul2.children.length === 1) {
                                        let tim = setTimeout(function () {
                                            ul2.children[0].children[0].focus();
                                            clearTimeout(tim);
                                        }, 0);
                                        return;
                                    }

                                    // 删除父元素 li
                                    this.parentNode.remove();

                                    if (i > 0 && ul2.children[i - 1]) {
                                        let t1 = setTimeout(() => {
                                            ul2.children[i - 1].children[0].focus();
                                            clearTimeout(t1);
                                        }, 0);
                                    }


                                    if (i <= 0 || !ul2.children[i - 1]) {
                                        let t2 = setTimeout(() => {
                                            ul2.children[0].children[0].focus();
                                            clearTimeout(t2);
                                        }, 0);
                                    }

                                    // console.log('删除后li2数量', ul2.children.length);
                                    for (let i = 0; i < ul2.children.length; i++) {
                                        ul2.children[i].children[0].removeEventListener('keydown', handle2);
                                    }
                                    ul2.children[ul2.children.length - 1].children[0].addEventListener('keydown', handle2);

                                    xuan2arr = [];
                                    for (let i = 0; i < ul2.children.length; i++) {
                                        // if (ul.children[i].children[0].value != '') {
                                        xuan2arr[i] = ul2.children[i].children[0].value;
                                        // }
                                    }
                                    localStorage.setItem('xuan2arr', JSON.stringify(xuan2arr));

                                    // 上下键功能
                                    fangxiang(ul2);
                                } else {
                                    let t3 = setTimeout(() => {
                                        this.value = '';
                                        clearTimeout(t3);
                                    }, 0);
                                }
                            }
                        });
                    }

                });
            }

        });


        /*
            点击 删除 按钮，从 "心中的答案" 区域删除对应的答案
        */
        // 获取删除按钮
        // for (let i = 0; i < ul.children.length; i++) {
        //     ul.children[i].children[1].addEventListener('click', function () {
        //         // 删除父元素 li
        //         this.parentNode.remove();
        //         // 清除其它 input 中的回车事件，给最后一个 input 添加回车事件
        //         if (ul.children.length === 0) return;
        //         for (let i = 0; i < ul.children.length; i++) {
        //             ul.children[i].children[0].removeEventListener('keydown', handle);
        //         }
        //         ul.children[ul.children.length - 1].children[0].addEventListener('keydown', handle);
        //     });
        // }
        // 别忘了在新添加的 li 中给 删除 按钮添加点击事件



        /*
            点击 "寻求天使帮助" 按钮，从 "心中的答案" 区域随机选出一个答案
        */
        // 获取选择按钮 "寻求天使帮助"
        // let chooseBtn = document.querySelectorAll('.btn-choose button')[0];
        let chooseBtn = document.querySelectorAll('.btn-choose-1 button')[0];
        // let chooseBtn2 = document.querySelectorAll('.btn-choose button')[1];
        let chooseBtn2 = document.querySelectorAll('.btn-choose-2 button')[0];
        // 存储问题的数组
        let questionArr = JSON.parse(localStorage.getItem('questionArr')) || [];
        // console.log(questionArr);
        // let questionArr2 = [];
        let resArr = [];
        // 获取 "天使建议您" 区域
        let tianshi = document.querySelector('.tianshi .content');


        // res 字符串存储方式被淘汰，改为存储对象数组 tianshiArr
        // tianshi.innerHTML = localStorage.getItem('res') || '';


        // 获取 清空答案 按钮
        let clearBtn = document.querySelectorAll('.btn-clear button')[5];
        // 获取升序按钮
        let order1 = document.querySelector('.order1');
        let order2 = document.querySelector('.order2');
        let order3 = document.querySelector('.order3');
        // 获取 重置 按钮
        // let chongzhi = document.querySelector('.reset-page button');
        // 获取所有的按钮
        let btns = document.querySelectorAll('.xuan1 button');
        let btns2 = document.querySelectorAll('.xuan2 button');


        // 生成按钮中的输入框
        let chooseBtnInput1 = document.querySelector('.btn-choose-input1');
        let chooseBtnInput2 = document.querySelector('.btn-choose-input2');
        chooseBtnInput1.value = localStorage.getItem('chooseNum1') || '1';
        chooseBtnInput2.value = localStorage.getItem('chooseNum2') || '1';


        let tianshiArr = JSON.parse(localStorage.getItem('tianshiArr')) || [];
        // console.log(tianshiArr);


        // 结果 提取 按钮
        let resTiquBtn = document.querySelector('.res-tiqu-btn');
        // 结果 分析 按钮
        let resFenxiBtn = document.querySelector('.res-fenxi-btn');


        // 所有的删除按钮
        let delbtns = document.querySelectorAll('.delete-item');
        // console.log(delbtns);


        /*
            添加删除条目的按钮
        */
        function delBtnClick(btn) {
            btn.addEventListener('click', function () {

                delbtns = document.querySelectorAll('.delete-item');
                // console.log(delbtns);
                // 让所有的 btn 重排索引值
                for (let i = 0; i < delbtns.length; i++) {
                    delbtns[i].setAttribute('item-index', i);
                }


                tianshiArr = JSON.parse(localStorage.getItem('tianshiArr')) || [];
                questionArr = JSON.parse(localStorage.getItem('questionArr')) || [];
                let index = this.getAttribute('item-index');
                // console.log('btn-click-index', index);
                // console.log(tianshiArr[index].title);
                let tianshiArr0 = tianshiArr.filter((v, i) => i != index);
                let questionArr0 = questionArr.filter((v, i) => i != index);
                // console.log(title);
                localStorage.setItem('tianshiArr', JSON.stringify(tianshiArr0));
                localStorage.setItem('questionArr', JSON.stringify(questionArr0));
                order3.click();

                delbtns = document.querySelectorAll('.delete-item');
                // 让所有的 btn 重排索引值
                for (let i = 0; i < delbtns.length; i++) {
                    delbtns[i].setAttribute('item-index', i);
                }

                // console.log(delbtns);
                // for (let i = 0; i < delbtns.length; i++) {
                //     delbtns[i].disabled = chooseBtn.disabled || chooseBtn2.disabled;
                // }

                // index = questionArr.indexOf(title);
                // console.log('btn-click-index', index);
                // btn.setAttribute('item-index', index);
            });
        }
        function deleteItemBtn(title) {
            // 给每个条目添加删除按钮
            let btn = document.createElement('button');
            btn.innerHTML = '删除';
            btn.className = 'delete-item';
            btn.disabled = true;

            // tianshiArr = JSON.parse(localStorage.getItem('tianshiArr')) || [];
            // questionArr = JSON.parse(localStorage.getItem('questionArr')) || [];


            // delbtns = document.querySelectorAll('.delete-item');
            // // console.log(delbtns);
            // // 让所有的 btn 重排索引值
            // for (let i = 0; i < delbtns.length; i++) {
            //     delbtns[i].setAttribute('item-index', i);
            // }

            // let index = questionArr.indexOf(title);
            // // console.log('btn-item0', index);
            // btn.setAttribute('item-index', index);

            delBtnClick(btn);


            /*
                questionArr = JSON.parse(localStorage.getItem('questionArr')) || [];
                // tianshiArr = JSON.parse(localStorage.getItem('tianshiArr')) || [];
      
                // let titleArr=[]; // 提取 title
                // for (let i = 0; i < tianshiArr.length; i++) {
                //     titleArr.push(tianshiArr[i].title);
                // }
                // let index =titleArr.indexOf(title);
      
                let index = questionArr.indexOf(title);
      
      
                // btn.setAttribute('item', index);
                btn.addEventListener('click', function () {
                    tianshiArr = JSON.parse(localStorage.getItem('tianshiArr')) || [];
                    questionArr = JSON.parse(localStorage.getItem('questionArr')) || [];
      
                    let index = this.getAttribute('item');
                    // console.log(tianshiArr[index].title);
                    tianshiArr = tianshiArr.filter((v, i) => i != index);
                    questionArr = questionArr.filter((v, i) => v != title);
                    // console.log(title);
                    localStorage.setItem('tianshiArr', JSON.stringify(tianshiArr));
                    localStorage.setItem('questionArr', JSON.stringify(questionArr));
                    order3.click();
      
                    delbtns = document.querySelectorAll('.delete-item');
                    // console.log(delbtns);
                    for (let i = 0; i < delbtns.length; i++) {
                        delbtns[i].disabled = chooseBtn.disabled || chooseBtn2.disabled;
                    }
                });
            */

            // dl.appendChild(btn);
            return btn;
        }


        // #region 2个生成按钮释放前，需要释放其它元素

        // 共同需要释放的元素：
        // 按钮 "从内容1中生成" 释放前
        // 按钮 "从内容2中生成" 释放前
        function beforeGetResult1BtnAndGetResult2BtnRelease() {
            /*
                当 按钮 "从内容1中生成" 和 按钮 "从内容2中生成" 都释放时
                释放如下元素
            */

            /*
                 "结果生成区域" 模块
            */
            // 升序按钮
            order1.disabled = chooseBtn.disabled || chooseBtn2.disabled;
            // 降序按钮
            order2.disabled = chooseBtn.disabled || chooseBtn2.disabled;
            // 还原按钮
            order3.disabled = chooseBtn.disabled || chooseBtn2.disabled;
            // 提取按钮
            resTiquBtn.disabled = chooseBtn.disabled || chooseBtn2.disabled;
            // 分析按钮
            resFenxiBtn.disabled = chooseBtn.disabled || chooseBtn2.disabled;
            // 清空按钮
            clearBtn.disabled = chooseBtn.disabled || chooseBtn2.disabled;
            // 每组生成结果右侧的删除按钮
            delbtns = document.querySelectorAll('.delete-item');
            for (let i = 0; i < delbtns.length; i++) {
                delbtns[i].disabled = chooseBtn.disabled || chooseBtn2.disabled;
            }

            /*
                "抉择利器" 模块
            */
            // 为避免在生成结果时，出现标题冲突
            // 如：在生成结果1的过程中，修改结果2的标题和结果1一样，此时生成结果2
            // 结果2的内容也会出现在结果1中
            // 所以，标题输入框 input 只能在全部释放后才能被使用
            inputs[0].disabled = chooseBtn.disabled || chooseBtn2.disabled;
            inputs2[0].disabled = chooseBtn.disabled || chooseBtn2.disabled;


        }

        // 按钮 "从内容1中生成" 释放前，需要释放的元素
        function beforeGetResult1BtnRelease() {
            /*
                 "结果生成区域" 模块
            */

            // 释放 "从内容1中生成" 按钮
            chooseBtn.disabled = false;

            // 共同需要释放的元素：
            // 按钮 "从内容1中生成" 释放前
            // 按钮 "从内容2中生成" 释放前
            beforeGetResult1BtnAndGetResult2BtnRelease();

            // 释放左侧 "生成___个" 中的输入框 input
            chooseBtnInput1.disabled = false;

            // 左侧的 "追加" 单选框
            res1choice1.disabled = false;
            // 左侧的 "重新生成" 单选框
            res1choice2.disabled = false;
            // 左侧的 "可重复" 单选框
            res1repeat1.disabled = false;
            // 左侧的 "不重复" 单选框
            res1repeat2.disabled = false;
            // 左侧的 "重新生成" 单选框为选中状态时
            // 是否需要重新创建该结果 (默认需要)
            isCreate1 = true;
            // 左侧的 "不重复" 单选框为选中状态时
            // 是否需要重新创建该结果 (默认需要)
            isRepeat1 = true;

            /*
                "抉择利器" 模块
            */

            // 让 内容1 中所有的 input 可用
            for (let i = 1; i < inputs.length; i++) {
                inputs[i].disabled = false;
            }

            // 让 内容1 中所有的按钮可用
            for (let i = 0; i < btns.length; i++) {
                btns[i].disabled = false;
            }
        }


        // 按钮 "从内容1中生成" 释放前，需要释放的元素
        function beforeGetResult2BtnRelease() {
            /*
                 "结果生成区域" 模块
            */

            // 释放 "从内容2中生成" 按钮
            chooseBtn2.disabled = false;

            // 共同需要释放的元素：
            // 按钮 "从内容1中生成" 释放前
            // 按钮 "从内容2中生成" 释放前
            beforeGetResult1BtnAndGetResult2BtnRelease();

            // 释放右侧 "生成___个" 中的输入框 input
            chooseBtnInput2.disabled = false;

            // 右侧侧的 "追加" 单选框
            res2choice1.disabled = false;
            // 右侧侧的 "重新生成" 单选框
            res2choice2.disabled = false;
            // 右侧侧的 "可重复" 单选框
            res2repeat1.disabled = false;
            // 右侧侧的 "不重复" 单选框
            res2repeat2.disabled = false;
            // 右侧的 "重新生成" 单选框为选中状态时
            // 是否需要重新创建该结果 (默认需要)
            isCreate2 = true;
            // 右侧的 "不重复" 单选框为选中状态时
            // 是否需要重新创建该结果 (默认需要)
            isRepeat2 = true;

            /*
                "抉择利器" 模块
            */

            // 让 内容2 中所有的 input 可用
            for (let i = 1; i < inputs2.length; i++) {
                inputs2[i].disabled = false;
            }

            // 让 内容2 中所有的按钮可用
            for (let i = 0; i < btns2.length; i++) {
                btns2[i].disabled = false;
            }
        }

        // #endregion


        /*
            生成按钮点击一次所执行的函数
        */
        function chooseBtn1ClickOnce(resolve) {
            // chongzhi.disabled = true;
            if (ul.children.length === 0) {
                // alert('请添加必填内容');
                pageMask2.style.display = 'block';
                tipBox.style.display = 'block';
                tipContent.innerHTML = '请添加必填内容';
                // this.disabled = false;
                // clearBtn.disabled = false;
                // chongzhi.disabled = false;
                return;
            }
            if (ul.children.length === 1 && ul.children[0].children[0].value.trim() === '') {
                // alert('请输入必填内容');
                pageMask2.style.display = 'block';
                tipBox.style.display = 'block';
                tipContent.innerHTML = '请输入必填内容';
                // this.disabled = false;
                // clearBtn.disabled = false;
                // chongzhi.disabled = false;
                return;
            }
            for (let i = 0; i < ul.children.length; i++) {
                if (ul.children[i].children[0].value.trim() === '') {
                    // alert('请补全必填内容');
                    pageMask2.style.display = 'block';
                    tipBox.style.display = 'block';
                    tipContent.innerHTML = '请补全必填内容';
                    // this.disabled = false;
                    // clearBtn.disabled = false;
                    // chongzhi.disabled = false;
                    return;
                }
            }


            questionArr = JSON.parse(localStorage.getItem('questionArr')) || [];
            tianshiArr = JSON.parse(localStorage.getItem('tianshiArr')) || [];
            // tianshi.innerHTML = localStorage.getItem('res') || '';


            if (xuanInput1.value.trim() === xuanInput2.value.trim()) {
                // 重新生成按钮不能选
                res1choice = false;
                res2choice = false;
                res1choice1.checked = true;
                res2choice1.checked = true;
            }


            chooseBtnInput1.disabled = true;
            // chooseBtnInput2.disabled = true;
            // this.disabled = true;
            chooseBtn.disabled = true;
            clearBtn.disabled = true;
            order1.disabled = true;
            order2.disabled = true;
            order3.disabled = true;
            resTiquBtn.disabled = true;
            resFenxiBtn.disabled = true;
            res1choice1.disabled = true;
            res1choice2.disabled = true;
            res1repeat1.disabled = true;
            res1repeat2.disabled = true;


            delbtns = document.querySelectorAll('.delete-item');
            for (let i = 0; i < delbtns.length; i++) {
                delbtns[i].disabled = true;
            }


            let tianshiObj = {
                title: '',
                content: []
            }


            // 可能出现后添加的输入框和按钮，需要重新获取一下
            inputs = document.querySelectorAll('.xuan1 input');
            btns = document.querySelectorAll('.xuan1 button');

            // 让所有的 inputs 不可用
            inputs2[0].disabled = true;
            for (let i = 0; i < inputs.length; i++) {
                inputs[i].disabled = true;
            }
            // 让所有的按钮不可用
            for (let i = 0; i < btns.length; i++) {
                btns[i].disabled = true;
            }

            // 随机索引
            let randomNum = getRandomNumber(0, ul.children.length - 1);
            // 随机数数组
            let temArr = randomNumberToArr(0, ul.children.length - 1);
            // console.log(temArr);
            // 每 0.09 秒选出一个结果
            let smallTimer = setInterval(() => {
                // 随机索引
                randomNum = getRandomNumber(0, ul.children.length - 1);
                // console.log(randomNum);
                // 对随机索引进行加工，更加随机
                randomNum = temArr[randomNum];
                // 原始随机数
                // randomNum = getRandomNumber(0, ul.children.length - 1);
                // 让其它输入框不变色
                for (let i = 0; i < ul.children.length; i++) {
                    ul.children[i].children[0].style.backgroundColor = '';
                }
                // let ssTimer = setTimeout(() => {
                // 让当前输入框变色
                ul.children[randomNum].children[0].style.backgroundColor = 'rgba(32, 114, 146, 0.9)';
                // ul.children[randomNum].children[0].style.color = '#fff';
                // clearTimeout(ssTimer);
                // }, 100);

                // console.log(randomNum);
                // console.log(temArr);
            }, 50);
            // console.log(randomNum);
            // 3 秒后选出最终结果
            let delayTime = 50 * getRandomNumber(6, 19);
            // console.log(delayTime);
            let bigTimer = setTimeout(() => {
                // 将问题添加到数组
                let question = document.querySelector('.question input').value;
                if (document.querySelector('.question input').value.trim() === '') {
                    question = '未录入的标题1';
                }
                tianshiObj.title = question;

                let index = questionArr.indexOf(question);
                // console.log('index',index);


                // console.log('index', index);
                // tianshiArr.push(tianshiObj);


                // 查看该索引下的值，是否在内容中存在
                // ul.children[randomNum].children[0].value
                // console.log('res1repeat', res1repeat);
                if (index < 0) {
                    isRepeat1 = false;
                }
                if (res1repeat2.checked && isRepeat1 && index >= 0) {
                    isRepeat1 = false;
                    if (tianshiArr.length !== 0) {
                        tianshiArr[index].content = [];
                        let btn = deleteItemBtn(question);
                        tianshi.children[index].innerHTML = '<dt>' + question + '</dt>';
                        tianshi.children[index].insertBefore(btn, tianshi.children[index].children[0]);
                    }
                }
                if (res1repeat2.checked && tianshiArr.length !== 0 && index >= 0) {
                    // console.log(tianshiArr[index].content);
                    // console.log(ul.children);
                    // console.log('内容1-不重复');

                    /*
                        虽然可以让结果不重复，但是如果使用者输入的内容中有重复的
                        此时需要借助数组，先去重
          
                    */
                    // 使用一个临时数组，将用户输入的内容存储，便于去重
                    let tempUserInputContentItemsArr = [];
                    for (let i = 0; i < ul.children.length; i++) {
                        // ul > li > input
                        tempUserInputContentItemsArr.push(ul.children[i].children[0].value.trim());
                    }
                    // 借助分析功能中的 对元素统计个数和次数 的函数
                    // 此时该函数的长度就是不重复元素的个数
                    tempUserInputContentItemsArr = tongjiItemsTimes(tempUserInputContentItemsArr);
                    // console.log('去重后', tempUserInputContentItemsArr);
                    // console.log('去重后个数', tempUserInputContentItemsArr.length);


                    while (true) {
                        // console.log('循环');
                        // if (tianshiArr[index].content.length != 0 && tianshiArr[index].content.length >= ul.children.length) {
                        if (tianshiArr[index].content.length != 0 && tianshiArr[index].content.length >= tempUserInputContentItemsArr.length) {
                            pageMask2.style.display = 'block';
                            tipBox.style.display = 'block';
                            tipContent.innerHTML = '所有不重复条目都已展示';
                            clearInterval(smallTimer);

                            beforeGetResult1BtnRelease();

                            return;
                        }
                        if (tianshiArr[index].content.indexOf(ul.children[randomNum].children[0].value) < 0) {
                            break;
                        }
                        // 随机索引
                        randomNum = getRandomNumber(0, ul.children.length - 1);
                        // console.log(randomNum);
                        // 对随机索引进行加工，更加随机
                        randomNum = temArr[randomNum];
                    }
                    // console.log(tianshiArr[index].content);
                    // console.log(ul.children[randomNum].children);
                }



                // 停止继续选择
                clearInterval(smallTimer);

                // 让其它输入框不变色
                for (let i = 0; i < ul.children.length; i++) {
                    ul.children[i].children[0].style.backgroundColor = '';
                }


                // 如果没有就添加
                if (index < 0) {
                    questionArr.push(question);
                    // index = questionArr.indexOf(question);
                    localStorage.setItem('questionArr', JSON.stringify(questionArr));
                }


                // console.log('index----', index);
                // console.log(questionArr);

                // 将答案添加到 "天使建议您" 区域
                // 如果问题未出现过，就添加，否则，就在对应的问题下添加答案即可
                if (index < 0 || tianshi.innerHTML === '') {
                    // 说明需要新增模块：标题、内容
                    // 下次循环不需要开启 重新生成
                    isCreate1 = false;


                    // 创建 dl
                    let dl = document.createElement('dl');
                    // 创建 dt
                    let dt = document.createElement('dt');
                    dt.innerHTML = question;
                    // 创建 dd
                    let dd = document.createElement('dd');
                    dd.innerHTML = ul.children[randomNum].children[0].value;
                    if (ul.children[randomNum].children[0].value.trim() === '') {
                        dd.innerHTML = '未录入的答案';
                    }

                    tianshiObj.content.push(dd.innerHTML);
                    // console.log('+++', tianshiObj);
                    tianshiArr.push(tianshiObj);
                    // console.log('+++', tianshiArr);




                    let btn = deleteItemBtn(dt.innerHTML);


                    // console.log('+++', tianshiArr);
                    // 给每个条目添加删除按钮
                    // let btn = document.createElement('button');
                    // btn.innerHTML = '删除';
                    // btn.className = 'delete-item';
                    // btn.disabled = true;

                    // tianshiArr = JSON.parse(localStorage.getItem('tianshiArr')) || [];
                    // questionArr = JSON.parse(localStorage.getItem('questionArr')) || [];

                    // let index = questionArr.indexOf(title);
                    // btn.setAttribute('item', index);

                    dl.appendChild(btn);



                    dl.appendChild(dt);
                    dl.appendChild(dd);
                    tianshi.appendChild(dl);
                    // console.log(2);
                    // localStorage.setItem('res', tianshi.innerHTML);
                } else {
                    // 创建 dd
                    let dd = document.createElement('dd');
                    dd.innerHTML = ul.children[randomNum].children[0].value;
                    if (ul.children[randomNum].children[0].value.trim() === '') {
                        dd.innerHTML = '未知答案';
                    }

                    // 追加生成，每回合只打开一次
                    // 追加生成，每回合只打开一次
                    // 追加生成，每回合只打开一次
                    // console.log(tianshiArr[index].title);
                    // if (res1choice === 'choice12' && isCreate1) {
                    if (res1choice2.checked && isCreate1) {
                        // console.log('内容1-重新生成');
                        // console.log('@@@@@@1-2');
                        isCreate1 = false;
                        tianshiArr[index].content = [];

                        let btn = deleteItemBtn(tianshiArr[index].title);

                        // 给每个条目添加删除按钮
                        // let btn = document.createElement('button');
                        // btn.innerHTML = '删除';
                        // btn.className = 'delete-item';
                        // btn.disabled = true;

                        // tianshi.children[index].innerHTML = '';
                        // tianshi.children[index].appendChild(btn);
                        // console.log(index);
                        tianshi.children[index].innerHTML = '<dt>' + tianshiArr[index].title + '</dt>';
                        tianshi.children[index].insertBefore(btn, tianshi.children[index].children[0]);
                    }
                    // if(res1choice === 'choice12') {
                    //     let btn = deleteItemBtn(tianshiArr[index].title);
                    //     tianshi.children[index].insertBefore(btn,tianshi.children[index].children[0]);
                    //     // index++;
                    // }

                    // tianshiObj.content.push(dd.innerHTML);
                    tianshiArr[index].content.push(dd.innerHTML);
                    tianshi.children[index].appendChild(dd);
                    // console.log(1);
                    // localStorage.setItem('res', tianshi.innerHTML);
                }

                // console.log(tianshiObj);
                // console.log(tianshiArr);
                localStorage.setItem('tianshiArr', JSON.stringify(tianshiArr));

                // console.log('index',index);
                // tianshi.children[index].children[0].addEventListener('click', function () {
                //     tianshiArr = JSON.parse(localStorage.getItem('tianshiArr')) || [];
                //     questionArr = JSON.parse(localStorage.getItem('questionArr')) || [];
                //     // let itemIndex = this.getAttribute('item');
                //     // let itemIndex =questionArr.indexOf(question);
                //     // console.log(tianshiArr[index].title);
                //     tianshiArr = tianshiArr.filter((v, i) => i != index);
                //     questionArr = questionArr.filter((v, i) => i != index);
                //     // console.log(title);
                //     localStorage.setItem('tianshiArr', JSON.stringify(tianshiArr));
                //     localStorage.setItem('questionArr', JSON.stringify(questionArr));
                //     order3.click();

                //     delbtns = document.querySelectorAll('.delete-item');
                //     // console.log(delbtns);
                //     for (let i = 0; i < delbtns.length; i++) {
                //         delbtns[i].disabled = chooseBtn.disabled || chooseBtn2.disabled;
                //     }
                // });

                // let ssTimer = setTimeout(() => {
                // 让当前输入框变色
                ul.children[randomNum].children[0].style.backgroundColor = 'rgba(32, 114, 146, 0.9)';
                // ul.children[randomNum].children[0].style.color = '#fff';
                // clearTimeout(ssTimer);
                // }, 100);

                // 让所有的 inputs 可用
                // for (let i = 0; i < inputs.length; i++) {
                //     inputs[i].disabled = false;
                // }
                // 让所有的按钮可用
                // for (let i = 0; i < btns.length; i++) {
                //     btns[i].disabled = false;
                // }

                // chooseBtnInput1.disabled = false;
                // chooseBtnInput2.disabled = false;
                // this.disabled = false;
                // clearBtn.disabled = false;
                // order1.disabled = false;
                // order2.disabled = false;
                // order3.disabled = false;

                // chongzhi.disabled = false;
                clearTimeout(bigTimer);

                // 1秒后结束当前异步任务
                // resolve();
                let endTimer = setTimeout(() => {
                    resolve();
                }, 499);
            }, delayTime);
        }




        function chooseBtn2ClickOnce(resolve) {
            if (ul2.children.length === 0) {
                // alert('请添加必填内容');
                pageMask2.style.display = 'block';
                tipBox.style.display = 'block';
                tipContent.innerHTML = '请添加必填内容';
                return;
            }
            if (ul2.children.length === 1 && ul2.children[0].children[0].value.trim() === '') {
                // alert('请输入必填内容');
                pageMask2.style.display = 'block';
                tipBox.style.display = 'block';
                tipContent.innerHTML = '请输入必填内容';
                return;
            }
            for (let i = 0; i < ul2.children.length; i++) {
                if (ul2.children[i].children[0].value.trim() === '') {
                    // alert('请补全必填内容');
                    pageMask2.style.display = 'block';
                    tipBox.style.display = 'block';
                    tipContent.innerHTML = '请补全必填内容';
                    return;
                }
            }


            questionArr = JSON.parse(localStorage.getItem('questionArr')) || [];
            tianshiArr = JSON.parse(localStorage.getItem('tianshiArr')) || [];
            // tianshi.innerHTML = localStorage.getItem('res') || '';


            if (xuanInput1.value.trim() === xuanInput2.value.trim()) {
                // 重新生成按钮不能选
                res1choice = false;
                res2choice = false;
                res1choice1.checked = true;
                res2choice1.checked = true;
            }


            // chooseBtnInput1.disabled = true;
            chooseBtnInput2.disabled = true;
            // this.disabled = true;
            chooseBtn2.disabled = true;
            clearBtn.disabled = true;
            order1.disabled = true;
            order2.disabled = true;
            order3.disabled = true;
            resTiquBtn.disabled = true;
            resFenxiBtn.disabled = true;
            res2choice1.disabled = true;
            res2choice2.disabled = true;
            res2repeat1.disabled = true;
            res2repeat2.disabled = true;

            delbtns = document.querySelectorAll('.delete-item');
            for (let i = 0; i < delbtns.length; i++) {
                delbtns[i].disabled = true;
            }




            let tianshiObj = {
                title: '',
                content: []
            }


            // 可能出现后添加的输入框和按钮，需要重新获取一下
            inputs2 = document.querySelectorAll('.xuan2 input');
            btns2 = document.querySelectorAll('.xuan2 button');
            // 让所有的 inputs 不可用
            inputs[0].disabled = true;
            for (let i = 0; i < inputs2.length; i++) {
                inputs2[i].disabled = true;
            }
            // 让所有的按钮不可用
            for (let i = 0; i < btns2.length; i++) {
                btns2[i].disabled = true;
            }

            // 随机索引
            let randomNum = getRandomNumber(0, ul2.children.length - 1);
            // 随机数数组
            let temArr = randomNumberToArr(0, ul2.children.length - 1);
            // 每 0.09 秒选出一个结果
            let smallTimer = setInterval(() => {

                // 随机索引
                randomNum = getRandomNumber(0, ul2.children.length - 1);
                // 对随机索引进行加工，更加随机
                randomNum = temArr[randomNum];
                // 原始随机数
                // randomNum = getRandomNumber(0, ul2.children.length - 1);
                // 让其它输入框不变色
                for (let i = 0; i < ul2.children.length; i++) {
                    ul2.children[i].children[0].style.backgroundColor = '';
                }
                // let ssTimer = setTimeout(() => {
                // 让当前输入框变色
                ul2.children[randomNum].children[0].style.backgroundColor = 'rgba(32, 114, 146, 0.9)';
                // ul2.children[randomNum].children[0].style.color = '#fff';
                // clearTimeout(ssTimer);
                // }, 100);
            }, 50);
            // 3 秒后选出最终结果
            let delayTime = 50 * getRandomNumber(6, 19);
            let bigTimer = setTimeout(() => {
                // 将问题添加到数组
                let question = document.querySelector('.question2 input').value;
                if (document.querySelector('.question2 input').value.trim() === '') {
                    question = '未录入的标题2';
                }



                tianshiObj.title = question;

                let index = questionArr.indexOf(question);



                // 查看该索引下的值，是否在内容中存在
                // ul.children[randomNum].children[0].value
                // console.log('res2repeat', res2repeat);
                if (index < 0) {
                    isRepeat2 = false;
                }
                if (res2repeat2.checked && isRepeat2 && index >= 0) {
                    isRepeat2 = false;
                    if (tianshiArr.length !== 0) {
                        tianshiArr[index].content = [];
                        let btn = deleteItemBtn(tianshiArr[index].title);
                        tianshi.children[index].innerHTML = '<dt>' + tianshiArr[index].title + '</dt>';
                        tianshi.children[index].insertBefore(btn, tianshi.children[index].children[0]);
                    }
                }
                if (res2repeat2.checked && tianshiArr.length !== 0 && index >= 0) {
                    // console.log(tianshiArr[index].content);
                    // console.log(ul2.children);
                    // console.log('内容2-不重复');

                    /*
                        虽然可以让结果不重复，但是如果使用者输入的内容中有重复的
                        此时需要借助数组，先去重
          
                    */
                    // 使用一个临时数组，将用户输入的内容存储，便于去重
                    let tempUserInputContentItemsArr = [];
                    for (let i = 0; i < ul2.children.length; i++) {
                        // ul > li > input
                        tempUserInputContentItemsArr.push(ul2.children[i].children[0].value.trim());
                    }
                    // 借助分析功能中的 对元素统计个数和次数 的函数
                    // 此时该函数的长度就是不重复元素的个数
                    tempUserInputContentItemsArr = tongjiItemsTimes(tempUserInputContentItemsArr);
                    // console.log('去重后', tempUserInputContentItemsArr);
                    // console.log('去重后个数', tempUserInputContentItemsArr.length);


                    while (true) {
                        // console.log('循环');
                        // if (tianshiArr[index].content.length != 0 && tianshiArr[index].content.length >= ul2.children.length) {
                        if (tianshiArr[index].content.length != 0 && tianshiArr[index].content.length >= tempUserInputContentItemsArr.length) {
                            pageMask2.style.display = 'block';
                            tipBox.style.display = 'block';
                            tipContent.innerHTML = '所有不重复条目都已展示';
                            clearInterval(smallTimer);

                            beforeGetResult2BtnRelease();

                            return;
                        }
                        if (tianshiArr[index].content.indexOf(ul2.children[randomNum].children[0].value) < 0) {
                            break;
                        }
                        // 随机索引
                        randomNum = getRandomNumber(0, ul2.children.length - 1);
                        // console.log(randomNum);
                        // 对随机索引进行加工，更加随机
                        randomNum = temArr[randomNum];
                    }
                    // console.log(tianshiArr[index].content);
                    // console.log(ul.children[randomNum].children);
                }



                clearInterval(smallTimer);


                // 让其它输入框不变色
                for (let i = 0; i < ul2.children.length; i++) {
                    ul2.children[i].children[0].style.backgroundColor = '';
                }


                // 如果没有就添加
                if (index < 0) {
                    questionArr.push(question);
                    // index = questionArr.indexOf(question);
                    localStorage.setItem('questionArr', JSON.stringify(questionArr));
                }

                // console.log('index:', index);
                // console.log(questionArr);

                // 将答案添加到 "天使建议您" 区域
                // 如果问题未出现过，就添加，否则，就在对应的问题下添加答案即可
                if (index < 0 || tianshi.innerHTML === '') {
                    // 说明需要新增模块：标题、内容
                    // 下次循环不需要开启 重新生成
                    isCreate2 = false;


                    // 创建 dl
                    let dl = document.createElement('dl');
                    // 创建 dt
                    let dt = document.createElement('dt');
                    dt.innerHTML = question;
                    // 创建 dd
                    let dd = document.createElement('dd');
                    dd.innerHTML = ul2.children[randomNum].children[0].value;
                    if (ul2.children[randomNum].children[0].value.trim() === '') {
                        dd.innerHTML = '未录入的答案';
                    }


                    tianshiObj.content.push(dd.innerHTML);
                    tianshiArr.push(tianshiObj);


                    let btn = deleteItemBtn(dt.innerHTML);

                    // 给每个条目添加删除按钮
                    // let btn = document.createElement('button');
                    // btn.innerHTML = '删除';
                    // btn.className = 'delete-item';
                    // btn.disabled = true;

                    dl.appendChild(btn);


                    dl.appendChild(dt);
                    dl.appendChild(dd);
                    tianshi.appendChild(dl);
                    // console.log(2);
                    // localStorage.setItem('res', tianshi.innerHTML);
                } else {
                    // 创建 dd
                    let dd = document.createElement('dd');
                    dd.innerHTML = ul2.children[randomNum].children[0].value;
                    if (ul2.children[randomNum].children[0].value.trim() === '') {
                        dd.innerHTML = '未知答案';
                    }


                    // 追加生成，每回合只打开一次
                    // 追加生成，每回合只打开一次
                    // 追加生成，每回合只打开一次
                    // if (res2choice === 'choice22' && isCreate2) {
                    if (res2choice2.checked && isCreate2) {
                        // console.log('内容2-重新生成');
                        isCreate2 = false;
                        tianshiArr[index].content = [];


                        let btn = deleteItemBtn(tianshiArr[index].title);

                        // 给每个条目添加删除按钮
                        // let btn = document.createElement('button');
                        // btn.innerHTML = '删除';
                        // btn.className = 'delete-item';
                        // btn.disabled = true;

                        // tianshi.children[index].innerHTML = '';
                        // tianshi.children[index].appendChild(btn);


                        tianshi.children[index].innerHTML = '<dt>' + tianshiArr[index].title + '</dt>';
                        tianshi.children[index].insertBefore(btn, tianshi.children[index].children[0]);
                    }


                    // tianshiObj.content.push(dd.innerHTML);
                    tianshiArr[index].content.push(dd.innerHTML);
                    tianshi.children[index].appendChild(dd);
                    // console.log(1);
                    // localStorage.setItem('res', tianshi.innerHTML);
                }

                // console.log(tianshiObj);
                // console.log(tianshiArr);
                localStorage.setItem('tianshiArr', JSON.stringify(tianshiArr));

                // tianshi.children[index].children[0].addEventListener('click', function () {
                //     tianshiArr = JSON.parse(localStorage.getItem('tianshiArr')) || [];
                //     questionArr = JSON.parse(localStorage.getItem('questionArr')) || [];
                //     // let itemIndex = this.getAttribute('item');
                //     // let itemIndex =questionArr.indexOf(question);
                //     // console.log(tianshiArr[index].title);
                //     tianshiArr = tianshiArr.filter((v, i) => i != index);
                //     questionArr = questionArr.filter((v, i) => i != index);
                //     // console.log(title);
                //     localStorage.setItem('tianshiArr', JSON.stringify(tianshiArr));
                //     localStorage.setItem('questionArr', JSON.stringify(questionArr));
                //     order3.click();

                //     delbtns = document.querySelectorAll('.delete-item');
                //     // console.log(delbtns);
                //     for (let i = 0; i < delbtns.length; i++) {
                //         delbtns[i].disabled = chooseBtn.disabled || chooseBtn2.disabled;
                //     }
                // });

                // let ssTimer = setTimeout(() => {
                // 让当前输入框变色
                ul2.children[randomNum].children[0].style.backgroundColor = 'rgba(32, 114, 146, 0.9)';
                // ul2.children[randomNum].children[0].style.color = '#fff';
                // clearTimeout(ssTimer);
                // }, 100);

                // 让所有的 inputs 可用
                // for (let i = 0; i < inputs2.length; i++) {
                //     inputs2[i].disabled = false;
                // }
                // 让所有的按钮可用
                // for (let i = 0; i < btns2.length; i++) {
                //     btns2[i].disabled = false;
                // }

                // chooseBtnInput1.disabled = false;
                // chooseBtnInput2.disabled = false;
                // this.disabled = false;
                // clearBtn.disabled = false;
                // order1.disabled = false;
                // order2.disabled = false;
                // order3.disabled = false;

                // chongzhi.disabled = false;
                clearTimeout(bigTimer);

                // 1秒后结束当前异步任务
                // resolve();
                let endTimer = setTimeout(() => {
                    resolve();
                }, 499);
            }, delayTime);
        }

        // 点击选择按钮随机
        chooseBtn.addEventListener('click', function () {
            // 每次清除存储的问题数组后，都会删除本地存储中的 questionArr
            // 但该全局变量还是原来的值
            // 所以每次点击按钮时都要重新获取一次


            if (!isIntegerStringPositive(chooseBtnInput1.value)) {
                // alert('请输入正整数');
                pageMask2.style.display = 'block';
                tipBox.style.display = 'block';
                tipContent.innerHTML = '请输入正整数';
                return false;
            }
            if (parseInt(chooseBtnInput1.value) > 100 || parseInt(chooseBtnInput1.value) < 1) {
                // alert('只能请输入1~100');
                pageMask2.style.display = 'block';
                tipBox.style.display = 'block';
                tipContent.innerHTML = '只能请输入1~100';
                return false;
            }

            // 依次生成异步任务
            let jsStr = `new Promise(function(resolve, reject){
                resolve()
            })`;
            for (let i = 0; i < parseInt(chooseBtnInput1.value); i++) {
                // chooseBtn1ClickOnce();
                jsStr += `
                    .then(function () {
                        return new Promise((resolve, reject) => {
                            chooseBtn1ClickOnce(resolve);
                        });
                    })
                `;
                if (i === parseInt(chooseBtnInput1.value) - 1) {
                    jsStr += `
                        .then(function () {
                            beforeGetResult1BtnRelease();
                        })
                    `;
                }
            }
            // console.log(jsStr);
            // 执行字符串中的代码
            eval(jsStr);
        });

        chooseBtn2.addEventListener('click', function () {
            // 每次清除存储的问题数组后，都会删除本地存储中的 questionArr
            // 但该全局变量还是原来的值
            // 所以每次点击按钮时都要重新获取一次

            if (!isIntegerStringPositive(chooseBtnInput2.value)) {
                // alert('请输入正整数');
                pageMask2.style.display = 'block';
                tipBox.style.display = 'block';
                tipContent.innerHTML = '请输入正整数';
                return false;
            }
            if (parseInt(chooseBtnInput2.value) > 100 || parseInt(chooseBtnInput2.value) < 1) {
                // alert('只能请输入1~100');
                pageMask2.style.display = 'block';
                tipBox.style.display = 'block';
                tipContent.innerHTML = '只能请输入1~100';
                return false;
            }

            // 依次生成异步任务
            let jsStr = `new Promise(function(resolve, reject){
                resolve()
            })`;
            for (let i = 0; i < parseInt(chooseBtnInput2.value); i++) {
                // chooseBtn1ClickOnce();
                jsStr += `
                    .then(function () {
                        return new Promise((resolve, reject) => {
                            chooseBtn2ClickOnce(resolve);
                        });
                    })
                `;

                if (i === parseInt(chooseBtnInput2.value) - 1) {
                    jsStr += `
                        .then(function () {
                            beforeGetResult2BtnRelease();
                        })
                    `;
                }
            }
            // console.log(jsStr);
            // 执行字符串中的代码
            eval(jsStr);
        });

        /*
            生成按钮中的输入框：键盘删除功能
        */
        chooseBtnInput1.addEventListener('keydown', function (e) {
            if (e.key === 'Delete' || e.key === 'Backspace') {
                this.value = '';
            }
        });
        chooseBtnInput1.addEventListener('blur', function (e) {
            localStorage.setItem('chooseNum1', this.value);
        });
        chooseBtnInput2.addEventListener('keydown', function (e) {
            if (e.key === 'Delete' || e.key === 'Backspace') {
                this.value = '';
            }
        });
        chooseBtnInput2.addEventListener('blur', function (e) {
            localStorage.setItem('chooseNum2', this.value);
        });

        /*
            点击 清空生成的结果 按钮，清空答案
        */

        clearBtn.addEventListener('click', function () {
            tianshi.innerHTML = '';
            // questionArr = [];
            localStorage.removeItem('questionArr');
            // questionArr2 = [];
            // localStorage.removeItem('res');
            localStorage.removeItem('tianshiArr');
        });


        /*
            排序功能
        */
        // 升序：清空生成区域，针对于 tianshiArr 进行升序，渲染到页面中
        order1.addEventListener('click', function () {
            if (tianshi.innerHTML.trim() === '' || tianshiArr.length === 0) {
                // alert('没有需要排序的内容');
                pageMask2.style.display = 'block';
                tipBox.style.display = 'block';
                tipContent.innerHTML = '没有需要排序的内容';
                return;
            }
            // 先清空页面
            tianshi.innerHTML = '';
            // 不改变原数组
            let tpArr1 = [];
            tianshiArr = JSON.parse(localStorage.getItem('tianshiArr')) || [];
            for (let i = 0; i < tianshiArr.length; i++) {
                tpArr1[i] = tianshiArr[i];
            }

            for (let i = 0; i < tpArr1.length; i++) {
                // 排序
                tpArr1[i].content.sort(function (a, b) {
                    return a - b;
                });
                // 创建 dl
                let dl = document.createElement('dl');
                // 创建 dt
                let dt = document.createElement('dt');
                dt.innerHTML = tpArr1[i].title;


                let btn = deleteItemBtn(tpArr1[i].title);

                // 给每个条目添加删除按钮
                // let btn = document.createElement('button');
                // btn.innerHTML = '删除';
                // btn.className = 'delete-item';
                // btn.disabled = true;

                dl.appendChild(btn);


                dl.appendChild(dt);
                // 创建 dd
                for (let j = 0; j < tpArr1[i].content.length; j++) {
                    let dd = document.createElement('dd');
                    dd.innerHTML = tpArr1[i].content[j];
                    dl.appendChild(dd);
                }
                tianshi.appendChild(dl);

                let index = questionArr.indexOf(tpArr1[i].title);
                // tianshi.children[index].children[0].addEventListener('click', function () {
                //     tianshiArr = JSON.parse(localStorage.getItem('tianshiArr')) || [];
                //     questionArr = JSON.parse(localStorage.getItem('questionArr')) || [];
                //     // let itemIndex = this.getAttribute('item');
                //     // let index = questionArr.indexOf(tpArr1[i].title);
                //     // console.log(tianshiArr[index].title);
                //     tianshiArr = tianshiArr.filter((v, i) => i != index);
                //     questionArr = questionArr.filter((v, i) => i != index);
                //     // console.log(title);
                //     localStorage.setItem('tianshiArr', JSON.stringify(tianshiArr));
                //     localStorage.setItem('questionArr', JSON.stringify(questionArr));
                //     order3.click();

                //     delbtns = document.querySelectorAll('.delete-item');
                //     // console.log(delbtns);
                //     for (let i = 0; i < delbtns.length; i++) {
                //         delbtns[i].disabled = chooseBtn.disabled || chooseBtn2.disabled;
                //     }
                // });
            }


            delbtns = document.querySelectorAll('.delete-item');
            // console.log(delbtns);
            for (let i = 0; i < delbtns.length; i++) {
                delbtns[i].disabled = chooseBtn.disabled || chooseBtn2.disabled;
            }
        });

        // 降序：清空生成区域，针对于 tianshiArr 进行降序，渲染到页面中
        order2.addEventListener('click', function () {
            if (tianshi.innerHTML.trim() === '' || tianshiArr.length === 0) {
                // alert('没有需要排序的内容');
                pageMask2.style.display = 'block';
                tipBox.style.display = 'block';
                tipContent.innerHTML = '没有需要排序的内容';
                return;
            }
            // 先清空页面
            tianshi.innerHTML = '';
            // 不改变原数组
            let tpArr2 = [];
            tianshiArr = JSON.parse(localStorage.getItem('tianshiArr')) || [];
            for (let i = 0; i < tianshiArr.length; i++) {
                tpArr2[i] = tianshiArr[i];
            }

            for (let i = 0; i < tpArr2.length; i++) {
                // 排序
                tpArr2[i].content.sort(function (a, b) {
                    return b - a;
                });
                // 创建 dl
                let dl = document.createElement('dl');
                // 创建 dt
                let dt = document.createElement('dt');
                dt.innerHTML = tpArr2[i].title;


                let btn = deleteItemBtn(tpArr2[i].title);

                // 给每个条目添加删除按钮
                // let btn = document.createElement('button');
                // btn.innerHTML = '删除';
                // btn.className = 'delete-item';
                // btn.disabled = true;

                dl.appendChild(btn);


                dl.appendChild(dt);
                // 创建 dd
                for (let j = 0; j < tpArr2[i].content.length; j++) {
                    let dd = document.createElement('dd');
                    dd.innerHTML = tpArr2[i].content[j];
                    dl.appendChild(dd);
                }
                tianshi.appendChild(dl);


                let index = questionArr.indexOf(tpArr2[i].title);
                // tianshi.children[index].children[0].addEventListener('click', function () {
                //     tianshiArr = JSON.parse(localStorage.getItem('tianshiArr')) || [];
                //     questionArr = JSON.parse(localStorage.getItem('questionArr')) || [];
                //     // let itemIndex = this.getAttribute('item');
                //     // let index = questionArr.indexOf(tpArr2[i].title);
                //     // console.log(tianshiArr[index].title);
                //     tianshiArr = tianshiArr.filter((v, i) => i != index);
                //     questionArr = questionArr.filter((v, i) => i != index);
                //     // console.log(title);
                //     localStorage.setItem('tianshiArr', JSON.stringify(tianshiArr));
                //     localStorage.setItem('questionArr', JSON.stringify(questionArr));
                //     order3.click();

                //     delbtns = document.querySelectorAll('.delete-item');
                //     // console.log(delbtns);
                //     for (let i = 0; i < delbtns.length; i++) {
                //         delbtns[i].disabled = chooseBtn.disabled || chooseBtn2.disabled;
                //     }
                // });
            }


            delbtns = document.querySelectorAll('.delete-item');
            // console.log(delbtns);
            for (let i = 0; i < delbtns.length; i++) {
                delbtns[i].disabled = chooseBtn.disabled || chooseBtn2.disabled;
            }
        });

        // 还原：清空生成区域，将 res 展示到页面中
        order3.addEventListener('click', function () {
            // if (tianshi.innerHTML.trim() === '' || tianshiArr.length === 0) {
            //     // alert('没有需要排序的内容');
            //     pageMask2.style.display = 'block';
            //     tipBox.style.display = 'block';
            //     tipContent.innerHTML = '没有需要还原的内容';
            //     return;
            // }

            // 采用字符串形式存储
            // // 先清空页面
            // tianshi.innerHTML = '';
            // // 将 res 展示到页面中
            // tianshi.innerHTML = localStorage.getItem('res') || '';


            // 采用数组形式存储
            tianshiArr = JSON.parse(localStorage.getItem('tianshiArr')) || [];

            // console.log('order3');
            // 先清空页面
            tianshi.innerHTML = '';
            // 不改变原数组
            let tpArr3 = [];
            // console.log(tianshiArr);
            for (let i = 0; i < tianshiArr.length; i++) {
                tpArr3[i] = tianshiArr[i];
            }
            // console.log(tpArr3);

            for (let i = 0; i < tpArr3.length; i++) {
                // 排序
                // tpArr3[i].content.sort(function (a, b) {
                //     return b - a;
                // });
                // 创建 dl
                let dl = document.createElement('dl');
                // 创建 dt
                let dt = document.createElement('dt');
                dt.innerHTML = tpArr3[i].title;


                let btn = deleteItemBtn(tpArr3[i].title);

                // 给每个条目添加删除按钮
                // let btn = document.createElement('button');
                // btn.innerHTML = '删除';
                // btn.className = 'delete-item';
                // btn.disabled = true;

                dl.appendChild(btn);


                dl.appendChild(dt);
                // 创建 dd
                for (let j = 0; j < tpArr3[i].content.length; j++) {
                    let dd = document.createElement('dd');
                    dd.innerHTML = tpArr3[i].content[j];
                    dl.appendChild(dd);
                }
                tianshi.appendChild(dl);


                let index = questionArr.indexOf(tpArr3[i].title);
                // tianshi.children[index].children[0].addEventListener('click', function () {
                //     tianshiArr = JSON.parse(localStorage.getItem('tianshiArr')) || [];
                //     questionArr = JSON.parse(localStorage.getItem('questionArr')) || [];
                //     // let itemIndex = this.getAttribute('item');
                //     // let index = questionArr.indexOf(tpArr3[i].title);
                //     // console.log(tianshiArr[index].title);
                //     tianshiArr = tianshiArr.filter((v, i) => i != index);
                //     questionArr = questionArr.filter((v, i) => i != index);
                //     // console.log(title);
                //     localStorage.setItem('tianshiArr', JSON.stringify(tianshiArr));
                //     localStorage.setItem('questionArr', JSON.stringify(questionArr));
                //     order3.click();

                //     delbtns = document.querySelectorAll('.delete-item');
                //     // console.log(delbtns);
                //     for (let i = 0; i < delbtns.length; i++) {
                //         delbtns[i].disabled = chooseBtn.disabled || chooseBtn2.disabled;
                //     }
                // });

            }


            delbtns = document.querySelectorAll('.delete-item');
            // console.log(delbtns);
            for (let i = 0; i < delbtns.length; i++) {
                delbtns[i].disabled = chooseBtn.disabled || chooseBtn2.disabled;
            }
        });
        order3.click();


        // 提取次数
        let tiquResTimes = localStorage.getItem('tiquResTimes') || 0;
        // 分析次数
        let fenxiResTimes = localStorage.getItem('fenxiResTimes') || 0;
        // 提取结果
        let tiquRes = localStorage.getItem('tiquRes') || '';
        // 分析结果
        let fenxiRes = localStorage.getItem('fenxiRes') || '';

        // 放在生成功能上方
        // 结果 提取 按钮
        // let resTiquBtn = document.querySelector('.res-tiqu-btn');
        // 结果 分析 按钮
        // let resFenxiBtn = document.querySelector('.res-fenxi-btn');

        // 结果 提取窗口
        let tiquBoxRes = document.querySelector('.tiqu-box-res');
        // 提取窗口中的清空按钮
        let tiquBoxClear = document.querySelector('.tiqu-box-res-btn-clear');
        // 提取窗口中的关闭按钮
        let tiquBoxClose = document.querySelector('.tiqu-box-res-btn-close');
        // 提取窗口中的文本域
        let tiquBoxTxt = document.querySelector('.tiqu-box-res-textarea');

        // 结果 分析窗口
        let fenxiBoxRes = document.querySelector('.fenxi-box-res');
        // 分析窗口中的清空按钮
        let fenxiBoxClear = document.querySelector('.fenxi-box-res-btn-clear');
        // 分析窗口中的关闭按钮
        let fenxiBoxClose = document.querySelector('.fenxi-box-res-btn-close');
        // 提取窗口中的文本域
        let fenxiBoxTxt = document.querySelector('.fenxi-box-res-textarea');


        // 初始化提取结果和分析结果
        tiquBoxTxt.value = tiquRes;
        fenxiBoxTxt.value = fenxiRes;



        // 关闭窗口
        tiquBoxClose.addEventListener('click', function () {
            pageMask.style.display = 'none';
            tiquBoxRes.style.display = 'none';
        });
        fenxiBoxClose.addEventListener('click', function () {
            pageMask.style.display = 'none';
            fenxiBoxRes.style.display = 'none';
        });

        // 清空页面、字符串、次数
        tiquBoxClear.addEventListener('click', function () {
            tiquBoxTxt.value = '';
            localStorage.removeItem('tiquRes');
            localStorage.removeItem('tiquResTimes');
        });
        fenxiBoxClear.addEventListener('click', function () {
            fenxiBoxTxt.value = '';
            localStorage.removeItem('fenxiRes');
            localStorage.removeItem('fenxiResTimes');
        });




        /*
            提取、分析功能：不影响源数组
            点击生成按钮 --- res --- 本地 --- 还原、页面初始展示
            点击生成按钮 --- tianshiArr[{title,content}] --- 本地 --- 排序、提取、分析
     
            选择 tianshiArr[{title,content}] 更合适，不影响源数组
            提取 --- tiquResArr
            分析 --- fenxiResArr
        */

        // 提取功能
        resTiquBtn.addEventListener('click', function () {
            // if (tianshi.innerHTML.trim() === '' || tianshiArr.length === 0) {
            //     // alert('没有需要排序的内容');
            //     pageMask2.style.display = 'block';
            //     tipBox.style.display = 'block';
            //     tipContent.innerHTML = '没有需要提取的内容';
            //     return;
            // }



            tianshiArr = JSON.parse(localStorage.getItem('tianshiArr')) || [];
            // 提取次数
            tiquResTimes = localStorage.getItem('tiquResTimes') || 0;
            // 提取结果
            tiquRes = localStorage.getItem('tiquRes') || '';



            // 显示遮罩、提取窗口
            pageMask.style.display = 'block';
            tiquBoxRes.style.display = 'block';


            if (tianshi.innerHTML.trim() === '' || tianshiArr.length === 0) {
                return;
            }


            tiquResTimes++;


            // 不改变原数组
            let tpArr = [];
            for (let i = 0; i < tianshiArr.length; i++) {
                tpArr[i] = tianshiArr[i];
            }

            // 存储提取结果
            // ===============
            // ******************************
            let strRes = '';
            strRes += '第 ' + tiquResTimes + ' 次提取：\n- 时间：[' + year + '-' + month + '-' + day + ' ' + hours + ':' + minutes + ':' + seconds + ']' + '\n';

            for (let i = 0; i < tpArr.length; i++) {
                strRes += '- 标题：' + tpArr[i].title + '\n- 内容：| ';
                for (let j = 0; j < tpArr[i].content.length; j++) {
                    strRes += tpArr[i].content[j] + ' | ';
                }
                strRes += '\n';
            }
            strRes += '\n\n';

            // 将结果提取到提取字符串
            tiquRes += strRes;
            tiquBoxTxt.value = tiquRes;

            localStorage.setItem('tiquResTimes', tiquResTimes);
            localStorage.setItem('tiquRes', tiquRes);
        });

        // 分析功能
        resFenxiBtn.addEventListener('click', function () {
            // if (tianshi.innerHTML.trim() === '' || tianshiArr.length === 0) {
            //     // alert('没有需要排序的内容');
            //     pageMask2.style.display = 'block';
            //     tipBox.style.display = 'block';
            //     tipContent.innerHTML = '没有需要排序的内容';
            //     return;
            // }



            tianshiArr = JSON.parse(localStorage.getItem('tianshiArr')) || [];
            // 提取次数
            fenxiResTimes = localStorage.getItem('fenxiResTimes') || 0;
            // 提取结果
            fenxiRes = localStorage.getItem('fenxiRes') || '';



            // 显示遮罩、提取窗口
            pageMask.style.display = 'block';
            fenxiBoxRes.style.display = 'block';


            if (tianshi.innerHTML.trim() === '' || tianshiArr.length === 0) {
                return;
            }

            fenxiResTimes++;

            // 不改变原数组
            let tpArr = [];
            for (let i = 0; i < tianshiArr.length; i++) {
                tpArr[i] = tianshiArr[i];
            }

            // 存储提取结果
            // -----------------------
            // ******************************
            let strRes = '';
            strRes += '第 ' + fenxiResTimes + ' 次分析：\n- 时间：[' + year + '-' + month + '-' + day + ' ' + hours + ':' + minutes + ':' + seconds + ']' + '\n';

            for (let i = 0; i < tpArr.length; i++) {
                // 分析部分
                let tempFenxiArr = tongjiItemsTimes(tpArr[i].content);

                strRes += '- 标题：' + tpArr[i].title + '\n';
                strRes += '- 词条：共 ' + tpArr[i].content.length + ' 个\n';
                strRes += '- 分析：共 ' + tempFenxiArr.length + ' 个不重复词条\n';


                // console.log('@@@', tempFenxiArr);
                for (let k = 0; k < tempFenxiArr.length; k++) {
                    // strRes += '\t    '+ '[ 出现过 ' +  tempFenxiArr[k].num + ' 次 ' + tempFenxiArr[k].title +' ]\n';
                    strRes += '\t    ' + ' 出现 ' + tempFenxiArr[k].num + ' 次：' + tempFenxiArr[k].title + '\n';
                }

                strRes += '- 内容：| ';

                // 内容部分
                for (let j = 0; j < tpArr[i].content.length; j++) {
                    strRes += tpArr[i].content[j] + ' | ';
                }
                strRes += '\n';
            }
            strRes += '\n\n';

            // 将结果提取到提取字符串
            fenxiRes += strRes;
            fenxiBoxTxt.value = fenxiRes;

            localStorage.setItem('fenxiResTimes', fenxiResTimes);
            localStorage.setItem('fenxiRes', fenxiRes);
        });



    </script>


    <!-- 内容1和2：增加 批量录入 提取功能 功能 -->
    <script>
        /*
            1.点击 批量录入 按钮，显示对应的录入窗口
            2.窗口有3个按钮：追加录入、重新录入、关闭窗口
            追加录入：
                判断是否只有：空格、逗号、回车符、Tab符
                获取原始数组：1.通过页面 2.通过本地存储
                将录入内容转为数组，追加到原始数组
                    从 Excel 中复制过来的数据，分隔符为：回车符、Tab符
                    其它分隔符：逗号
                渲染页面，每个 input 框都有：回车事件、删除事件
                设置本地存储
            重新录入：
                判断是否只有：空格、逗号、回车符、Tab符
                将录入内容转为数组，替换原始数组
                    从 Excel 中复制过来的数据，分隔符为：回车符、Tab符
                    其它分隔符：逗号
                渲染页面，每个 input 框都有：回车事件、删除事件
                设置本地存储
            关闭窗口：关闭对应的录入窗口
        */
        // 获取 批量录入 按钮
        let piliangBtn1 = document.querySelector('.piliang-btn1');
        let piliangBtn2 = document.querySelector('.piliang-btn2');
        // 获取遮罩层
        // let pageMask = document.querySelector('.page-mask');
        // 获取对应的录入窗口
        let inputBox1 = document.querySelector('.input-box');
        let inputBox2 = document.querySelector('.input-box2');
        // 点击批量录入按钮，显示对应的录入窗口
        piliangBtn1.addEventListener('click', function () {
            pageMask.style.display = 'block';
            inputBox1.style.display = 'block';
        });
        piliangBtn2.addEventListener('click', function () {
            pageMask.style.display = 'block';
            inputBox2.style.display = 'block';
        });

        // 追加录入按钮
        let inputBoxBtnAdd1 = document.querySelector('.input-box-btn-add');
        let inputBoxBtnAdd2 = document.querySelector('.input-box2-btn-add');
        // 重新录入按钮
        let inputBoxBtnReplace1 = document.querySelector('.input-box-btn-replace');
        let inputBoxBtnReplace2 = document.querySelector('.input-box2-btn-replace');


        // 批量录入中的文本域
        let inputBoxTextarea1 = document.querySelector('.input-box-textarea');
        let inputBoxTextarea2 = document.querySelector('.input-box2-textarea');

        // 进入页面从本地存储中加载保存的内容
        inputBoxTextarea1.value = localStorage.getItem('piliang-caogao1') || '';
        inputBoxTextarea2.value = localStorage.getItem('piliang-caogao2') || '';

        // 每 5 秒存储一次内容到本地存储
        setInterval(() => {
            localStorage.setItem('piliang-caogao1', inputBoxTextarea1.value);
            localStorage.setItem('piliang-caogao2', inputBoxTextarea2.value);
        }, 5000);

        // 追加录入
        inputBoxBtnAdd1.addEventListener('click', function () {
            // 文本域
            let tempInputContent = inputBoxTextarea1.value;
            if (tempInputContent.trim() === '') {
                // alert('请输入内容');
                pageMask2.style.display = 'block';
                tipBox.style.display = 'block';
                tipContent.innerHTML = '请输入内容';
                return;
            }

            // 获取原始数组：1.通过页面 2.通过本地存储
            let preArr = JSON.parse(localStorage.getItem('xuan1arr')) || [];
            // console.log(preArr);

            // 将录入内容转为数组，追加到原始数组
            // 从 Excel 中复制过来的数据，分隔符为：回车符、Tab符
            // 其它分隔符：逗号、空格
            let nowArr = tempInputContent.replace(/\s+|\n+|\t+|,|，|;|；|&|、|\||\/|\\/g, ',').split(',');
            // console.log(nowArr);

            // 遍历生成的数组，追加到原始数组
            // 开始元素和末尾元素都是 ''
            for (let i = 0; i < nowArr.length; i++) {
                if (nowArr[i].trim() !== '') {
                    preArr.push(nowArr[i].slice(0, 4));
                }
            }
            // console.log(preArr);

            // 渲染页面，每个 input 框都有：回车事件、删除事件
            ul.innerHTML = '';
            for (let i = 0; i < preArr.length; i++) {
                // 创建 li
                let li = document.createElement('li');
                // 创建 input
                let input = document.createElement('input');
                input.type = 'text';
                input.maxLength = '4';
                input.placeholder = '限4个字';
                input.value = preArr[i];
                // 新增的 input 都添加 blur 事件
                input.addEventListener('blur', function () {
                    // 每个 input 失去焦点时，重新更新数组
                    for (let i = 0; i < ul.children.length; i++) {
                        // if (ul2.children[i].children[0].value != '') {
                        xuan1arr[i] = ul.children[i].children[0].value;
                        // }
                    }
                    localStorage.setItem('xuan1arr', JSON.stringify(xuan1arr));
                });
                // 添加 input
                li.appendChild(input);
                // 添加 li
                ul.appendChild(li);
            }


            // 更新必填1中 input 的数量
            inputs = document.querySelectorAll('.xuan1 input');


            // 取消全部 input 的 回车事件
            for (let i = 0; i < ul.children.length; i++) {
                ul.children[i].children[0].removeEventListener('keydown', handle);
            }
            // 只给最后一个 input 添加 回车事件
            ul.children[ul.children.length - 1].children[0].addEventListener('keydown', handle);
            // console.log('添加后li数量', ul.children.length);

            // 获取删除按钮
            for (let i = 0; i < ul.children.length; i++) {
                ul.children[i].children[0].addEventListener('keydown', function (e) {
                    if (this.value === '') {
                        if (e.key === 'Delete' || e.key === 'Backspace') {
                            if (ul.children.length === 1) {
                                let tim = setTimeout(function () {
                                    ul.children[0].children[0].focus();
                                    clearTimeout(tim);
                                }, 0);
                                return;
                            }

                            // 删除父元素 li
                            this.parentNode.remove();
                            // console.log('删除后li数量', ul.children.length);

                            // 更新必填1中 input 的数量
                            inputs = document.querySelectorAll('.xuan1 input');
                            // 取消全部 input 的 回车事件
                            for (let i = 0; i < ul.children.length; i++) {
                                ul.children[i].children[0].removeEventListener('keydown', handle2);
                            }
                            // 只给最后一个 input 添加 回车事件
                            ul.children[ul.children.length - 1].children[0].addEventListener('keydown', handle2);

                            // 清空数组，重新添加
                            xuan1arr = [];
                            for (let i = 0; i < ul.children.length; i++) {
                                // if (ul2.children[i].children[0].value != '') {
                                xuan1arr[i] = ul.children[i].children[0].value;
                                // }
                            }

                            // 上下键功能
                            fangxiang(ul);

                            localStorage.setItem('xuan1arr', JSON.stringify(xuan1arr));
                        }
                    }
                });
            }



            // 上下键功能
            fangxiang(ul);


            // input 的 focus 事件
            // 主题1中所有 input 的 focus 事件 (部分情景下 blur 事件被占用)
            // input 每次获取焦点后，重新为主题1中所有的 input 添加键盘删除事件
            for (let i = 0; i < ul.children.length; i++) {
                ul.children[i].children[0].addEventListener('focus', function (e) {
                    for (let i = 0; i < ul.children.length; i++) {
                        ul.children[i].children[0].addEventListener('keydown', function (e) {

                            if (e.key === 'Delete' || e.key === 'Backspace') {
                                if (this.value === '') {
                                    if (ul.children.length === 1) {
                                        let tim = setTimeout(function () {
                                            ul.children[0].children[0].focus();
                                            clearTimeout(tim);
                                        }, 0);
                                        return;
                                    }

                                    // 删除父元素 li
                                    this.parentNode.remove();

                                    if (i > 0 && ul.children[i - 1]) {
                                        let t1 = setTimeout(() => {
                                            ul.children[i - 1].children[0].focus();
                                            clearTimeout(t1);
                                        }, 0);
                                    }


                                    if (i <= 0 || !ul.children[i - 1]) {
                                        let t2 = setTimeout(() => {
                                            ul.children[0].children[0].focus();
                                            clearTimeout(t2);
                                        }, 0);
                                    }

                                    // console.log('删除后li数量', ul.children.length);
                                    for (let i = 0; i < ul.children.length; i++) {
                                        ul.children[i].children[0].removeEventListener('keydown', handle);
                                    }
                                    ul.children[ul.children.length - 1].children[0].addEventListener('keydown', handle);

                                    xuan1arr = [];
                                    for (let i = 0; i < ul.children.length; i++) {
                                        // if (ul.children[i].children[0].value != '') {
                                        xuan1arr[i] = ul.children[i].children[0].value;
                                        // }
                                    }
                                    localStorage.setItem('xuan1arr', JSON.stringify(xuan1arr));

                                    // 上下键功能
                                    fangxiang(ul);
                                } else {
                                    let t3 = setTimeout(() => {
                                        this.value = '';
                                        clearTimeout(t3);
                                    }, 0);
                                }
                            }
                        });
                    }

                });
            }



            // 设置本地存储
            localStorage.setItem('xuan1arr', JSON.stringify(preArr));
            localStorage.setItem('piliang-caogao1', inputBoxTextarea1.value);
        });

        inputBoxBtnAdd2.addEventListener('click', function () {
            // 文本域
            let tempInputContent = inputBoxTextarea2.value;
            if (tempInputContent.trim() === '') {
                // alert('请输入内容');
                pageMask2.style.display = 'block';
                tipBox.style.display = 'block';
                tipContent.innerHTML = '请输入内容';
                return;
            }

            // 获取原始数组：1.通过页面 2.通过本地存储
            let preArr = JSON.parse(localStorage.getItem('xuan2arr')) || [];
            // console.log(preArr);

            // 将录入内容转为数组，追加到原始数组
            // 从 Excel 中复制过来的数据，分隔符为：回车符、Tab符
            // 其它分隔符：逗号、空格
            let nowArr = tempInputContent.replace(/\s+|\n+|\t+|,|，|;|；|&|、|\||\/|\\/g, ',').split(',');
            // console.log(nowArr);

            // 遍历生成的数组，追加到原始数组
            // 开始元素和末尾元素都是 ''
            for (let i = 0; i < nowArr.length; i++) {
                if (nowArr[i].trim() !== '') {
                    preArr.push(nowArr[i].slice(0, 4));
                }
            }
            // console.log(preArr);

            // 渲染页面，每个 input 框都有：回车事件、删除事件
            ul2.innerHTML = '';
            for (let i = 0; i < preArr.length; i++) {
                // 创建 li
                let li = document.createElement('li');
                // 创建 input
                let input = document.createElement('input');
                input.type = 'text';
                input.maxLength = '4';
                input.placeholder = '限4个字';
                input.value = preArr[i];
                // 新增的 input 都添加 blur 事件
                input.addEventListener('blur', function () {
                    // 每个 input 失去焦点时，重新更新数组
                    for (let i = 0; i < ul2.children.length; i++) {
                        // if (ul2.children[i].children[0].value != '') {
                        xuan2arr[i] = ul2.children[i].children[0].value;
                        // }
                    }
                    localStorage.setItem('xuan2arr', JSON.stringify(xuan2arr));
                });
                // 添加 input
                li.appendChild(input);
                // 添加 li
                ul2.appendChild(li);
            }


            // 更新必填2中 input 的数量
            inputs2 = document.querySelectorAll('.xuan2 input');


            // 取消全部 input 的 回车事件
            for (let i = 0; i < ul2.children.length; i++) {
                ul2.children[i].children[0].removeEventListener('keydown', handle2);
            }
            // 只给最后一个 input 添加 回车事件
            ul2.children[ul2.children.length - 1].children[0].addEventListener('keydown', handle2);
            // console.log('添加后li2数量', ul2.children.length);

            // 获取删除按钮
            for (let i = 0; i < ul2.children.length; i++) {
                ul2.children[i].children[0].addEventListener('keydown', function (e) {
                    if (this.value === '') {
                        if (e.key === 'Delete' || e.key === 'Backspace') {
                            if (ul2.children.length === 1) {
                                let tim = setTimeout(function () {
                                    ul2.children[0].children[0].focus();
                                    clearTimeout(tim);
                                }, 0);
                                return;
                            }

                            // 删除父元素 li
                            this.parentNode.remove();
                            // console.log('删除后li2数量', ul2.children.length);

                            // 更新必填2中 input 的数量
                            inputs2 = document.querySelectorAll('.xuan2 input');
                            // 取消全部 input 的 回车事件
                            for (let i = 0; i < ul2.children.length; i++) {
                                ul2.children[i].children[0].removeEventListener('keydown', handle2);
                            }
                            // 只给最后一个 input 添加 回车事件
                            ul2.children[ul2.children.length - 1].children[0].addEventListener('keydown', handle2);

                            // 清空数组，重新添加
                            xuan2arr = [];
                            for (let i = 0; i < ul2.children.length; i++) {
                                // if (ul2.children[i].children[0].value != '') {
                                xuan2arr[i] = ul2.children[i].children[0].value;
                                // }
                            }

                            // 上下键功能
                            fangxiang(ul2);

                            localStorage.setItem('xuan2arr', JSON.stringify(xuan2arr));
                        }
                    }
                });
            }


            // 上下键功能
            fangxiang(ul2);


            // input 的 focus 事件
            // 主题1中所有 input 的 focus 事件 (部分情景下 blur 事件被占用)
            // input 每次获取焦点后，重新为主题1中所有的 input 添加键盘删除事件
            for (let i = 0; i < ul2.children.length; i++) {
                ul2.children[i].children[0].addEventListener('focus', function (e) {
                    for (let i = 0; i < ul2.children.length; i++) {
                        ul2.children[i].children[0].addEventListener('keydown', function (e) {

                            if (e.key === 'Delete' || e.key === 'Backspace') {
                                if (this.value === '') {
                                    if (ul2.children.length === 1) {
                                        let tim = setTimeout(function () {
                                            ul2.children[0].children[0].focus();
                                            clearTimeout(tim);
                                        }, 0);
                                        return;
                                    }

                                    // 删除父元素 li
                                    this.parentNode.remove();

                                    if (i > 0 && ul2.children[i - 1]) {
                                        let t1 = setTimeout(() => {
                                            ul2.children[i - 1].children[0].focus();
                                            clearTimeout(t1);
                                        }, 0);
                                    }


                                    if (i <= 0 || !ul2.children[i - 1]) {
                                        let t2 = setTimeout(() => {
                                            ul2.children[0].children[0].focus();
                                            clearTimeout(t2);
                                        }, 0);
                                    }

                                    // console.log('删除后li2数量', ul2.children.length);
                                    for (let i = 0; i < ul2.children.length; i++) {
                                        ul2.children[i].children[0].removeEventListener('keydown', handle2);
                                    }
                                    ul2.children[ul2.children.length - 1].children[0].addEventListener('keydown', handle2);

                                    xuan2arr = [];
                                    for (let i = 0; i < ul2.children.length; i++) {
                                        // if (ul.children[i].children[0].value != '') {
                                        xuan2arr[i] = ul2.children[i].children[0].value;
                                        // }
                                    }
                                    localStorage.setItem('xuan2arr', JSON.stringify(xuan2arr));

                                    // 上下键功能
                                    fangxiang(ul2);
                                } else {
                                    let t3 = setTimeout(() => {
                                        this.value = '';
                                        clearTimeout(t3);
                                    }, 0);
                                }
                            }
                        });
                    }

                });
            }




            // 设置本地存储
            localStorage.setItem('xuan2arr', JSON.stringify(preArr));
            localStorage.setItem('piliang-caogao2', inputBoxTextarea2.value);
        });


        // 重新录入
        inputBoxBtnReplace1.addEventListener('click', function () {

            // 文本域
            let tempInputContent = inputBoxTextarea1.value;
            if (tempInputContent.trim() === '') {
                // alert('请输入内容');
                pageMask2.style.display = 'block';
                tipBox.style.display = 'block';
                tipContent.innerHTML = '请输入内容';
                return;
            }

            localStorage.removeItem('xuan1arr');

            // 将录入内容转为数组，替换原始数组
            // 从 Excel 中复制过来的数据，分隔符为：回车符、Tab符
            // 其它分隔符：逗号、空格
            let nowArr = tempInputContent.replace(/\s+|\n+|\t+|,|，|;|；|&|、|\||\/|\\/g, ',').split(',');
            for (let i = 0; i < nowArr.length; i++) {
                nowArr[i] = nowArr[i].slice(0, 4);
            }
            nowArr = nowArr.filter((value, index) => {
                return value.trim() != '';
            });
            // console.log(nowArr);


            // 遍历生成的数组，替换原始数组
            // 渲染页面，每个 input 框都有：回车事件、删除事件
            ul.innerHTML = '';
            for (let i = 0; i < nowArr.length; i++) {
                if (nowArr[i].trim() !== '') {
                    // 创建 li
                    let li = document.createElement('li');
                    // 创建 input
                    let input = document.createElement('input');
                    input.type = 'text';
                    input.maxLength = '4';
                    input.placeholder = '限4个字';
                    input.value = nowArr[i];
                    // 新增的 input 都添加 blur 事件
                    input.addEventListener('blur', function () {
                        // 每个 input 失去焦点时，重新更新数组
                        for (let i = 0; i < ul.children.length; i++) {
                            // if (ul2.children[i].children[0].value != '') {
                            xuan1arr[i] = ul.children[i].children[0].value;
                            // }
                        }
                        localStorage.setItem('xuan1arr', JSON.stringify(xuan1arr));
                    });
                    // 添加 input
                    li.appendChild(input);
                    // 添加 li
                    ul.appendChild(li);
                }
            }


            // 更新必填1中 input 的数量
            inputs = document.querySelectorAll('.xuan1 input');


            // 取消全部 input 的 回车事件
            for (let i = 0; i < ul.children.length; i++) {
                ul.children[i].children[0].removeEventListener('keydown', handle);
            }
            // 只给最后一个 input 添加 回车事件
            ul.children[ul.children.length - 1].children[0].addEventListener('keydown', handle);
            // console.log('添加后li数量', ul.children.length);

            // 获取删除按钮
            for (let i = 0; i < ul.children.length; i++) {
                ul.children[i].children[0].addEventListener('keydown', function (e) {
                    if (this.value === '') {
                        if (e.key === 'Delete' || e.key === 'Backspace') {
                            if (ul.children.length === 1) {
                                let tim = setTimeout(function () {
                                    ul.children[0].children[0].focus();
                                    clearTimeout(tim);
                                }, 0);
                                return;
                            }

                            // 删除父元素 li
                            this.parentNode.remove();
                            // console.log('删除后li数量', ul.children.length);

                            // 更新必填1中 input 的数量
                            inputs = document.querySelectorAll('.xuan1 input');
                            // 取消全部 input 的 回车事件
                            for (let i = 0; i < ul.children.length; i++) {
                                ul.children[i].children[0].removeEventListener('keydown', handle);
                            }
                            // 只给最后一个 input 添加 回车事件
                            ul.children[ul.children.length - 1].children[0].addEventListener('keydown', handle);

                            // 清空数组，重新添加
                            xuan1arr = [];
                            for (let i = 0; i < ul.children.length; i++) {
                                // if (ul2.children[i].children[0].value != '') {
                                xuan1arr[i] = ul.children[i].children[0].value;
                                // }
                            }

                            // 上下键功能
                            fangxiang(ul);

                            localStorage.setItem('xuan1arr', JSON.stringify(xuan1arr));
                        }
                    }
                });
            }


            // 上下键功能
            fangxiang(ul);


            // input 的 focus 事件
            // 主题1中所有 input 的 focus 事件 (部分情景下 blur 事件被占用)
            // input 每次获取焦点后，重新为主题1中所有的 input 添加键盘删除事件
            for (let i = 0; i < ul.children.length; i++) {
                ul.children[i].children[0].addEventListener('focus', function (e) {
                    for (let i = 0; i < ul.children.length; i++) {
                        ul.children[i].children[0].addEventListener('keydown', function (e) {

                            if (e.key === 'Delete' || e.key === 'Backspace') {
                                if (this.value === '') {
                                    if (ul.children.length === 1) {
                                        let tim = setTimeout(function () {
                                            ul.children[0].children[0].focus();
                                            clearTimeout(tim);
                                        }, 0);
                                        return;
                                    }

                                    // 删除父元素 li
                                    this.parentNode.remove();

                                    if (i > 0 && ul.children[i - 1]) {
                                        let t1 = setTimeout(() => {
                                            ul.children[i - 1].children[0].focus();
                                            clearTimeout(t1);
                                        }, 0);
                                    }


                                    if (i <= 0 || !ul.children[i - 1]) {
                                        let t2 = setTimeout(() => {
                                            ul.children[0].children[0].focus();
                                            clearTimeout(t2);
                                        }, 0);
                                    }

                                    // console.log('删除后li数量', ul.children.length);
                                    for (let i = 0; i < ul.children.length; i++) {
                                        ul.children[i].children[0].removeEventListener('keydown', handle);
                                    }
                                    ul.children[ul.children.length - 1].children[0].addEventListener('keydown', handle);

                                    xuan1arr = [];
                                    for (let i = 0; i < ul.children.length; i++) {
                                        // if (ul.children[i].children[0].value != '') {
                                        xuan1arr[i] = ul.children[i].children[0].value;
                                        // }
                                    }
                                    localStorage.setItem('xuan1arr', JSON.stringify(xuan1arr));

                                    // 上下键功能
                                    fangxiang(ul);
                                } else {
                                    let t3 = setTimeout(() => {
                                        this.value = '';
                                        clearTimeout(t3);
                                    }, 0);
                                }
                            }
                        });
                    }

                });
            }



            // 设置本地存储
            localStorage.setItem('xuan1arr', JSON.stringify(nowArr));
            localStorage.setItem('piliang-caogao1', inputBoxTextarea1.value);
        });

        // console.log('3 ,3， 5 ;6 &4 ；3'.replace(/\s+|\n+|\t+|,|，|;|；|&/g, ',').split(','));

        inputBoxBtnReplace2.addEventListener('click', function () {

            // 文本域
            let tempInputContent = inputBoxTextarea2.value;
            if (tempInputContent.trim() === '') {
                // alert('请输入内容');
                pageMask2.style.display = 'block';
                tipBox.style.display = 'block';
                tipContent.innerHTML = '请输入内容';
                return;
            }

            localStorage.removeItem('xuan2arr');

            // 将录入内容转为数组，替换原始数组
            // 从 Excel 中复制过来的数据，分隔符为：回车符、Tab符
            // 其它分隔符：逗号、空格
            // 空格 换行符 制表符 逗号 分号 & 、| / \
            let nowArr = tempInputContent.replace(/\s+|\n+|\t+|,|，|;|；|&|、|\||\/|\\/g, ',').split(',');
            for (let i = 0; i < nowArr.length; i++) {
                nowArr[i] = nowArr[i].slice(0, 4);
            }

            nowArr = nowArr.filter((value, index) => {
                return value.trim() != '';
            });


            // console.log(nowArr);

            // 遍历生成的数组，替换原始数组
            // 渲染页面，每个 input 框都有：回车事件、删除事件
            ul2.innerHTML = '';
            for (let i = 0; i < nowArr.length; i++) {
                if (nowArr[i].trim() !== '') {
                    // 创建 li
                    let li = document.createElement('li');
                    // 创建 input
                    let input = document.createElement('input');
                    input.type = 'text';
                    input.maxLength = '4';
                    input.placeholder = '限4个字';
                    input.value = nowArr[i];
                    // 新增的 input 都添加 blur 事件
                    input.addEventListener('blur', function () {
                        // 每个 input 失去焦点时，重新更新数组
                        for (let i = 0; i < ul2.children.length; i++) {
                            // if (ul2.children[i].children[0].value != '') {
                            xuan2arr[i] = ul2.children[i].children[0].value;
                            // }
                        }
                        localStorage.setItem('xuan2arr', JSON.stringify(xuan2arr));
                    });
                    // 添加 input
                    li.appendChild(input);
                    // 添加 li
                    ul2.appendChild(li);
                }
            }


            // 更新必填1中 input 的数量
            inputs = document.querySelectorAll('.xuan2 input');


            // 取消全部 input 的 回车事件
            for (let i = 0; i < ul2.children.length; i++) {
                ul2.children[i].children[0].removeEventListener('keydown', handle2);
            }
            // 只给最后一个 input 添加 回车事件
            ul2.children[ul2.children.length - 1].children[0].addEventListener('keydown', handle2);
            // console.log('添加后li2数量', ul2.children.length);

            // 获取删除按钮
            for (let i = 0; i < ul2.children.length; i++) {
                ul2.children[i].children[0].addEventListener('keydown', function (e) {
                    if (this.value === '') {
                        if (e.key === 'Delete' || e.key === 'Backspace') {
                            if (ul2.children.length === 1) {
                                let tim = setTimeout(function () {
                                    ul2.children[0].children[0].focus();
                                    clearTimeout(tim);
                                }, 0);
                                return;
                            }

                            // 删除父元素 li
                            this.parentNode.remove();
                            // console.log('删除后li2数量', ul2.children.length);

                            // 更新必填1中 input 的数量
                            inputs = document.querySelectorAll('.xuan2 input');
                            // 取消全部 input 的 回车事件
                            for (let i = 0; i < ul2.children.length; i++) {
                                ul2.children[i].children[0].removeEventListener('keydown', handle2);
                            }
                            // 只给最后一个 input 添加 回车事件
                            ul2.children[ul2.children.length - 1].children[0].addEventListener('keydown', handle2);

                            // 清空数组，重新添加
                            xuan2arr = [];
                            for (let i = 0; i < ul2.children.length; i++) {
                                // if (ul2.children[i].children[0].value != '') {
                                xuan2arr[i] = ul2.children[i].children[0].value;
                                // }
                            }

                            // 上下键功能
                            fangxiang(ul2);

                            localStorage.setItem('xuan2arr', JSON.stringify(xuan2arr));
                        }
                    }
                });
            }

            // 上下键功能
            fangxiang(ul2);


            // input 的 focus 事件
            // 主题1中所有 input 的 focus 事件 (部分情景下 blur 事件被占用)
            // input 每次获取焦点后，重新为主题1中所有的 input 添加键盘删除事件
            for (let i = 0; i < ul2.children.length; i++) {
                ul2.children[i].children[0].addEventListener('focus', function (e) {
                    for (let i = 0; i < ul2.children.length; i++) {
                        ul2.children[i].children[0].addEventListener('keydown', function (e) {

                            if (e.key === 'Delete' || e.key === 'Backspace') {
                                if (this.value === '') {
                                    if (ul2.children.length === 1) {
                                        let tim = setTimeout(function () {
                                            ul2.children[0].children[0].focus();
                                            clearTimeout(tim);
                                        }, 0);
                                        return;
                                    }

                                    // 删除父元素 li
                                    this.parentNode.remove();

                                    if (i > 0 && ul2.children[i - 1]) {
                                        let t1 = setTimeout(() => {
                                            ul2.children[i - 1].children[0].focus();
                                            clearTimeout(t1);
                                        }, 0);
                                    }


                                    if (i <= 0 || !ul2.children[i - 1]) {
                                        let t2 = setTimeout(() => {
                                            ul2.children[0].children[0].focus();
                                            clearTimeout(t2);
                                        }, 0);
                                    }

                                    // console.log('删除后li2数量', ul2.children.length);
                                    for (let i = 0; i < ul2.children.length; i++) {
                                        ul2.children[i].children[0].removeEventListener('keydown', handle2);
                                    }
                                    ul2.children[ul2.children.length - 1].children[0].addEventListener('keydown', handle2);

                                    xuan2arr = [];
                                    for (let i = 0; i < ul2.children.length; i++) {
                                        // if (ul.children[i].children[0].value != '') {
                                        xuan2arr[i] = ul2.children[i].children[0].value;
                                        // }
                                    }
                                    localStorage.setItem('xuan2arr', JSON.stringify(xuan2arr));

                                    // 上下键功能
                                    fangxiang(ul2);
                                } else {
                                    let t3 = setTimeout(() => {
                                        this.value = '';
                                        clearTimeout(t3);
                                    }, 0);
                                }
                            }
                        });
                    }

                });
            }




            // 设置本地存储
            localStorage.setItem('xuan2arr', JSON.stringify(nowArr));
            localStorage.setItem('piliang-caogao2', inputBoxTextarea2.value);
        });


        // 清空内容
        let inputBoxBtnClear1 = document.querySelector('.input-box-btn-clear');
        let inputBoxBtnClear2 = document.querySelector('.input-box2-btn-clear');
        // 点击按钮情况窗口中的内容和本地存储中的内容
        inputBoxBtnClear1.addEventListener('click', function () {
            inputBoxTextarea1.value = '';
            localStorage.removeItem('piliang-caogao1');
        });
        inputBoxBtnClear2.addEventListener('click', function () {
            inputBoxTextarea2.value = '';
            localStorage.removeItem('piliang-caogao2');
        });

        // 关闭窗口按钮
        let inputBoxBtnClose1 = document.querySelector('.input-box-btn-close');
        let inputBoxBtnClose2 = document.querySelector('.input-box2-btn-close');
        // 点击关闭窗口按钮，关闭窗口
        inputBoxBtnClose1.addEventListener('click', function () {
            pageMask.style.display = 'none';
            inputBox1.style.display = 'none';
            localStorage.setItem('piliang-caogao1', inputBoxTextarea1.value);
        });
        inputBoxBtnClose2.addEventListener('click', function () {
            pageMask.style.display = 'none';
            inputBox2.style.display = 'none';
            localStorage.setItem('piliang-caogao2', inputBoxTextarea2.value);
        });


        // 提取按钮
        let tiquBtn1 = document.querySelector('.tiqu-btn1');
        let tiquBtn2 = document.querySelector('.tiqu-btn2');
        // 收集内容的盒子
        let tiquBox1 = document.querySelector('.tiqu-box1');
        let tiquBox2 = document.querySelector('.tiqu-box2');
        // 文本域
        let tiquText1 = document.querySelector('.tiqu-box1-textarea');
        let tiquText2 = document.querySelector('.tiqu-box2-textarea');
        // 关闭按钮
        let tiquClose1 = document.querySelector('.tiqu-box1-btn-close');
        let tiquClose2 = document.querySelector('.tiqu-box2-btn-close');

        // 所有提取的内容
        // let tiquArr1 = JSON.parse(localStorage.getItem('tiquArr1')) || [];
        // let tiquArr2 = JSON.parse(localStorage.getItem('tiquArr2')) || [];
        let tiquStr1 = localStorage.getItem('tiquStr1') || '';
        let tiquStr2 = localStorage.getItem('tiquStr2') || '';
        // 提取次数
        let tiquNum1 = localStorage.getItem('tiquNum1') || 0;
        let tiquNum2 = localStorage.getItem('tiquNum2') || 0;


        // 点击提取按钮，显示窗口，将内容展示
        tiquBtn1.addEventListener('click', function () {
            // tiquArr1 = JSON.parse(localStorage.getItem('tiquArr1')) || [];
            tiquStr1 = localStorage.getItem('tiquStr1') || '';

            pageMask.style.display = 'block';
            tiquBox1.style.display = 'block';
            if (ul.children.length <= 1 && ul.children[0].children[0].value.trim() === '') {
                return;
            }
            // let arr = [];
            tiquNum1 = localStorage.getItem('tiquNum1') || 0;
            tiquNum1++;

            // tiquArr1.push('第' + tiquNum1 + '次提取：\n');
            // for (let i = 0; i < ul.children.length; i++) {
            //     tiquArr1.push(ul.children[i].children[0].value);
            // }
            // tiquArr1.push('\n\n');
            // let str = tiquArr1.join(' ');
            // tiquText1.value = str;

            tiquStr1 += '第 ' + tiquNum1 + ' 次提取：\n- 时间：[' + year + '-' + month + '-' + day + ' ' + hours + ':' + minutes + ':' + seconds + ']' + '\n';
            tiquStr1 += '- 标题：' + document.querySelector('.question input').value + '\n- 内容：| ';
            for (let i = 0; i < ul.children.length; i++) {
                if (ul.children[i].children[0].value.trim() != '') {
                    tiquStr1 += ul.children[i].children[0].value.trim() + ' | ';
                }
            }
            tiquStr1 += '\n\n\n';
            tiquText1.value = tiquStr1;


            localStorage.setItem('tiquNum1', tiquNum1);
            // localStorage.setItem('tiquArr1', JSON.stringify(tiquArr1));
            localStorage.setItem('tiquStr1', tiquStr1);
        });
        tiquBtn2.addEventListener('click', function () {
            // tiquArr2 = JSON.parse(localStorage.getItem('tiquArr2')) || [];
            tiquStr2 = localStorage.getItem('tiquStr2') || '';

            pageMask.style.display = 'block';
            tiquBox2.style.display = 'block';
            if (ul2.children.length <= 1 && ul2.children[0].children[0].value.trim() === '') {
                return;
            }
            // let arr = [];
            tiquNum2 = localStorage.getItem('tiquNum2') || 0;
            tiquNum2++;

            // tiquArr2.push('第' + tiquNum2 + '次提取：\n');
            // for (let i = 0; i < ul2.children.length; i++) {
            //     tiquArr2.push(ul2.children[i].children[0].value);
            // }
            // tiquArr2.push('\n\n');
            // let str = tiquArr2.join(' ');
            // tiquText2.value = str;

            tiquStr2 += '第 ' + tiquNum2 + ' 次提取：\n- 时间：[' + year + '-' + month + '-' + day + ' ' + hours + ':' + minutes + ':' + seconds + ']' + '\n';
            tiquStr2 += '- 标题：' + document.querySelector('.question2 input').value + '\n- 内容：| ';
            for (let i = 0; i < ul2.children.length; i++) {
                if (ul2.children[i].children[0].value.trim() != '') {
                    tiquStr2 += ul2.children[i].children[0].value.trim() + ' | ';
                }
            }
            tiquStr2 += '\n\n\n';
            tiquText2.value = tiquStr2;

            localStorage.setItem('tiquNum2', tiquNum2);
            // localStorage.setItem('tiquArr2', JSON.stringify(tiquArr2));
            localStorage.setItem('tiquStr2', tiquStr2);
        });


        // 初始化
        tiquText1.value = localStorage.getItem('tiquStr1') || '';
        tiquText2.value = localStorage.getItem('tiquStr2') || '';


        // 清空按钮
        let tiquClear1 = document.querySelector('.tiqu-box1-btn-clear');
        let tiquClear2 = document.querySelector('.tiqu-box2-btn-clear');
        // 点击清空按钮
        // 文本域为空，清除提取次数、清除存储数组、清除草稿
        tiquClear1.addEventListener('click', function () {
            tiquText1.value = '';
            localStorage.removeItem('tiquNum1');
            // localStorage.removeItem('tiquArr1');
            localStorage.removeItem('tiquStr1');
            // localStorage.removeItem('tiqu1');
        });
        tiquClear2.addEventListener('click', function () {
            tiquText2.value = '';
            localStorage.removeItem('tiquNum2');
            // localStorage.removeItem('tiquArr2');
            localStorage.removeItem('tiquStr2');
            // localStorage.removeItem('tiqu2');
        });


        // 点击关闭窗口按钮，关闭窗口
        tiquClose1.addEventListener('click', function () {
            pageMask.style.display = 'none';
            tiquBox1.style.display = 'none';
            // localStorage.setItem('tiqu1', tiquText1.value);
        });
        tiquClose2.addEventListener('click', function () {
            pageMask.style.display = 'none';
            tiquBox2.style.display = 'none';
            // localStorage.setItem('tiqu2', tiquText2.value);
        });

    </script>


    <!-- 内容1和2：增加 分析 功能 -->
    <script>
        // 内容中的分析按钮
        let btnInputFenxi1 = document.querySelector('.btn-input-fenxi1');
        let btnInputFenxi2 = document.querySelector('.btn-input-fenxi2');
        // 内容的分析次数
        let content1fenxiNum = parseInt(localStorage.getItem('content1fenxiNum')) || 0;
        let content2fenxiNum = parseInt(localStorage.getItem('content2fenxiNum')) || 0;
        // 内容的分析内容
        let content1fenxiContent = localStorage.getItem('content1fenxiContent') || '';
        let content2fenxiContent = localStorage.getItem('content2fenxiContent') || '';

        // 初始化分析内容
        boxFenxiContent1Textarea.value = content1fenxiContent;
        boxFenxiContent2Textarea.value = content2fenxiContent;

        // 点击内容中的分析按钮，显示遮罩1和分析窗口，处理分析数据并显示
        btnInputFenxi1.addEventListener('click', function () {
            // 获取分析内容
            content1fenxiContent = localStorage.getItem('content1fenxiContent') || '';
            // 获取分析次数
            content1fenxiNum = parseInt(localStorage.getItem('content1fenxiNum')) || 0;
            // 获取需要分析的数组
            xuan1arr = JSON.parse(localStorage.getItem('xuan1arr')) || [];

            // 显示遮罩、分析窗口
            pageMask.style.display = 'block';
            boxFenxiContent1.style.display = 'block';

            // 如果只有一个 li 且没有内容，就返回
            if (ul.children.length <= 1 && ul.children[0].children[0].value.trim() === '') {
                return;
            }

            // 分析次数 + 1
            content1fenxiNum++;

            // 用于存储被分析的数组，不改变原数组
            let tpArr = [];
            for (let i = 0; i < xuan1arr.length; i++) {
                if (xuan1arr[i].trim() !== '') {
                    tpArr[i] = xuan1arr[i].trim();
                }
            }

            // 升序
            tpArr.sort(function (a, b) {
                return a - b;
            });

            // 存储分析后的数组
            // [{ title, num }] 内容title 出现次数num
            let tempFenxiArr = tongjiItemsTimes(tpArr);

            // 存储分析结果
            let strRes = '';

            // 开始分析，并存储到分析结果
            strRes += '第 ' + content1fenxiNum + ' 次分析：\n- 时间：[' + year + '-' + month + '-' + day + ' ' + hours + ':' + minutes + ':' + seconds + ']' + '\n';
            strRes += '- 词条：共 ' + tpArr.length + ' 个\n';
            strRes += '- 分析：共 ' + tempFenxiArr.length + ' 个不重复词条\n';
            for (let k = 0; k < tempFenxiArr.length; k++) {
                strRes += '\t    ' + ' 出现 ' + tempFenxiArr[k].num + ' 次：' + tempFenxiArr[k].title + '\n';
            }

            // 被分析的数组内容
            strRes += '- 内容：| ';
            for (let j = 0; j < tpArr.length; j++) {
                strRes += tpArr[j] + ' | ';
            }
            strRes += '\n\n\n';

            // 追加分析的所有内容
            content1fenxiContent += strRes;

            // 显示分析的所有内容
            boxFenxiContent1Textarea.value = content1fenxiContent;

            // 存储分析次数
            localStorage.setItem('content1fenxiNum', content1fenxiNum);
            // 存储分析的所有内容
            localStorage.setItem('content1fenxiContent', content1fenxiContent);
        });

        btnInputFenxi2.addEventListener('click', function () {
            // 获取分析内容
            content2fenxiContent = localStorage.getItem('content2fenxiContent') || '';
            // 获取分析次数
            content2fenxiNum = parseInt(localStorage.getItem('content2fenxiNum')) || 0;
            // 获取需要分析的数组
            xuan2arr = JSON.parse(localStorage.getItem('xuan2arr')) || [];

            // 显示遮罩、分析窗口
            pageMask.style.display = 'block';
            boxFenxiContent2.style.display = 'block';

            // 如果只有一个 li 且没有内容，就返回
            if (ul2.children.length <= 1 && ul2.children[0].children[0].value.trim() === '') {
                return;
            }

            // 分析次数 + 1
            content2fenxiNum++;

            // 用于存储被分析的数组，不改变原数组
            let tpArr = [];
            for (let i = 0; i < xuan2arr.length; i++) {
                if (xuan2arr[i].trim() !== '') {
                    tpArr[i] = xuan2arr[i].trim();
                }
            }

            // 升序
            tpArr.sort(function (a, b) {
                return a - b;
            });

            // 存储分析后的数组
            // [{ title, num }] 内容title 出现次数num
            let tempFenxiArr = tongjiItemsTimes(tpArr);

            // 存储分析结果
            let strRes = '';

            // 开始分析，并存储到分析结果
            strRes += '第 ' + content2fenxiNum + ' 次分析：\n- 时间：[' + year + '-' + month + '-' + day + ' ' + hours + ':' + minutes + ':' + seconds + ']' + '\n';
            strRes += '- 词条：共 ' + tpArr.length + ' 个\n';
            strRes += '- 分析：共 ' + tempFenxiArr.length + ' 个不重复词条\n';
            for (let k = 0; k < tempFenxiArr.length; k++) {
                strRes += '\t    ' + ' 出现 ' + tempFenxiArr[k].num + ' 次：' + tempFenxiArr[k].title + '\n';
            }

            // 被分析的数组内容
            strRes += '- 内容：| ';
            for (let j = 0; j < tpArr.length; j++) {
                strRes += tpArr[j] + ' | ';
            }
            strRes += '\n\n\n';

            // 追加分析的所有内容
            content2fenxiContent += strRes;

            // 显示分析的所有内容
            boxFenxiContent2Textarea.value = content2fenxiContent;

            // 存储分析次数
            localStorage.setItem('content2fenxiNum', content2fenxiNum);
            // 存储分析的所有内容
            localStorage.setItem('content2fenxiContent', content2fenxiContent);
        });




        // 点击内容中分析窗口中的清空按钮
        // 文本域为空，清除提取次数、清除存储数组、清除草稿
        btnClearFenxiContent1.addEventListener('click', function () {
            // 清空页面
            boxFenxiContent1Textarea.value = '';
            // 清除分析次数
            localStorage.removeItem('content1fenxiNum');
            // 清除分析结果
            localStorage.removeItem('content1fenxiContent');
        });
        btnClearFenxiContent2.addEventListener('click', function () {
            // 清空页面
            boxFenxiContent2Textarea.value = '';
            // 清除分析次数
            localStorage.removeItem('content2fenxiNum');
            // 清除分析结果
            localStorage.removeItem('content2fenxiContent');
        });


    </script>
</body>

</html>
